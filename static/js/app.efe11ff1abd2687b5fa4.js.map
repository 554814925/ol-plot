{"version":3,"sources":["webpack:///./package.json","webpack:///./example/assets/plots.json","webpack:///./src/components/color-picker/utils/popper/popper.js","webpack:///./example/map/source/Google.js","webpack:///./example/map/source/Baidu.js","webpack:///./example/map/layer/layerUtils.js","webpack:///example/components/control/LayerSwitcher.vue","webpack:///./example/components/control/LayerSwitcher.vue?55f8","webpack:///./example/components/control/LayerSwitcher.vue","webpack:///example/App.vue","webpack:///./example/App.vue?4224","webpack:///./example/App.vue","webpack:///./src/src/Constants.js","webpack:///./src/src/Utils/utils.js","webpack:///./src/src/Utils/layerUtils.js","webpack:///./src/src/Utils/domUtils.js","webpack:///./src/src/Geometry/Text/PlotTextBox.js","webpack:///./src/src/Utils/PlotTypes.js","webpack:///./src/src/Geometry/point/Point.js","webpack:///./src/src/Geometry/point/Pennant.js","webpack:///./src/src/Geometry/Polyline/Polyline.js","webpack:///./src/src/Geometry/Arc/Arc.js","webpack:///./src/src/Geometry/Circle/Circle.js","webpack:///./src/src/Geometry/Polyline/Curve.js","webpack:///./src/src/Geometry/Polyline/FreeHandLine.js","webpack:///./src/src/Geometry/Polygon/RectAngle.js","webpack:///./src/src/Geometry/Circle/Ellipse.js","webpack:///./src/src/Geometry/Polygon/Lune.js","webpack:///./src/src/Geometry/Polygon/Sector.js","webpack:///./src/src/Geometry/Polygon/ClosedCurve.js","webpack:///./src/src/Geometry/Polygon/Polygon.js","webpack:///./src/src/Geometry/Polygon/FreePolygon.js","webpack:///./src/src/Geometry/Arrow/AttackArrow.js","webpack:///./src/src/Geometry/Arrow/DoubleArrow.js","webpack:///./src/src/Geometry/Arrow/StraightArrow.js","webpack:///./src/src/Geometry/Arrow/FineArrow.js","webpack:///./src/src/Geometry/Arrow/AssaultDirection.js","webpack:///./src/src/Geometry/Arrow/TailedAttackArrow.js","webpack:///./src/src/Geometry/Arrow/SquadCombat.js","webpack:///./src/src/Geometry/Arrow/TailedSquadCombat.js","webpack:///./src/src/Geometry/Polygon/GatheringPlace.js","webpack:///./src/src/Geometry/Flag/RectFlag.js","webpack:///./src/src/Geometry/Flag/TriangleFlag.js","webpack:///./src/src/Geometry/Flag/CurveFlag.js","webpack:///./src/src/core/PlotDraw.js","webpack:///./src/src/core/PlotEdit.js","webpack:///./src/src/Utils/factory.js","webpack:///./src/src/core/PlotUtils.js","webpack:///./src/src/index.js","webpack:///./src/components/color-picker/src/color.js","webpack:///./src/components/color-picker/utils/domUtils.js","webpack:///./src/components/color-picker/utils/popper/popup/popup-manager.js","webpack:///./src/components/color-picker/utils/popper/vue-popper.js","webpack:///./src/components/color-picker/utils/popper/popup/index.js","webpack:///src/components/color-picker/components/picker-dropdown.vue","webpack:///./src/components/color-picker/components/picker-dropdown.vue?f3a7","webpack:///./src/components/color-picker/components/picker-dropdown.vue","webpack:///./src/components/color-picker/utils/clickoutside.js","webpack:///src/components/color-picker/index.vue","webpack:///./src/components/color-picker/index.vue?0ff7","webpack:///./src/components/color-picker/index.vue","webpack:///src/components/index.vue","webpack:///./src/components/index.vue?99c4","webpack:///./src/components/index.vue","webpack:///./src/index.js","webpack:///./example/main.js"],"names":["module","exports","name","version","description","author","private","scripts","dev","start","lint","build","dependencies","autosize","node-sass","normalize.css","observable-emit","openlayers","popper.js","sass-loader","vue","vue-color","devDependencies","autoprefixer","babel-core","babel-eslint","babel-helper-vue-jsx-merge-props","babel-loader","babel-plugin-syntax-jsx","babel-plugin-transform-runtime","babel-plugin-transform-vue-jsx","babel-preset-env","babel-preset-stage-2","chalk","copy-webpack-plugin","css-loader","eslint","eslint-config-standard","eslint-friendly-formatter","eslint-loader","eslint-plugin-import","eslint-plugin-node","eslint-plugin-promise","eslint-plugin-standard","eslint-plugin-vue","extract-text-webpack-plugin","file-loader","friendly-errors-webpack-plugin","html-webpack-plugin","node-notifier","optimize-css-assets-webpack-plugin","ora","portfinder","postcss-import","postcss-loader","postcss-url","rimraf","semver","shelljs","uglifyjs-webpack-plugin","url-loader","vue-loader","vue-style-loader","vue-template-compiler","webpack","webpack-bundle-analyzer","webpack-dev-server","webpack-merge","engines","node","npm","browserslist","id","alias","src","root","factory","this","window","DEFAULTS","placement","gpuAcceleration","offset","boundariesElement","boundariesPadding","preventOverflowOrder","flipBehavior","arrowElement","modifiers","modifiersIgnored","forceAbsolute","Popper","reference","popper","options","_reference","jquery","state","isNotDefined","isConfig","Object","prototype","toString","call","_popper","parse","_options","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_core_js_object_assign___default","map","modifier","indexOf","setAttribute","bind","position","_getPosition","setStyle","top","update","_setupEventListeners","getOuterSizes","element","_display","style","display","_visibility","visibility","offsetWidth","styles","getComputedStyle","x","parseFloat","marginTop","marginBottom","y","marginLeft","marginRight","result","width","height","offsetHeight","getOppositePlacement","hash","left","right","bottom","replace","matched","getPopperClientRect","popperOffsets","offsets","getArrayKeyIndex","arr","keyToFind","key","i","getStyleComputedProperty","property","getOffsetParent","offsetParent","document","body","documentElement","getScrollParent","parent","parentNode","scrollTop","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_keys___default","forEach","prop","n","unit","isNaN","isFinite","getOffsetRect","elementRect","offsetLeft","offsetTop","getBoundingClientRect","rect","rectTop","navigator","userAgent","tagName","getSupportedPropertyName","prefixes","length","toCheck","charAt","toUpperCase","slice","destroy","removeAttribute","_removeEventListeners","removeOnDestroy","remove","data","instance","_originalPlacement","_getOffsets","boundaries","_getBoundaries","runModifiers","updateCallback","onCreate","callback","onUpdate","config","defaultConfig","classNames","attributes","content","contentType","arrowTagName","arrowClassNames","arrowAttributes","d","createElement","addClassNames","addAttributes","appendChild","innerHTML","textContent","arrow","querySelectorAll","console","warn","Element","className","classList","add","attribute","split","isFixed","isParentFixed","referenceOffsets","fixed","parentRect","scrollParent","scrollLeft","getOffsetRectRelativeToCustomParent","popperRect","updateBound","addEventListener","target","removeEventListener","padding","html","Math","max","scrollHeight","clientHeight","scrollWidth","clientWidth","offsetParentRect","ends","modifiersToRun","undefined","functionToCheck","isModifierRequired","requesting","requested","index","filter","applyStyle","prefixedProperty","round","shift","basePlacement","shiftVariation","shiftOffsets","end","axis","preventOverflow","order","check","min","direction","keepTogether","f","floor","flip","flipped","placementOpposite","variation","flipOrder","step","a","_flip","querySelector","contains","arrowStyle","isVertical","len","side","altSide","opSide","arrowSize","sideValue","defineProperty","enumerable","configurable","writable","value","TypeError","to","arguments","nextSource","keysArray","nextIndex","nextKey","desc","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_get_own_property_descriptor___default","define","__webpack_require__","__WEBPACK_IMPORTED_MODULE_3_babel_runtime_helpers_typeof___default","$XYZSource","ol_default","source","XYZ","$Attribution","Attribution","Google_GOOGLE","GOOGLE","classCallCheck_default","attributions","ATTRIBUTION","crossOrigin","url","possibleConstructorReturn_default","__proto__","get_prototype_of_default","cacheSize","opaque","maxZoom","reprojectionErrorThreshold","tileLoadFunction","wrapX","Google","Baidu_$Attribution","$TileImageSource","TileImage","$TileGrid","tilegrid","TileGrid","Baidu_BAIDU","BAIDU","projection","tileUrlFunction","tileCoord","z","getRandom","levels","resolutions","pow","tileGrid","tileSize","origin","extent","minZoom","r","random","re","Baidu","$LayerGroup","layer","Group","getLayersArrayByKeyValue","Vector","targetLayers","getLayersArrayInternal","layers","_target","getLayers","getArray","_layer","concat","get","push","e","log","LayerSwitcher","_this","getBaseLayers","baseLayers","control_LayerSwitcher","render","_vm","_h","$createElement","_c","_self","staticClass","_l","item","layerName","class","selectLayerName","fixStyle","on","click","$event","switchLayer","_v","_s","staticRenderFns","components_control_LayerSwitcher","normalizeComponent","ssrContext","App","plots_default","initMap","OSM","Tile","getView","$Map","addContextMenu","layerSwitcher","selectortype_template_index_0_example_App","attrs","plots","example_App","App_normalizeComponent","FITTING_COUNT","HALF_PI","PI","BASE_LAYERNAME","BASE_HELP_CONTROL_POINT_ID","BASE_HELP_HIDDEN","DEF_TEXT_STYEL","borderRadius","fontSize","outline","overflow","boxSizing","border","fontFamily","color","fontWeight","fontStretch","lineHeight","textAlign","background","fontStyle","fontVariant","MathDistance","pnt1","pnt2","sqrt","wholeDistance","points","distance","Array","isArray","getBaseLength","Mid","point1","point2","getCircleCenterOfThreePoints","point3","pntA","pntB","pntC","pntD","getIntersectPoint","getAzimuth","startPoint","endPoint","azimuth","angle","asin","abs","getAngleOfThreePoints","isClockWise","pnt3","getCubicValue","t","startPnt","cPnt1","cPnt2","endPnt","tp","t2","t3","tp2","tp3","getThirdPoint","clockWise","alpha","dx","cos","dy","sin","getArcPoints","center","radius","startAngle","endAngle","pnts","angleDiff","utils_getBisectorNormals","normal","getNormal","bisectorNormalRight","bisectorNormalLeft","dt","dist","uX","uY","d1","d2","dX1","dY1","dX2","dY2","utils_getCurvePoints","controlPoints","normals","_ref","controlX","controlY","normalRight","mid","pX","pY","nX","nY","a11","a12","a22","dX","dY","utils_getLeftMostControlPoint","_ref2","normalPoints","rightControl","count","normalLeft","utils_getRightMostControlPoint","pnt","getBezierPoints","bezierPoints","factor","getBinomialFactor","b","getFactorial","getQBSplinePoints","bSplinePoints","m","k","getQuadricBSplineFactor","res","getuuid","s","hexDigits","substr","join","utils_isObject","type","typeof_default","$Group","$VectorLayer","layerUtils_$VectorSource","$Style","Style","$Stroke","Stroke","$Circle","Circle","$Fill","Fill","layerUtils_getLayerByLayerName","targetLayer","layerUtils_getLayerInternal","getLayerInternal","every","layerUtils_createVectorLayer","params","vectorLayer","create","layerType","fill","stroke","image","hasOwnProperty","set","selectable","_vectorLayer","addLayer","SPECIAL_CHARS_REGEXP","MOZ_HACK_REGEXP","getElement","getElementById","camelCase","_","separator","letter","event","handler","off","hasClass","el","cls","Error","domUtils_getStyle","styleName","computed","defaultView","domUtils_setStyle","$DragPan","interaction","DragPan","Text_PlotTextBox","PlotTextBox","stopEvent","positioning","insertFirst","autoPan","autoPanAnimation","autoPanMargin","setOffset","setPositioning","mapDragPan","isClick_","dragging_","isFocus_","options_","_position","handleTimer_","currentPixel_","createTextContent","_className","minHeight","autosize_default","handleFocus_","handleBlur_","handleClick_","handleDragStart_","handleDragEnd_","setElement","createCloseButton","createResizeButton","setPosition","dispatchEvent","overlay","uuid","_node","childrens_","children","ele","nodeType","nodeName","toLowerCase","_closeSpan","closeCurrentPlotText","_resizeSpan","handleResizeMouseDown_","handleResizeMouseMove_","pixel_","pixel","element_","getTextAreaFromContent_","_offset","_size","_height","getMap","stopImmediatePropagation","resizeButtonMoveHandler_","getViewport","handleResizeMouseUp_","un","_id","getAttribute","_overlay","getOverlayById","removeOverlay","_this2","isMoveModel","setTimeout","clearTimeout","disableMapDragPan","preCursor_","cursor","handleDragDrag_","getCoordinateFromPixel","clientX","clientY","enableMapDragPan","getSelection","getRangeAt","collapsed","_element","_style","_map","addInteraction","_this3","getInteractions","removeInteraction","Overlay","setMap","Map","merge","setValue","TEXTAREA","ARC","CURVE","GATHERING_PLACE","POLYLINE","FREEHANDLINE","POINT","PENNANT","RECTANGLE","CIRCLE","ELLIPSE","LUNE","SECTOR","CLOSED_CURVE","POLYGON","FREE_POLYGON","ATTACK_ARROW","DOUBLE_ARROW","STRAIGHT_ARROW","FINE_ARROW","ASSAULT_DIRECTION","TAILED_ATTACK_ARROW","SQUAD_COMBAT","TAILED_SQUAD_COMBAT","RECTFLAG","TRIANGLEFLAG","CURVEFLAG","point_Point","Point","coordinates","point","fixPointCount","setPoints","setCoordinates","generate","updatePoint","geom","point_Pennant","Pennant","Geometry_Polyline_Polyline","Polyline","freehand","LineString","Geometry_Arc_Arc","Arc","getPointCount","angle1","angle2","Geometry_Circle_Circle","generatePoints","Polygon","Polyline_Curve","Curve","Polyline_FreeHandLine","FreeHandLine","Polygon_RectAngle","RectAngle","isFill","boundingExtent","fromExtent","getCoordinates","Circle_Ellipse","Ellipse","majorRadius","minorRadius","Polygon_Lune","Lune","getPoints","Polygon_Sector","Sector","pList","Polygon_ClosedCurve","ClosedCurve","Geometry_Polygon_Polygon","Polygon_FreePolygon","FreePolygon","Arrow_AttackArrow","AttackArrow","headHeightFactor","headWidthFactor","neckHeightFactor","neckWidthFactor","headTailFactor","tailLeft","tailRight","bonePnts","headPnts","getArrowHeadPoints","neckLeft","neckRight","tailWidthFactor","bodyPnts","getArrowBodyPoints","leftPnts","rightPnts","reverse","midPnt","midPnt1","midPnt2","arrowPnts","_ref3","neckLeftPoint","neckRightPoint","lPoints","rPoints","headHeight","headPnt","tailWidth","headWidth","neckWidth","neckHeight","headEndPnt","neckEndPnt","headLeft","headRight","allLen","widthDif","tempLen","leftBodyPnts","rightBodyPnts","w","linePnt1","linePnt2","symPnt","distance1","distance2","Arrow_DoubleArrow","DoubleArrow","connPoint","tempPoint4","getTempPoint4","leftArrowPnts","rightArrowPnts","getArrowPoints","llBodyPnts","lArrowPnts","lrBodyPnts","rlBodyPnts","rArrowPnts","rrBodyPnts","Arrow_StraightArrow","StraightArrow","maxArrowLength","arrowLengthScale","leftPnt","rightPnt","Arrow_FineArrow","FineArrow","headAngle","neckAngle","Arrow_AssaultDirection","AssaultDirection","Arrow_TailedAttackArrow","TailedAttackArrow","swallowTailFactor","swallowTailPnt","Arrow_SquadCombat","SquadCombat","tailPnts","getTailPoints","Arrow_TailedSquadCombat","TailedSquadCombat","Polygon_GatheringPlace","GatheringPlace","Flag_RectFlag","RectFlag","calculatePonits","components","Flag_TriangleFlag","TriangleFlag","Flag_CurveFlag","CurveFlag","point4","point5","point6","point7","point8","point9","point10","point11","curve1","curve2","$DrawInteraction","Draw","PlotDraw_$Style","$Icon","Icon","PlotDraw_$Stroke","PlotDraw_$Fill","core_PlotDraw","PlotDraw","plot","feature","plotType","plotParams","mapViewport","dblClickZoomInteraction","drawInteraction_","drawLayer","setZIndex","_params","disActive","deactiveMapTools","activeInteraction","keys_default","PlotTypes_namespaceObject","some","mapFirstClickHandler","anchor","anchorXUnits","anchorYUnits","opacity","geometryFunction","createBox","textAreaDrawEnd","getGeometry","getExtent","_center","topLeft","getPixelFromCoordinate","bottomRight","_width","_plotText","addOverlay","info","removeEventHandlers","activateMapTools","coordinate","createPlot","Feature","getSource","addFeature","finishDrawing","drawEnd","mapNextClickHandler","mapDoubleClickHandler","mapMouseMoveHandler","setProperties","preventDefault","dispatchSync","originalEvent","removeFeature","DoubleClickZoom","observable_esm","core_PlotEdit","PlotEdit","activePlot","ghostControlPoints","mouseOver","elementTable","activeControlPointId","previousCursor_","getMapParentElement","hiddenDiv","cPnts","getControlPoints","container","mapElement","getTargetElement","controlPointMouseDownHandler","controlPointMouseMoveHandler2","removeChild","_this4","controlPointMouseMoveHandler","controlPointMouseUpHandler","_this5","isPlot","deactivate","dispatch","plotMouseOverOutHandler","initHelperDom","initControlPoints","forEachFeatureAtPixel","plotMouseDownHandler","plotMouseUpHandler","plotMouseMoveHandler","deltaX","deltaY","newPoints","destroyHelperDom","disconnectEventHandlers","_this6","factory_StyleFactory","option","Geometry","setGeometry","setFill","_getFill","setImage","_getImage","setStroke","_getStroke","setText","_getText","_getRegularShape","RegularShape","radius1","radius2","snapToPixel","rotation","rotateWithView","atlasManager","_getIcon","anchorOrigin","img","offsetOrigin","scale","size","imgSize","error","lineCap","lineJoin","lineDash","lineDashOffset","miterLimit","Text","font","offsetX","offsetY","text","textBaseline","core_PlotUtils","PlotUtils","getStyle","tempStyle","getBaseStyle","clone","_image","backgroundColor","getFill","getColor","tempColor","asArray","_color","currentColor","handleBackgroundColor","setColor","borderColor","getStroke","borderWidth","setWidth","colorTarget","asString","obj","olStyle_","getWidth","getLineDash","getLineDashOffset","getLineCap","getLineJoin","getMiterLimit","fixObject","getText","getFont","getOffsetX","getOffsetY","getScale","getRotation","getTextAlign","getTextBaseline","getRotateWithView","getFill_","getStroke_","getImage","getAnchor","getSrc","getSize","getOpacity","getSnapToPixel","getOrigin","getRadius","getRadius2","getAngle","rgbaArray","getText_","fillColor","getImage_","overlays_","getOverlays","clear","rFeatures","features","getFeatures","getType","geometry","properties","getPlotType","getStyleCode","style_","getHeight","getPosition","getId","getValue","_extents","Geometry_namespaceObject","feat","_extent","_getExtent","_view","fit","duration","getMaxZoom","extents","bbox","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","reduce","prev","coord","adjust","minWidth","bleft","getBottomLeft","tright","getTopRight","xmin","ymin","xmax","ymax","buffer","src_olPlot","olPlot","plotDraw","plotEdit","plotUtils","PlotTypes","HEX_INT_MAP","A","B","C","D","E","F","parseHexChannel","hex","color_toRgbaColor","_rValue","parts","val","parseInt","g","trim","substring","rgba","color_rgbaToagb","_rData","utils_domUtils_trim","string","domUtils_on","domUtils_hasClass","domUtils_addClass","curClass","classes","j","clsName","domUtils_removeClass","hasModal","popup_manager_getModal","vue_esm","$isServer","modalDom","PopupManager","stopPropagation","doOnModalClick","instances","zIndex","modalFade","getInstance","register","deregister","nextZIndex","modalStack","topItem","closeOnClickModal","close","openModal","dom","modalClass","closeModal","pop","splice","keyCode","topPopup","popup_manager_getTopPopup","closeOnPressEscape","handleClose","handleAction","popup_manager","PopperJS","Boolean","String","stop","vue_popper","props","default","visibleArrow","transition","appendToBody","popperOptions","showPopper","currentPlacement","watch","immediate","$emit","updatePopper","destroyPopper","methods","createPopper","test","popperElm","$refs","referenceElm","$slots","elm","appendArrow","popperJS","resetTransformOrigin","$nextTick","doDestroy","transformOrigin","appended","beforeDestroy","deactivated","$options","picker_dropdown","$el","Sketch","vue_color_min","components_picker_dropdown","after-leave","directives","rawName","expression","model","$$v","colorInner","color_picker_components_picker_dropdown","picker_dropdown_normalizeComponent","nodeList","ctx","startClick","seed","documentHandler","color_picker","Clickoutside","binding","vnode","mouseup","mousedown","context","methodName","bindingFn","unbind","elFormItemSize","showPicker","resetColor","sfColorPickerDropdown","components_color_picker","disabled","colorSize","handleTrigger","is-alpha","showAlpha","displayedColor","showPanelColor","_e","ref","popperClass","update:color","src_components_color_picker","color_picker_normalizeComponent","newVal","v","textAreaBorderColor","initPlot","currentTextArea","schemeTitle","colorPicker","selectortype_template_index_0_src_components","title","minFunc","closeFunc","tool","selected","mouseover","mouseOverHandle","mouseout","mouseOutHandle","changeSelectedItem","color-format","textAreaBackgroundColor","textAreaColor","textAreaFontSize","textAreaBorderWidth","src_components_0","components_normalizeComponent","selectortype_script_index_0_src_components","install","Vue","component","src_0","package_default","productionTip","use","template"],"mappings":"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","file":"static/js/app.efe11ff1abd2687b5fa4.js","sourcesContent":["module.exports = {\"name\":\"ol-plot-vue\",\"version\":\"0.0.1\",\"description\":\"a vue project for ol-plot\",\"author\":\"FDD <smileFDD@gmail.com>\",\"private\":true,\"scripts\":{\"dev\":\"webpack-dev-server --inline --progress --config build/webpack.dev.conf.js\",\"start\":\"npm run dev\",\"lint\":\"eslint --ext .js,.vue src\",\"build\":\"node build/build.js\"},\"dependencies\":{\"autosize\":\"^4.0.0\",\"node-sass\":\"^4.7.2\",\"normalize.css\":\"^7.0.0\",\"observable-emit\":\"^1.1.1\",\"openlayers\":\"^4.6.4\",\"popper.js\":\"^1.12.9\",\"sass-loader\":\"^6.0.6\",\"vue\":\"^2.5.2\",\"vue-color\":\"^2.4.3\"},\"devDependencies\":{\"autoprefixer\":\"^7.1.2\",\"babel-core\":\"^6.22.1\",\"babel-eslint\":\"^8.2.1\",\"babel-helper-vue-jsx-merge-props\":\"^2.0.3\",\"babel-loader\":\"^7.1.1\",\"babel-plugin-syntax-jsx\":\"^6.18.0\",\"babel-plugin-transform-runtime\":\"^6.22.0\",\"babel-plugin-transform-vue-jsx\":\"^3.5.0\",\"babel-preset-env\":\"^1.3.2\",\"babel-preset-stage-2\":\"^6.22.0\",\"chalk\":\"^2.0.1\",\"copy-webpack-plugin\":\"^4.0.1\",\"css-loader\":\"^0.28.0\",\"eslint\":\"^4.15.0\",\"eslint-config-standard\":\"^10.2.1\",\"eslint-friendly-formatter\":\"^3.0.0\",\"eslint-loader\":\"^1.7.1\",\"eslint-plugin-import\":\"^2.7.0\",\"eslint-plugin-node\":\"^5.2.0\",\"eslint-plugin-promise\":\"^3.4.0\",\"eslint-plugin-standard\":\"^3.0.1\",\"eslint-plugin-vue\":\"^4.0.0\",\"extract-text-webpack-plugin\":\"^3.0.0\",\"file-loader\":\"^1.1.4\",\"friendly-errors-webpack-plugin\":\"^1.6.1\",\"html-webpack-plugin\":\"^2.30.1\",\"node-notifier\":\"^5.1.2\",\"optimize-css-assets-webpack-plugin\":\"^3.2.0\",\"ora\":\"^1.2.0\",\"portfinder\":\"^1.0.13\",\"postcss-import\":\"^11.0.0\",\"postcss-loader\":\"^2.0.8\",\"postcss-url\":\"^7.2.1\",\"rimraf\":\"^2.6.0\",\"semver\":\"^5.3.0\",\"shelljs\":\"^0.7.6\",\"uglifyjs-webpack-plugin\":\"^1.1.1\",\"url-loader\":\"^0.5.8\",\"vue-loader\":\"^13.3.0\",\"vue-style-loader\":\"^3.0.1\",\"vue-template-compiler\":\"^2.5.2\",\"webpack\":\"^3.6.0\",\"webpack-bundle-analyzer\":\"^2.9.0\",\"webpack-dev-server\":\"^2.9.1\",\"webpack-merge\":\"^4.1.0\"},\"engines\":{\"node\":\">= 6.0.0\",\"npm\":\">= 3.0.0\"},\"browserslist\":[\"> 1%\",\"last 2 versions\",\"not ie <= 8\"]}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./package.json\n// module id = 7YgM\n// module chunks = 1","module.exports = [{\"id\":\"Point\",\"name\":\"目标\",\"alias\":\"Point\",\"src\":\"Point\"},{\"id\":\"AttackArrow\",\"name\":\"进攻方向\",\"alias\":\"AttackArrow\",\"src\":\"AttackArrow\"},{\"id\":\"AssaultDirection\",\"name\":\"直箭头\",\"alias\":\"AssaultDirection\",\"src\":\"AssaultDirection\"},{\"id\":\"FineArrow\",\"name\":\"斜箭头\",\"alias\":\"FineArrow\",\"src\":\"FineArrow\"},{\"id\":\"DoubleArrow\",\"name\":\"双箭头\",\"alias\":\"DoubleArrow\",\"src\":\"DoubleArrow\"},{\"id\":\"StraightArrow\",\"name\":\"细直箭头\",\"alias\":\"StraightArrow\",\"src\":\"StraightArrow\"},{\"id\":\"TailedAttackArrow\",\"name\":\"燕尾曲箭头\",\"alias\":\"TailedAttackArrow\",\"src\":\"TailedAttackArrow\"},{\"id\":\"SquadCombat\",\"name\":\"曲箭头\",\"alias\":\"SquadCombat\",\"src\":\"SquadCombat\"},{\"id\":\"RectAngle\",\"name\":\"矩形\",\"alias\":\"RectAngle\",\"src\":\"RectAngle\"},{\"id\":\"Circle\",\"name\":\"圆形\",\"alias\":\"Circle\",\"src\":\"Circle\"},{\"id\":\"Ellipse\",\"name\":\"椭圆形\",\"alias\":\"Ellipse\",\"src\":\"Ellipse\"},{\"id\":\"Polygon\",\"name\":\"多边形\",\"alias\":\"Polygon\",\"src\":\"Polygon\"},{\"id\":\"GatheringPlace\",\"name\":\"集结地\",\"alias\":\"GatheringPlace\",\"src\":\"GatheringPlace\"},{\"id\":\"Sector\",\"name\":\"扇形\",\"alias\":\"Sector\",\"src\":\"Sector\"},{\"id\":\"Arc\",\"name\":\"弓形\",\"alias\":\"Arc\",\"src\":\"Arc\"},{\"id\":\"FreePolygon\",\"name\":\"自由面\",\"alias\":\"FreePolygon\",\"src\":\"FreePolygon\"},{\"id\":\"FreeHandLine\",\"name\":\"自由线\",\"alias\":\"FreeHandLine\",\"src\":\"FreeHandLine\"},{\"id\":\"Polyline\",\"name\":\"线\",\"alias\":\"Polyline\",\"src\":\"Polyline\"},{\"id\":\"Curve\",\"name\":\"曲线\",\"alias\":\"Curve\",\"src\":\"Curve\"},{\"id\":\"RectFlag\",\"name\":\"矩形标志旗\",\"alias\":\"RectFlag\",\"src\":\"RectFlag\"},{\"id\":\"TriangleFlag\",\"name\":\"三角标志旗\",\"alias\":\"TriangleFlag\",\"src\":\"TriangleFlag\"},{\"id\":\"CurveFlag\",\"name\":\"曲线标志旗\",\"alias\":\"CurveFlag\",\"src\":\"CurveFlag\"},{\"id\":\"TextArea\",\"name\":\"气泡\",\"alias\":\"TextArea\",\"src\":\"TextArea\"}]\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./example/assets/plots.json\n// module id = 9Pv4\n// module chunks = 1","/**\r\n * @fileOverview Kickass library to create and place poppers near their reference elements.\r\n * @version {{version}}\r\n * @license\r\n * Copyright (c) 2016 Federico Zivolo and contributors\r\n *\r\n * Permission is hereby granted, free of charge, to any person obtaining a copy\r\n * of this software and associated documentation files (the \"Software\"), to deal\r\n * in the Software without restriction, including without limitation the rights\r\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n * copies of the Software, and to permit persons to whom the Software is\r\n * furnished to do so, subject to the following conditions:\r\n *\r\n * The above copyright notice and this permission notice shall be included in all\r\n * copies or substantial portions of the Software.\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\r\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\r\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\r\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\r\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\r\n * SOFTWARE.\r\n */\r\n\r\n//\r\n// Cross module loader\r\n// Supported: Node, AMD, Browser globals\r\n//\r\n;(function (root, factory) {\r\n    if (typeof define === 'function' && define.amd) {\r\n        // AMD. Register as an anonymous module.\r\n        define(factory);\r\n    } else if (typeof module === 'object' && module.exports) {\r\n        // Node. Does not work with strict CommonJS, but\r\n        // only CommonJS-like environments that support module.exports,\r\n        // like Node.\r\n        module.exports = factory();\r\n    } else {\r\n        // Browser globals (root is window)\r\n        root.Popper = factory();\r\n    }\r\n}(this, function () {\r\n\r\n    'use strict';\r\n\r\n    var root = window;\r\n\r\n    // default options\r\n    var DEFAULTS = {\r\n        // placement of the popper\r\n        placement: 'bottom',\r\n\r\n        gpuAcceleration: true,\r\n\r\n        // shift popper from its origin by the given amount of pixels (can be negative)\r\n        offset: 0,\r\n\r\n        // the element which will act as boundary of the popper\r\n        boundariesElement: 'viewport',\r\n\r\n        // amount of pixel used to define a minimum distance between the boundaries and the popper\r\n        boundariesPadding: 5,\r\n\r\n        // popper will try to prevent overflow following this order,\r\n        // by default, then, it could overflow on the left and on top of the boundariesElement\r\n        preventOverflowOrder: ['left', 'right', 'top', 'bottom'],\r\n\r\n        // the behavior used by flip to change the placement of the popper\r\n        flipBehavior: 'flip',\r\n\r\n        arrowElement: '[x-arrow]',\r\n\r\n        // list of functions used to modify the offsets before they are applied to the popper\r\n        modifiers: [ 'shift', 'offset', 'preventOverflow', 'keepTogether', 'arrow', 'flip', 'applyStyle'],\r\n\r\n        modifiersIgnored: [],\r\n\r\n        forceAbsolute: false\r\n    };\r\n\r\n    /**\r\n     * Create a new Popper.js instance\r\n     * @constructor Popper\r\n     * @param {HTMLElement} reference - The reference element used to position the popper\r\n     * @param {HTMLElement|Object} popper\r\n     *      The HTML element used as popper, or a configuration used to generate the popper.\r\n     * @param {String} [popper.tagName='div'] The tag name of the generated popper.\r\n     * @param {Array} [popper.classNames=['popper']] Array of classes to apply to the generated popper.\r\n     * @param {Array} [popper.attributes] Array of attributes to apply, specify `attr:value` to assign a value to it.\r\n     * @param {HTMLElement|String} [popper.parent=window.document.body] The parent element, given as HTMLElement or as query string.\r\n     * @param {String} [popper.content=''] The content of the popper, it can be text, html, or node; if it is not text, set `contentType` to `html` or `node`.\r\n     * @param {String} [popper.contentType='text'] If `html`, the `content` will be parsed as HTML. If `node`, it will be appended as-is.\r\n     * @param {String} [popper.arrowTagName='div'] Same as `popper.tagName` but for the arrow element.\r\n     * @param {Array} [popper.arrowClassNames='popper__arrow'] Same as `popper.classNames` but for the arrow element.\r\n     * @param {String} [popper.arrowAttributes=['x-arrow']] Same as `popper.attributes` but for the arrow element.\r\n     * @param {Object} options\r\n     * @param {String} [options.placement=bottom]\r\n     *      Placement of the popper accepted values: `top(-start, -end), right(-start, -end), bottom(-start, -right),\r\n     *      left(-start, -end)`\r\n     *\r\n     * @param {HTMLElement|String} [options.arrowElement='[x-arrow]']\r\n     *      The DOM Node used as arrow for the popper, or a CSS selector used to get the DOM node. It must be child of\r\n     *      its parent Popper. Popper.js will apply to the given element the style required to align the arrow with its\r\n     *      reference element.\r\n     *      By default, it will look for a child node of the popper with the `x-arrow` attribute.\r\n     *\r\n     * @param {Boolean} [options.gpuAcceleration=true]\r\n     *      When this property is set to true, the popper position will be applied using CSS3 translate3d, allowing the\r\n     *      browser to use the GPU to accelerate the rendering.\r\n     *      If set to false, the popper will be placed using `top` and `left` properties, not using the GPU.\r\n     *\r\n     * @param {Number} [options.offset=0]\r\n     *      Amount of pixels the popper will be shifted (can be negative).\r\n     *\r\n     * @param {String|Element} [options.boundariesElement='viewport']\r\n     *      The element which will define the boundaries of the popper position, the popper will never be placed outside\r\n     *      of the defined boundaries (except if `keepTogether` is enabled)\r\n     *\r\n     * @param {Number} [options.boundariesPadding=5]\r\n     *      Additional padding for the boundaries\r\n     *\r\n     * @param {Array} [options.preventOverflowOrder=['left', 'right', 'top', 'bottom']]\r\n     *      Order used when Popper.js tries to avoid overflows from the boundaries, they will be checked in order,\r\n     *      this means that the last ones will never overflow\r\n     *\r\n     * @param {String|Array} [options.flipBehavior='flip']\r\n     *      The behavior used by the `flip` modifier to change the placement of the popper when the latter is trying to\r\n     *      overlap its reference element. Defining `flip` as value, the placement will be flipped on\r\n     *      its axis (`right - left`, `top - bottom`).\r\n     *      You can even pass an array of placements (eg: `['right', 'left', 'top']` ) to manually specify\r\n     *      how alter the placement when a flip is needed. (eg. in the above example, it would first flip from right to left,\r\n     *      then, if even in its new placement, the popper is overlapping its reference element, it will be moved to top)\r\n     *\r\n     * @param {Array} [options.modifiers=[ 'shift', 'offset', 'preventOverflow', 'keepTogether', 'arrow', 'flip', 'applyStyle']]\r\n     *      List of functions used to modify the data before they are applied to the popper, add your custom functions\r\n     *      to this array to edit the offsets and placement.\r\n     *      The function should reflect the @params and @returns of preventOverflow\r\n     *\r\n     * @param {Array} [options.modifiersIgnored=[]]\r\n     *      Put here any built-in modifier name you want to exclude from the modifiers list\r\n     *      The function should reflect the @params and @returns of preventOverflow\r\n     *\r\n     * @param {Boolean} [options.removeOnDestroy=false]\r\n     *      Set to true if you want to automatically remove the popper when you call the `destroy` method.\r\n     */\r\n    function Popper(reference, popper, options) {\r\n        this._reference = reference.jquery ? reference[0] : reference;\r\n        this.state = {};\r\n\r\n        // if the popper variable is a configuration object, parse it to generate an HTMLElement\r\n        // generate a default popper if is not defined\r\n        var isNotDefined = typeof popper === 'undefined' || popper === null;\r\n        var isConfig = popper && Object.prototype.toString.call(popper) === '[object Object]';\r\n        if (isNotDefined || isConfig) {\r\n            this._popper = this.parse(isConfig ? popper : {});\r\n        }\r\n        // otherwise, use the given HTMLElement as popper\r\n        else {\r\n            this._popper = popper.jquery ? popper[0] : popper;\r\n        }\r\n\r\n        // with {} we create a new object with the options inside it\r\n        this._options = Object.assign({}, DEFAULTS, options);\r\n\r\n        // refactoring modifiers' list\r\n        this._options.modifiers = this._options.modifiers.map(function(modifier){\r\n            // remove ignored modifiers\r\n            if (this._options.modifiersIgnored.indexOf(modifier) !== -1) return;\r\n\r\n            // set the x-placement attribute before everything else because it could be used to add margins to the popper\r\n            // margins needs to be calculated to get the correct popper offsets\r\n            if (modifier === 'applyStyle') {\r\n                this._popper.setAttribute('x-placement', this._options.placement);\r\n            }\r\n\r\n            // return predefined modifier identified by string or keep the custom one\r\n            return this.modifiers[modifier] || modifier;\r\n        }.bind(this));\r\n\r\n        // make sure to apply the popper position before any computation\r\n        this.state.position = this._getPosition(this._popper, this._reference);\r\n        setStyle(this._popper, { position: this.state.position, top: 0 });\r\n\r\n        // fire the first update to position the popper in the right place\r\n        this.update();\r\n\r\n        // setup event listeners, they will take care of update the position in specific situations\r\n        this._setupEventListeners();\r\n        return this;\r\n    }\r\n\r\n\r\n    //\r\n    // Methods\r\n    //\r\n    /**\r\n     * Destroy the popper\r\n     * @method\r\n     * @memberof Popper\r\n     */\r\n    Popper.prototype.destroy = function() {\r\n        this._popper.removeAttribute('x-placement');\r\n        this._popper.style.left = '';\r\n        this._popper.style.position = '';\r\n        this._popper.style.top = '';\r\n        this._popper.style[getSupportedPropertyName('transform')] = '';\r\n        this._removeEventListeners();\r\n\r\n        // remove the popper if user explicity asked for the deletion on destroy\r\n        if (this._options.removeOnDestroy) {\r\n            this._popper.remove();\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Updates the position of the popper, computing the new offsets and applying the new style\r\n     * @method\r\n     * @memberof Popper\r\n     */\r\n    Popper.prototype.update = function() {\r\n        var data = { instance: this, styles: {} };\r\n\r\n        // store placement inside the data object, modifiers will be able to edit `placement` if needed\r\n        // and refer to _originalPlacement to know the original value\r\n        data.placement = this._options.placement;\r\n        data._originalPlacement = this._options.placement;\r\n\r\n        // compute the popper and reference offsets and put them inside data.offsets\r\n        data.offsets = this._getOffsets(this._popper, this._reference, data.placement);\r\n\r\n        // get boundaries\r\n        data.boundaries = this._getBoundaries(data, this._options.boundariesPadding, this._options.boundariesElement);\r\n\r\n        data = this.runModifiers(data, this._options.modifiers);\r\n\r\n        if (typeof this.state.updateCallback === 'function') {\r\n            this.state.updateCallback(data);\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n     * If a function is passed, it will be executed after the initialization of popper with as first argument the Popper instance.\r\n     * @method\r\n     * @memberof Popper\r\n     * @param {Function} callback\r\n     */\r\n    Popper.prototype.onCreate = function(callback) {\r\n        // the createCallbacks return as first argument the popper instance\r\n        callback(this);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * If a function is passed, it will be executed after each update of popper with as first argument the set of coordinates and informations\r\n     * used to style popper and its arrow.\r\n     * NOTE: it doesn't get fired on the first call of the `Popper.update()` method inside the `Popper` constructor!\r\n     * @method\r\n     * @memberof Popper\r\n     * @param {Function} callback\r\n     */\r\n    Popper.prototype.onUpdate = function(callback) {\r\n        this.state.updateCallback = callback;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Helper used to generate poppers from a configuration file\r\n     * @method\r\n     * @memberof Popper\r\n     * @param config {Object} configuration\r\n     * @returns {HTMLElement} popper\r\n     */\r\n    Popper.prototype.parse = function(config) {\r\n        var defaultConfig = {\r\n            tagName: 'div',\r\n            classNames: [ 'popper' ],\r\n            attributes: [],\r\n            parent: root.document.body,\r\n            content: '',\r\n            contentType: 'text',\r\n            arrowTagName: 'div',\r\n            arrowClassNames: [ 'popper__arrow' ],\r\n            arrowAttributes: [ 'x-arrow']\r\n        };\r\n        config = Object.assign({}, defaultConfig, config);\r\n\r\n        var d = root.document;\r\n\r\n        var popper = d.createElement(config.tagName);\r\n        addClassNames(popper, config.classNames);\r\n        addAttributes(popper, config.attributes);\r\n        if (config.contentType === 'node') {\r\n            popper.appendChild(config.content.jquery ? config.content[0] : config.content);\r\n        }else if (config.contentType === 'html') {\r\n            popper.innerHTML = config.content;\r\n        } else {\r\n            popper.textContent = config.content;\r\n        }\r\n\r\n        if (config.arrowTagName) {\r\n            var arrow = d.createElement(config.arrowTagName);\r\n            addClassNames(arrow, config.arrowClassNames);\r\n            addAttributes(arrow, config.arrowAttributes);\r\n            popper.appendChild(arrow);\r\n        }\r\n\r\n        var parent = config.parent.jquery ? config.parent[0] : config.parent;\r\n\r\n        // if the given parent is a string, use it to match an element\r\n        // if more than one element is matched, the first one will be used as parent\r\n        // if no elements are matched, the script will throw an error\r\n        if (typeof parent === 'string') {\r\n            parent = d.querySelectorAll(config.parent);\r\n            if (parent.length > 1) {\r\n                console.warn('WARNING: the given `parent` query(' + config.parent + ') matched more than one element, the first one will be used');\r\n            }\r\n            if (parent.length === 0) {\r\n                throw 'ERROR: the given `parent` doesn\\'t exists!';\r\n            }\r\n            parent = parent[0];\r\n        }\r\n        // if the given parent is a DOM nodes list or an array of nodes with more than one element,\r\n        // the first one will be used as parent\r\n        if (parent.length > 1 && parent instanceof Element === false) {\r\n            console.warn('WARNING: you have passed as parent a list of elements, the first one will be used');\r\n            parent = parent[0];\r\n        }\r\n\r\n        // append the generated popper to its parent\r\n        parent.appendChild(popper);\r\n\r\n        return popper;\r\n\r\n        /**\r\n         * Adds class names to the given element\r\n         * @function\r\n         * @ignore\r\n         * @param {HTMLElement} target\r\n         * @param {Array} classes\r\n         */\r\n        function addClassNames(element, classNames) {\r\n            classNames.forEach(function(className) {\r\n                element.classList.add(className);\r\n            });\r\n        }\r\n\r\n        /**\r\n         * Adds attributes to the given element\r\n         * @function\r\n         * @ignore\r\n         * @param {HTMLElement} target\r\n         * @param {Array} attributes\r\n         * @example\r\n         * addAttributes(element, [ 'data-info:foobar' ]);\r\n         */\r\n        function addAttributes(element, attributes) {\r\n            attributes.forEach(function(attribute) {\r\n                element.setAttribute(attribute.split(':')[0], attribute.split(':')[1] || '');\r\n            });\r\n        }\r\n\r\n    };\r\n\r\n    /**\r\n     * Helper used to get the position which will be applied to the popper\r\n     * @method\r\n     * @memberof Popper\r\n     * @param config {HTMLElement} popper element\r\n     * @param reference {HTMLElement} reference element\r\n     * @returns {String} position\r\n     */\r\n    Popper.prototype._getPosition = function(popper, reference) {\r\n        var container = getOffsetParent(reference);\r\n\r\n        if (this._options.forceAbsolute) {\r\n            return 'absolute';\r\n        }\r\n\r\n        // Decide if the popper will be fixed\r\n        // If the reference element is inside a fixed context, the popper will be fixed as well to allow them to scroll together\r\n        var isParentFixed = isFixed(reference, container);\r\n        return isParentFixed ? 'fixed' : 'absolute';\r\n    };\r\n\r\n    /**\r\n     * Get offsets to the popper\r\n     * @method\r\n     * @memberof Popper\r\n     * @access private\r\n     * @param {Element} popper - the popper element\r\n     * @param {Element} reference - the reference element (the popper will be relative to this)\r\n     * @returns {Object} An object containing the offsets which will be applied to the popper\r\n     */\r\n    Popper.prototype._getOffsets = function(popper, reference, placement) {\r\n        placement = placement.split('-')[0];\r\n        var popperOffsets = {};\r\n\r\n        popperOffsets.position = this.state.position;\r\n        var isParentFixed = popperOffsets.position === 'fixed';\r\n\r\n        //\r\n        // Get reference element position\r\n        //\r\n        var referenceOffsets = getOffsetRectRelativeToCustomParent(reference, getOffsetParent(popper), isParentFixed);\r\n\r\n        //\r\n        // Get popper sizes\r\n        //\r\n        var popperRect = getOuterSizes(popper);\r\n\r\n        //\r\n        // Compute offsets of popper\r\n        //\r\n\r\n        // depending by the popper placement we have to compute its offsets slightly differently\r\n        if (['right', 'left'].indexOf(placement) !== -1) {\r\n            popperOffsets.top = referenceOffsets.top + referenceOffsets.height / 2 - popperRect.height / 2;\r\n            if (placement === 'left') {\r\n                popperOffsets.left = referenceOffsets.left - popperRect.width;\r\n            } else {\r\n                popperOffsets.left = referenceOffsets.right;\r\n            }\r\n        } else {\r\n            popperOffsets.left = referenceOffsets.left + referenceOffsets.width / 2 - popperRect.width / 2;\r\n            if (placement === 'top') {\r\n                popperOffsets.top = referenceOffsets.top - popperRect.height;\r\n            } else {\r\n                popperOffsets.top = referenceOffsets.bottom;\r\n            }\r\n        }\r\n\r\n        // Add width and height to our offsets object\r\n        popperOffsets.width   = popperRect.width;\r\n        popperOffsets.height  = popperRect.height;\r\n\r\n\r\n        return {\r\n            popper: popperOffsets,\r\n            reference: referenceOffsets\r\n        };\r\n    };\r\n\r\n\r\n    /**\r\n     * Setup needed event listeners used to update the popper position\r\n     * @method\r\n     * @memberof Popper\r\n     * @access private\r\n     */\r\n    Popper.prototype._setupEventListeners = function() {\r\n        // NOTE: 1 DOM access here\r\n        this.state.updateBound = this.update.bind(this);\r\n        root.addEventListener('resize', this.state.updateBound);\r\n        // if the boundariesElement is window we don't need to listen for the scroll event\r\n        if (this._options.boundariesElement !== 'window') {\r\n            var target = getScrollParent(this._reference);\r\n            // here it could be both `body` or `documentElement` thanks to Firefox, we then check both\r\n            if (target === root.document.body || target === root.document.documentElement) {\r\n                target = root;\r\n            }\r\n            target.addEventListener('scroll', this.state.updateBound);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Remove event listeners used to update the popper position\r\n     * @method\r\n     * @memberof Popper\r\n     * @access private\r\n     */\r\n    Popper.prototype._removeEventListeners = function() {\r\n        // NOTE: 1 DOM access here\r\n        root.removeEventListener('resize', this.state.updateBound);\r\n        if (this._options.boundariesElement !== 'window') {\r\n            var target = getScrollParent(this._reference);\r\n            // here it could be both `body` or `documentElement` thanks to Firefox, we then check both\r\n            if (target === root.document.body || target === root.document.documentElement) {\r\n                target = root;\r\n            }\r\n            target.removeEventListener('scroll', this.state.updateBound);\r\n        }\r\n        this.state.updateBound = null;\r\n    };\r\n\r\n    /**\r\n     * Computed the boundaries limits and return them\r\n     * @method\r\n     * @memberof Popper\r\n     * @access private\r\n     * @param {Object} data - Object containing the property \"offsets\" generated by `_getOffsets`\r\n     * @param {Number} padding - Boundaries padding\r\n     * @param {Element} boundariesElement - Element used to define the boundaries\r\n     * @returns {Object} Coordinates of the boundaries\r\n     */\r\n    Popper.prototype._getBoundaries = function(data, padding, boundariesElement) {\r\n        // NOTE: 1 DOM access here\r\n        var boundaries = {};\r\n        var width, height;\r\n        if (boundariesElement === 'window') {\r\n            var body = root.document.body,\r\n                html = root.document.documentElement;\r\n\r\n            height = Math.max( body.scrollHeight, body.offsetHeight, html.clientHeight, html.scrollHeight, html.offsetHeight );\r\n            width = Math.max( body.scrollWidth, body.offsetWidth, html.clientWidth, html.scrollWidth, html.offsetWidth );\r\n\r\n            boundaries = {\r\n                top: 0,\r\n                right: width,\r\n                bottom: height,\r\n                left: 0\r\n            };\r\n        } else if (boundariesElement === 'viewport') {\r\n            var offsetParent = getOffsetParent(this._popper);\r\n            var scrollParent = getScrollParent(this._popper);\r\n            var offsetParentRect = getOffsetRect(offsetParent);\r\n\r\n\t\t\t// Thanks the fucking native API, `document.body.scrollTop` & `document.documentElement.scrollTop`\r\n\t\t\tvar getScrollTopValue = function (element) {\r\n\t\t\t\treturn element == document.body ? Math.max(document.documentElement.scrollTop, document.body.scrollTop) : element.scrollTop;\r\n\t\t\t}\r\n\t\t\tvar getScrollLeftValue = function (element) {\r\n\t\t\t\treturn element == document.body ? Math.max(document.documentElement.scrollLeft, document.body.scrollLeft) : element.scrollLeft;\r\n\t\t\t}\r\n\r\n            // if the popper is fixed we don't have to substract scrolling from the boundaries\r\n            var scrollTop = data.offsets.popper.position === 'fixed' ? 0 : getScrollTopValue(scrollParent);\r\n            var scrollLeft = data.offsets.popper.position === 'fixed' ? 0 : getScrollLeftValue(scrollParent);\r\n\r\n            boundaries = {\r\n                top: 0 - (offsetParentRect.top - scrollTop),\r\n                right: root.document.documentElement.clientWidth - (offsetParentRect.left - scrollLeft),\r\n                bottom: root.document.documentElement.clientHeight - (offsetParentRect.top - scrollTop),\r\n                left: 0 - (offsetParentRect.left - scrollLeft)\r\n            };\r\n        } else {\r\n            if (getOffsetParent(this._popper) === boundariesElement) {\r\n                boundaries = {\r\n                    top: 0,\r\n                    left: 0,\r\n                    right: boundariesElement.clientWidth,\r\n                    bottom: boundariesElement.clientHeight\r\n                };\r\n            } else {\r\n                boundaries = getOffsetRect(boundariesElement);\r\n            }\r\n        }\r\n        boundaries.left += padding;\r\n        boundaries.right -= padding;\r\n        boundaries.top = boundaries.top + padding;\r\n        boundaries.bottom = boundaries.bottom - padding;\r\n        return boundaries;\r\n    };\r\n\r\n\r\n    /**\r\n     * Loop trough the list of modifiers and run them in order, each of them will then edit the data object\r\n     * @method\r\n     * @memberof Popper\r\n     * @access public\r\n     * @param {Object} data\r\n     * @param {Array} modifiers\r\n     * @param {Function} ends\r\n     */\r\n    Popper.prototype.runModifiers = function(data, modifiers, ends) {\r\n        var modifiersToRun = modifiers.slice();\r\n        if (ends !== undefined) {\r\n            modifiersToRun = this._options.modifiers.slice(0, getArrayKeyIndex(this._options.modifiers, ends));\r\n        }\r\n\r\n        modifiersToRun.forEach(function(modifier) {\r\n            if (isFunction(modifier)) {\r\n                data = modifier.call(this, data);\r\n            }\r\n        }.bind(this));\r\n\r\n        return data;\r\n    };\r\n\r\n    /**\r\n     * Helper used to know if the given modifier depends from another one.\r\n     * @method\r\n     * @memberof Popper\r\n     * @param {String} requesting - name of requesting modifier\r\n     * @param {String} requested - name of requested modifier\r\n     * @returns {Boolean}\r\n     */\r\n    Popper.prototype.isModifierRequired = function(requesting, requested) {\r\n        var index = getArrayKeyIndex(this._options.modifiers, requesting);\r\n        return !!this._options.modifiers.slice(0, index).filter(function(modifier) {\r\n            return modifier === requested;\r\n        }).length;\r\n    };\r\n\r\n    //\r\n    // Modifiers\r\n    //\r\n\r\n    /**\r\n     * Modifiers list\r\n     * @namespace Popper.modifiers\r\n     * @memberof Popper\r\n     * @type {Object}\r\n     */\r\n    Popper.prototype.modifiers = {};\r\n\r\n    /**\r\n     * Apply the computed styles to the popper element\r\n     * @method\r\n     * @memberof Popper.modifiers\r\n     * @argument {Object} data - The data object generated by `update` method\r\n     * @returns {Object} The same data object\r\n     */\r\n    Popper.prototype.modifiers.applyStyle = function(data) {\r\n        // apply the final offsets to the popper\r\n        // NOTE: 1 DOM access here\r\n        var styles = {\r\n            position: data.offsets.popper.position\r\n        };\r\n\r\n        // round top and left to avoid blurry text\r\n        var left = Math.round(data.offsets.popper.left);\r\n        var top = Math.round(data.offsets.popper.top);\r\n\r\n        // if gpuAcceleration is set to true and transform is supported, we use `translate3d` to apply the position to the popper\r\n        // we automatically use the supported prefixed version if needed\r\n        var prefixedProperty;\r\n        if (this._options.gpuAcceleration && (prefixedProperty = getSupportedPropertyName('transform'))) {\r\n            styles[prefixedProperty] = 'translate3d(' + left + 'px, ' + top + 'px, 0)';\r\n            styles.top = 0;\r\n            styles.left = 0;\r\n        }\r\n        // othwerise, we use the standard `left` and `top` properties\r\n        else {\r\n            styles.left =left;\r\n            styles.top = top;\r\n        }\r\n\r\n        // any property present in `data.styles` will be applied to the popper,\r\n        // in this way we can make the 3rd party modifiers add custom styles to it\r\n        // Be aware, modifiers could override the properties defined in the previous\r\n        // lines of this modifier!\r\n        Object.assign(styles, data.styles);\r\n\r\n        setStyle(this._popper, styles);\r\n\r\n        // set an attribute which will be useful to style the tooltip (use it to properly position its arrow)\r\n        // NOTE: 1 DOM access here\r\n        this._popper.setAttribute('x-placement', data.placement);\r\n\r\n        // if the arrow modifier is required and the arrow style has been computed, apply the arrow style\r\n        if (this.isModifierRequired(this.modifiers.applyStyle, this.modifiers.arrow) && data.offsets.arrow) {\r\n            setStyle(data.arrowElement, data.offsets.arrow);\r\n        }\r\n\r\n        return data;\r\n    };\r\n\r\n    /**\r\n     * Modifier used to shift the popper on the start or end of its reference element side\r\n     * @method\r\n     * @memberof Popper.modifiers\r\n     * @argument {Object} data - The data object generated by `update` method\r\n     * @returns {Object} The data object, properly modified\r\n     */\r\n    Popper.prototype.modifiers.shift = function(data) {\r\n        var placement = data.placement;\r\n        var basePlacement = placement.split('-')[0];\r\n        var shiftVariation = placement.split('-')[1];\r\n\r\n        // if shift shiftVariation is specified, run the modifier\r\n        if (shiftVariation) {\r\n            var reference = data.offsets.reference;\r\n            var popper = getPopperClientRect(data.offsets.popper);\r\n\r\n            var shiftOffsets = {\r\n                y: {\r\n                    start:  { top: reference.top },\r\n                    end:    { top: reference.top + reference.height - popper.height }\r\n                },\r\n                x: {\r\n                    start:  { left: reference.left },\r\n                    end:    { left: reference.left + reference.width - popper.width }\r\n                }\r\n            };\r\n\r\n            var axis = ['bottom', 'top'].indexOf(basePlacement) !== -1 ? 'x' : 'y';\r\n\r\n            data.offsets.popper = Object.assign(popper, shiftOffsets[axis][shiftVariation]);\r\n        }\r\n\r\n        return data;\r\n    };\r\n\r\n\r\n    /**\r\n     * Modifier used to make sure the popper does not overflows from it's boundaries\r\n     * @method\r\n     * @memberof Popper.modifiers\r\n     * @argument {Object} data - The data object generated by `update` method\r\n     * @returns {Object} The data object, properly modified\r\n     */\r\n    Popper.prototype.modifiers.preventOverflow = function(data) {\r\n        var order = this._options.preventOverflowOrder;\r\n        var popper = getPopperClientRect(data.offsets.popper);\r\n\r\n        var check = {\r\n            left: function() {\r\n                var left = popper.left;\r\n                if (popper.left < data.boundaries.left) {\r\n                    left = Math.max(popper.left, data.boundaries.left);\r\n                }\r\n                return { left: left };\r\n            },\r\n            right: function() {\r\n                var left = popper.left;\r\n                if (popper.right > data.boundaries.right) {\r\n                    left = Math.min(popper.left, data.boundaries.right - popper.width);\r\n                }\r\n                return { left: left };\r\n            },\r\n            top: function() {\r\n                var top = popper.top;\r\n                if (popper.top < data.boundaries.top) {\r\n                    top = Math.max(popper.top, data.boundaries.top);\r\n                }\r\n                return { top: top };\r\n            },\r\n            bottom: function() {\r\n                var top = popper.top;\r\n                if (popper.bottom > data.boundaries.bottom) {\r\n                    top = Math.min(popper.top, data.boundaries.bottom - popper.height);\r\n                }\r\n                return { top: top };\r\n            }\r\n        };\r\n\r\n        order.forEach(function(direction) {\r\n            data.offsets.popper = Object.assign(popper, check[direction]());\r\n        });\r\n\r\n        return data;\r\n    };\r\n\r\n    /**\r\n     * Modifier used to make sure the popper is always near its reference\r\n     * @method\r\n     * @memberof Popper.modifiers\r\n     * @argument {Object} data - The data object generated by _update method\r\n     * @returns {Object} The data object, properly modified\r\n     */\r\n    Popper.prototype.modifiers.keepTogether = function(data) {\r\n        var popper  = getPopperClientRect(data.offsets.popper);\r\n        var reference = data.offsets.reference;\r\n        var f = Math.floor;\r\n\r\n        if (popper.right < f(reference.left)) {\r\n            data.offsets.popper.left = f(reference.left) - popper.width;\r\n        }\r\n        if (popper.left > f(reference.right)) {\r\n            data.offsets.popper.left = f(reference.right);\r\n        }\r\n        if (popper.bottom < f(reference.top)) {\r\n            data.offsets.popper.top = f(reference.top) - popper.height;\r\n        }\r\n        if (popper.top > f(reference.bottom)) {\r\n            data.offsets.popper.top = f(reference.bottom);\r\n        }\r\n\r\n        return data;\r\n    };\r\n\r\n    /**\r\n     * Modifier used to flip the placement of the popper when the latter is starting overlapping its reference element.\r\n     * Requires the `preventOverflow` modifier before it in order to work.\r\n     * **NOTE:** This modifier will run all its previous modifiers everytime it tries to flip the popper!\r\n     * @method\r\n     * @memberof Popper.modifiers\r\n     * @argument {Object} data - The data object generated by _update method\r\n     * @returns {Object} The data object, properly modified\r\n     */\r\n    Popper.prototype.modifiers.flip = function(data) {\r\n        // check if preventOverflow is in the list of modifiers before the flip modifier.\r\n        // otherwise flip would not work as expected.\r\n        if (!this.isModifierRequired(this.modifiers.flip, this.modifiers.preventOverflow)) {\r\n            console.warn('WARNING: preventOverflow modifier is required by flip modifier in order to work, be sure to include it before flip!');\r\n            return data;\r\n        }\r\n\r\n        if (data.flipped && data.placement === data._originalPlacement) {\r\n            // seems like flip is trying to loop, probably there's not enough space on any of the flippable sides\r\n            return data;\r\n        }\r\n\r\n        var placement = data.placement.split('-')[0];\r\n        var placementOpposite = getOppositePlacement(placement);\r\n        var variation = data.placement.split('-')[1] || '';\r\n\r\n        var flipOrder = [];\r\n        if(this._options.flipBehavior === 'flip') {\r\n            flipOrder = [\r\n                placement,\r\n                placementOpposite\r\n            ];\r\n        } else {\r\n            flipOrder = this._options.flipBehavior;\r\n        }\r\n\r\n        flipOrder.forEach(function(step, index) {\r\n            if (placement !== step || flipOrder.length === index + 1) {\r\n                return;\r\n            }\r\n\r\n            placement = data.placement.split('-')[0];\r\n            placementOpposite = getOppositePlacement(placement);\r\n\r\n            var popperOffsets = getPopperClientRect(data.offsets.popper);\r\n\r\n            // this boolean is used to distinguish right and bottom from top and left\r\n            // they need different computations to get flipped\r\n            var a = ['right', 'bottom'].indexOf(placement) !== -1;\r\n\r\n            // using Math.floor because the reference offsets may contain decimals we are not going to consider here\r\n            if (\r\n                a && Math.floor(data.offsets.reference[placement]) > Math.floor(popperOffsets[placementOpposite]) ||\r\n                !a && Math.floor(data.offsets.reference[placement]) < Math.floor(popperOffsets[placementOpposite])\r\n            ) {\r\n                // we'll use this boolean to detect any flip loop\r\n                data.flipped = true;\r\n                data.placement = flipOrder[index + 1];\r\n                if (variation) {\r\n                    data.placement += '-' + variation;\r\n                }\r\n                data.offsets.popper = this._getOffsets(this._popper, this._reference, data.placement).popper;\r\n\r\n                data = this.runModifiers(data, this._options.modifiers, this._flip);\r\n            }\r\n        }.bind(this));\r\n        return data;\r\n    };\r\n\r\n    /**\r\n     * Modifier used to add an offset to the popper, useful if you more granularity positioning your popper.\r\n     * The offsets will shift the popper on the side of its reference element.\r\n     * @method\r\n     * @memberof Popper.modifiers\r\n     * @argument {Object} data - The data object generated by _update method\r\n     * @returns {Object} The data object, properly modified\r\n     */\r\n    Popper.prototype.modifiers.offset = function(data) {\r\n        var offset = this._options.offset;\r\n        var popper  = data.offsets.popper;\r\n\r\n        if (data.placement.indexOf('left') !== -1) {\r\n            popper.top -= offset;\r\n        }\r\n        else if (data.placement.indexOf('right') !== -1) {\r\n            popper.top += offset;\r\n        }\r\n        else if (data.placement.indexOf('top') !== -1) {\r\n            popper.left -= offset;\r\n        }\r\n        else if (data.placement.indexOf('bottom') !== -1) {\r\n            popper.left += offset;\r\n        }\r\n        return data;\r\n    };\r\n\r\n    /**\r\n     * Modifier used to move the arrows on the edge of the popper to make sure them are always between the popper and the reference element\r\n     * It will use the CSS outer size of the arrow element to know how many pixels of conjuction are needed\r\n     * @method\r\n     * @memberof Popper.modifiers\r\n     * @argument {Object} data - The data object generated by _update method\r\n     * @returns {Object} The data object, properly modified\r\n     */\r\n    Popper.prototype.modifiers.arrow = function(data) {\r\n        var arrow  = this._options.arrowElement;\r\n\r\n        // if the arrowElement is a string, suppose it's a CSS selector\r\n        if (typeof arrow === 'string') {\r\n            arrow = this._popper.querySelector(arrow);\r\n        }\r\n\r\n        // if arrow element is not found, don't run the modifier\r\n        if (!arrow) {\r\n            return data;\r\n        }\r\n\r\n        // the arrow element must be child of its popper\r\n        if (!this._popper.contains(arrow)) {\r\n            console.warn('WARNING: `arrowElement` must be child of its popper element!');\r\n            return data;\r\n        }\r\n\r\n        // arrow depends on keepTogether in order to work\r\n        if (!this.isModifierRequired(this.modifiers.arrow, this.modifiers.keepTogether)) {\r\n            console.warn('WARNING: keepTogether modifier is required by arrow modifier in order to work, be sure to include it before arrow!');\r\n            return data;\r\n        }\r\n\r\n        var arrowStyle  = {};\r\n        var placement   = data.placement.split('-')[0];\r\n        var popper      = getPopperClientRect(data.offsets.popper);\r\n        var reference   = data.offsets.reference;\r\n        var isVertical  = ['left', 'right'].indexOf(placement) !== -1;\r\n\r\n        var len         = isVertical ? 'height' : 'width';\r\n        var side        = isVertical ? 'top' : 'left';\r\n        var altSide     = isVertical ? 'left' : 'top';\r\n        var opSide      = isVertical ? 'bottom' : 'right';\r\n        var arrowSize   = getOuterSizes(arrow)[len];\r\n\r\n        //\r\n        // extends keepTogether behavior making sure the popper and its reference have enough pixels in conjuction\r\n        //\r\n\r\n        // top/left side\r\n        if (reference[opSide] - arrowSize < popper[side]) {\r\n            data.offsets.popper[side] -= popper[side] - (reference[opSide] - arrowSize);\r\n        }\r\n        // bottom/right side\r\n        if (reference[side] + arrowSize > popper[opSide]) {\r\n            data.offsets.popper[side] += (reference[side] + arrowSize) - popper[opSide];\r\n        }\r\n\r\n        // compute center of the popper\r\n        var center = reference[side] + (reference[len] / 2) - (arrowSize / 2);\r\n\r\n        var sideValue = center - popper[side];\r\n\r\n        // prevent arrow from being placed not contiguously to its popper\r\n        sideValue = Math.max(Math.min(popper[len] - arrowSize - 3, sideValue), 3);\r\n        arrowStyle[side] = sideValue;\r\n        arrowStyle[altSide] = ''; // make sure to remove any old style from the arrow\r\n\r\n        data.offsets.arrow = arrowStyle;\r\n        data.arrowElement = arrow;\r\n\r\n        return data;\r\n    };\r\n\r\n\r\n    //\r\n    // Helpers\r\n    //\r\n\r\n    /**\r\n     * Get the outer sizes of the given element (offset size + margins)\r\n     * @function\r\n     * @ignore\r\n     * @argument {Element} element\r\n     * @returns {Object} object containing width and height properties\r\n     */\r\n    function getOuterSizes(element) {\r\n        // NOTE: 1 DOM access here\r\n        var _display = element.style.display, _visibility = element.style.visibility;\r\n        element.style.display = 'block'; element.style.visibility = 'hidden';\r\n        var calcWidthToForceRepaint = element.offsetWidth;\r\n\r\n        // original method\r\n        var styles = root.getComputedStyle(element);\r\n        var x = parseFloat(styles.marginTop) + parseFloat(styles.marginBottom);\r\n        var y = parseFloat(styles.marginLeft) + parseFloat(styles.marginRight);\r\n        var result = { width: element.offsetWidth + y, height: element.offsetHeight + x };\r\n\r\n        // reset element styles\r\n        element.style.display = _display; element.style.visibility = _visibility;\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get the opposite placement of the given one/\r\n     * @function\r\n     * @ignore\r\n     * @argument {String} placement\r\n     * @returns {String} flipped placement\r\n     */\r\n    function getOppositePlacement(placement) {\r\n        var hash = {left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\r\n        return placement.replace(/left|right|bottom|top/g, function(matched){\r\n            return hash[matched];\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Given the popper offsets, generate an output similar to getBoundingClientRect\r\n     * @function\r\n     * @ignore\r\n     * @argument {Object} popperOffsets\r\n     * @returns {Object} ClientRect like output\r\n     */\r\n    function getPopperClientRect(popperOffsets) {\r\n        var offsets = Object.assign({}, popperOffsets);\r\n        offsets.right = offsets.left + offsets.width;\r\n        offsets.bottom = offsets.top + offsets.height;\r\n        return offsets;\r\n    }\r\n\r\n    /**\r\n     * Given an array and the key to find, returns its index\r\n     * @function\r\n     * @ignore\r\n     * @argument {Array} arr\r\n     * @argument keyToFind\r\n     * @returns index or null\r\n     */\r\n    function getArrayKeyIndex(arr, keyToFind) {\r\n        var i = 0, key;\r\n        for (key in arr) {\r\n            if (arr[key] === keyToFind) {\r\n                return i;\r\n            }\r\n            i++;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Get CSS computed property of the given element\r\n     * @function\r\n     * @ignore\r\n     * @argument {Eement} element\r\n     * @argument {String} property\r\n     */\r\n    function getStyleComputedProperty(element, property) {\r\n        // NOTE: 1 DOM access here\r\n        var css = root.getComputedStyle(element, null);\r\n        return css[property];\r\n    }\r\n\r\n    /**\r\n     * Returns the offset parent of the given element\r\n     * @function\r\n     * @ignore\r\n     * @argument {Element} element\r\n     * @returns {Element} offset parent\r\n     */\r\n    function getOffsetParent(element) {\r\n        // NOTE: 1 DOM access here\r\n        var offsetParent = element.offsetParent;\r\n        return offsetParent === root.document.body || !offsetParent ? root.document.documentElement : offsetParent;\r\n    }\r\n\r\n    /**\r\n     * Returns the scrolling parent of the given element\r\n     * @function\r\n     * @ignore\r\n     * @argument {Element} element\r\n     * @returns {Element} offset parent\r\n     */\r\n    function getScrollParent(element) {\r\n        var parent = element.parentNode;\r\n\r\n        if (!parent) {\r\n            return element;\r\n        }\r\n\r\n        if (parent === root.document) {\r\n            // Firefox puts the scrollTOp value on `documentElement` instead of `body`, we then check which of them is\r\n            // greater than 0 and return the proper element\r\n            if (root.document.body.scrollTop) {\r\n                return root.document.body;\r\n            } else {\r\n                return root.document.documentElement;\r\n            }\r\n        }\r\n\r\n        // Firefox want us to check `-x` and `-y` variations as well\r\n        if (\r\n            ['scroll', 'auto'].indexOf(getStyleComputedProperty(parent, 'overflow')) !== -1 ||\r\n            ['scroll', 'auto'].indexOf(getStyleComputedProperty(parent, 'overflow-x')) !== -1 ||\r\n            ['scroll', 'auto'].indexOf(getStyleComputedProperty(parent, 'overflow-y')) !== -1\r\n        ) {\r\n            // If the detected scrollParent is body, we perform an additional check on its parentNode\r\n            // in this way we'll get body if the browser is Chrome-ish, or documentElement otherwise\r\n            // fixes issue #65\r\n            return parent;\r\n        }\r\n        return getScrollParent(element.parentNode);\r\n    }\r\n\r\n    /**\r\n     * Check if the given element is fixed or is inside a fixed parent\r\n     * @function\r\n     * @ignore\r\n     * @argument {Element} element\r\n     * @argument {Element} customContainer\r\n     * @returns {Boolean} answer to \"isFixed?\"\r\n     */\r\n    function isFixed(element) {\r\n        if (element === root.document.body) {\r\n            return false;\r\n        }\r\n        if (getStyleComputedProperty(element, 'position') === 'fixed') {\r\n            return true;\r\n        }\r\n        return element.parentNode ? isFixed(element.parentNode) : element;\r\n    }\r\n\r\n    /**\r\n     * Set the style to the given popper\r\n     * @function\r\n     * @ignore\r\n     * @argument {Element} element - Element to apply the style to\r\n     * @argument {Object} styles - Object with a list of properties and values which will be applied to the element\r\n     */\r\n    function setStyle(element, styles) {\r\n        function is_numeric(n) {\r\n            return (n !== '' && !isNaN(parseFloat(n)) && isFinite(n));\r\n        }\r\n        Object.keys(styles).forEach(function(prop) {\r\n            var unit = '';\r\n            // add unit if the value is numeric and is one of the following\r\n            if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 && is_numeric(styles[prop])) {\r\n                unit = 'px';\r\n            }\r\n            element.style[prop] = styles[prop] + unit;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Check if the given variable is a function\r\n     * @function\r\n     * @ignore\r\n     * @argument {*} functionToCheck - variable to check\r\n     * @returns {Boolean} answer to: is a function?\r\n     */\r\n    function isFunction(functionToCheck) {\r\n        var getType = {};\r\n        return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\r\n    }\r\n\r\n    /**\r\n     * Get the position of the given element, relative to its offset parent\r\n     * @function\r\n     * @ignore\r\n     * @param {Element} element\r\n     * @return {Object} position - Coordinates of the element and its `scrollTop`\r\n     */\r\n    function getOffsetRect(element) {\r\n        var elementRect = {\r\n            width: element.offsetWidth,\r\n            height: element.offsetHeight,\r\n            left: element.offsetLeft,\r\n            top: element.offsetTop\r\n        };\r\n\r\n        elementRect.right = elementRect.left + elementRect.width;\r\n        elementRect.bottom = elementRect.top + elementRect.height;\r\n\r\n        // position\r\n        return elementRect;\r\n    }\r\n\r\n    /**\r\n     * Get bounding client rect of given element\r\n     * @function\r\n     * @ignore\r\n     * @param {HTMLElement} element\r\n     * @return {Object} client rect\r\n     */\r\n    function getBoundingClientRect(element) {\r\n        var rect = element.getBoundingClientRect();\r\n\r\n        // whether the IE version is lower than 11\r\n        var isIE = navigator.userAgent.indexOf(\"MSIE\") != -1;\r\n\r\n        // fix ie document bounding top always 0 bug\r\n        var rectTop = isIE && element.tagName === 'HTML'\r\n            ? -element.scrollTop\r\n            : rect.top;\r\n\r\n        return {\r\n            left: rect.left,\r\n            top: rectTop,\r\n            right: rect.right,\r\n            bottom: rect.bottom,\r\n            width: rect.right - rect.left,\r\n            height: rect.bottom - rectTop\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Given an element and one of its parents, return the offset\r\n     * @function\r\n     * @ignore\r\n     * @param {HTMLElement} element\r\n     * @param {HTMLElement} parent\r\n     * @return {Object} rect\r\n     */\r\n    function getOffsetRectRelativeToCustomParent(element, parent, fixed) {\r\n        var elementRect = getBoundingClientRect(element);\r\n        var parentRect = getBoundingClientRect(parent);\r\n\r\n        if (fixed) {\r\n            var scrollParent = getScrollParent(parent);\r\n            parentRect.top += scrollParent.scrollTop;\r\n            parentRect.bottom += scrollParent.scrollTop;\r\n            parentRect.left += scrollParent.scrollLeft;\r\n            parentRect.right += scrollParent.scrollLeft;\r\n        }\r\n\r\n        var rect = {\r\n            top: elementRect.top - parentRect.top ,\r\n            left: elementRect.left - parentRect.left ,\r\n            bottom: (elementRect.top - parentRect.top) + elementRect.height,\r\n            right: (elementRect.left - parentRect.left) + elementRect.width,\r\n            width: elementRect.width,\r\n            height: elementRect.height\r\n        };\r\n        return rect;\r\n    }\r\n\r\n    /**\r\n     * Get the prefixed supported property name\r\n     * @function\r\n     * @ignore\r\n     * @argument {String} property (camelCase)\r\n     * @returns {String} prefixed property (camelCase)\r\n     */\r\n    function getSupportedPropertyName(property) {\r\n        var prefixes = ['', 'ms', 'webkit', 'moz', 'o'];\r\n\r\n        for (var i = 0; i < prefixes.length; i++) {\r\n            var toCheck = prefixes[i] ? prefixes[i] + property.charAt(0).toUpperCase() + property.slice(1) : property;\r\n            if (typeof root.document.body.style[toCheck] !== 'undefined') {\r\n                return toCheck;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * The Object.assign() method is used to copy the values of all enumerable own properties from one or more source\r\n     * objects to a target object. It will return the target object.\r\n     * This polyfill doesn't support symbol properties, since ES5 doesn't have symbols anyway\r\n     * Source: https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\r\n     * @function\r\n     * @ignore\r\n     */\r\n    if (!Object.assign) {\r\n        Object.defineProperty(Object, 'assign', {\r\n            enumerable: false,\r\n            configurable: true,\r\n            writable: true,\r\n            value: function(target) {\r\n                if (target === undefined || target === null) {\r\n                    throw new TypeError('Cannot convert first argument to object');\r\n                }\r\n\r\n                var to = Object(target);\r\n                for (var i = 1; i < arguments.length; i++) {\r\n                    var nextSource = arguments[i];\r\n                    if (nextSource === undefined || nextSource === null) {\r\n                        continue;\r\n                    }\r\n                    nextSource = Object(nextSource);\r\n\r\n                    var keysArray = Object.keys(nextSource);\r\n                    for (var nextIndex = 0, len = keysArray.length; nextIndex < len; nextIndex++) {\r\n                        var nextKey = keysArray[nextIndex];\r\n                        var desc = Object.getOwnPropertyDescriptor(nextSource, nextKey);\r\n                        if (desc !== undefined && desc.enumerable) {\r\n                            to[nextKey] = nextSource[nextKey];\r\n                        }\r\n                    }\r\n                }\r\n                return to;\r\n            }\r\n        });\r\n    }\r\n\r\n    return Popper;\r\n}));\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/color-picker/utils/popper/popper.js","import ol from 'openlayers'\nconst $XYZSource = ol.source.XYZ\nconst $Attribution = ol.Attribution\nclass GOOGLE extends $XYZSource {\n  constructor (options = {}) {\n    let attributions = ''\n    if (options.attributions !== undefined) {\n      attributions = options.attributions\n    } else {\n      attributions = [GOOGLE.ATTRIBUTION]\n    }\n    let crossOrigin = options.crossOrigin !== undefined ? options.crossOrigin : 'anonymous'\n    let url = options.url !== undefined ? options.url : 'http://www.google.cn/maps/vt?lyrs=m@189&gl=cn&x={x}&y={y}&z={z}'\n    super({\n      attributions: attributions,\n      cacheSize: options.cacheSize,\n      crossOrigin: crossOrigin,\n      opaque: options.opaque !== undefined ? options.opaque : true,\n      maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n      tileLoadFunction: options.tileLoadFunction,\n      url: url,\n      wrapX: options.wrapX\n    })\n  }\n  static ATTRIBUTION = new $Attribution({\n    html: '&copy; ' +\n    '<a href=\"http://www.google.cn/maps\">谷歌地图</a> ' +\n    'contributors.'\n  })\n}\n\nexport default GOOGLE\n\n\n\n// WEBPACK FOOTER //\n// ./example/map/source/Google.js","import ol from 'openlayers'\nconst $Attribution = ol.Attribution\nconst $TileImageSource = ol.source.TileImage\nconst $TileGrid = ol.tilegrid.TileGrid\nclass BAIDU extends $TileImageSource {\n  constructor (options = {}) {\n    let attributions = ''\n    if (options.attributions !== undefined) {\n      attributions = options.attributions\n    } else {\n      attributions = [BAIDU.ATTRIBUTION]\n    }\n    options.projection = options['projection'] ? options.projection : 'EPSG:3857'\n    let crossOrigin = options.crossOrigin !== undefined ? options.crossOrigin : 'anonymous'\n    let url = options.url !== undefined ? options.url : 'http://online{0-3}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&udt=20170607&scaler=1&p=1'\n    let tileUrlFunction = options.tileUrlFunction ? options.tileUrlFunction : undefined\n    if (!tileUrlFunction) {\n      tileUrlFunction = function (tileCoord) {\n        let z = tileCoord[0]\n        let x = tileCoord[1]\n        let y = tileCoord[2]\n        if (x < 0) {\n          x = 'M' + (-x)\n        }\n        if (y < 0) {\n          y = 'M' + (-y)\n        }\n        return url.replace('{0-3}', BAIDU.getRandom(0, 3)).replace('{x}', (x).toString()).replace('{y}', y.toString()).replace('{z}', (z).toString())\n      }\n    }\n    let levels = options['levels'] ? options['levels'] : 19\n    let resolutions = []\n    for (let z = 0; z < levels; z++) {\n      resolutions[z] = Math.pow(2, levels - 1 - z)\n    }\n    let tileGrid = new $TileGrid({\n      tileSize: options['tileSize'] ? options['tileSize'] : 256,\n      origin: (options['origin'] ? options['origin'] : [0, 0]),\n      extent: (options['extent'] ? options['extent'] : undefined),\n      resolutions: resolutions,\n      minZoom: ((options['minZoom'] && typeof options['minZoom'] === 'number') ? options['minZoom'] : 0)\n    })\n    super({\n      tileGrid: tileGrid,\n      attributions: attributions,\n      cacheSize: options.cacheSize,\n      projection: options.projection,\n      crossOrigin: crossOrigin,\n      opaque: options.opaque !== undefined ? options.opaque : true,\n      maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n      tileUrlFunction: tileUrlFunction,\n      url: url,\n      wrapX: options.wrapX\n    })\n  }\n  static getRandom (min, max) {\n    let r = Math.random() * (max - min)\n    let re = Math.round(r + min)\n    re = Math.max(Math.min(re, max), min)\n    return re\n  }\n  static ATTRIBUTION = new $Attribution({\n    html: '&copy; ' +\n    '<a href=\"http://map.baidu.com/\">百度地图</a> ' +\n    'contributors.'\n  })\n}\n\nexport default BAIDU\n\n\n\n// WEBPACK FOOTER //\n// ./example/map/source/Baidu.js","import ol from 'openlayers'\r\nconst $LayerGroup = ol.layer.Group\r\nconst $LayerVector = ol.layer.Vector\r\nconst $VectorSource = ol.source.Vector\r\n\r\n/**\r\n * 通过layerName获取图层\r\n * @param map\r\n * @param layerName\r\n * @returns {*}\r\n */\r\nconst getLayerByLayerName = function (map, layerName) {\r\n  try {\r\n    let targetLayer = null\r\n    if (map) {\r\n      let layers = map.getLayers().getArray()\r\n      targetLayer = getLayerInternal(layers, 'layerName', layerName)\r\n    }\r\n    return targetLayer\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * 内部处理获取图层方法\r\n * @param layers\r\n * @param key\r\n * @param value\r\n * @returns {*}\r\n */\r\nconst getLayerInternal = function (layers, key, value) {\r\n  let _target = null\r\n  if (layers.length > 0) {\r\n    layers.every(layer => {\r\n      if (layer instanceof $LayerGroup) {\r\n        let layers = layer.getLayers().getArray()\r\n        _target = getLayerInternal(layers, key, value)\r\n        if (_target) {\r\n          return false\r\n        } else {\r\n          return true\r\n        }\r\n      } else if (layer.get(key) === value) {\r\n        _target = layer\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n  return _target\r\n}\r\n\r\n/**\r\n * 根据相关键值键名获取图层集合\r\n * @param layers\r\n * @param key\r\n * @param value\r\n * @returns {Array}\r\n */\r\nconst getLayersArrayInternal = function (layers, key, value) {\r\n  let _target = []\r\n  if (layers.length > 0) {\r\n    layers.forEach(layer => {\r\n      if (layer instanceof $LayerGroup) {\r\n        let layers = layer.getLayers().getArray()\r\n        let _layer = getLayersArrayInternal(layers, key, value)\r\n        if (_layer) {\r\n          _target = _target.concat(_layer)\r\n        }\r\n      } else if (layer.get(key) === value) {\r\n        _target.push(layer)\r\n      }\r\n    })\r\n  }\r\n  return _target\r\n}\r\n\r\n/**\r\n * 通过键名键值获取图层（注意键名键值必须是set(key, value)）\r\n * @param map\r\n * @param key\r\n * @param value\r\n */\r\nconst getLayerByKeyValue = function (map, key, value) {\r\n  try {\r\n    let targetLayer = null\r\n    if (map) {\r\n      let layers = map.getLayers().getArray()\r\n      targetLayer = getLayerInternal(layers, key, value)\r\n    }\r\n    return targetLayer\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * 通过键名键值获取图层集合（注意键名键值必须是set(key, value)）\r\n * @param map\r\n * @param key\r\n * @param value\r\n */\r\nconst getLayersArrayByKeyValue = function (map, key, value) {\r\n  try {\r\n    let targetLayers = []\r\n    if (map) {\r\n      let layers = map.getLayers().getArray()\r\n      targetLayers = getLayersArrayInternal(layers, key, value)\r\n    }\r\n    return targetLayers\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * 创建临时图层\r\n * @param map\r\n * @param layerName\r\n * @param params\r\n * @returns {*}\r\n */\r\nconst createVectorLayer = function (map, layerName, params) {\r\n  try {\r\n    if (map) {\r\n      let vectorLayer = getLayerByLayerName(map, layerName)\r\n      if (!(vectorLayer instanceof $LayerVector)) {\r\n        vectorLayer = null\r\n      }\r\n      if (!vectorLayer) {\r\n        if (params && params.create) {\r\n          vectorLayer = new $LayerVector({\r\n            layerName: layerName,\r\n            params: params,\r\n            layerType: 'vector',\r\n            source: new $VectorSource({\r\n              wrapX: false\r\n            })\r\n          })\r\n        }\r\n      }\r\n      if (map && vectorLayer) {\r\n        if (params && params.hasOwnProperty('selectable')) {\r\n          vectorLayer.set('selectable', params.selectable)\r\n        }\r\n        // 图层只添加一次\r\n        let _vectorLayer = getLayerByLayerName(map, layerName)\r\n        if (!_vectorLayer || !(_vectorLayer instanceof $LayerVector)) {\r\n          map.addLayer(vectorLayer)\r\n        }\r\n      }\r\n      return vectorLayer\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport {\r\n  getLayerByKeyValue,\r\n  getLayerByLayerName,\r\n  createVectorLayer,\r\n  getLayersArrayByKeyValue\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./example/map/layer/layerUtils.js","<template>\n  <div class=\"layer-switcher\">\n    <ul class=\"layer-switcher-ul\">\n      <li\n        :key=\"item.layerName\"\n        class=\"layer-switcher-li\"\n        :class=\"selectLayerName === item.layerName ? 'selected-item' : ''\"\n        :style=\"fixStyle(item, index)\"\n        @click=\"switchLayer(item)\"\n        v-for=\"(item, index) in layers\">\n        <span class=\"layer-name\">{{item.layerName}}</span>\n      </li>\n    </ul>\n  </div>\n</template>\n<script>\n  import { getLayersArrayByKeyValue } from '../../map/layer/layerUtils'\n  export default {\n    data () {\n      return {\n        layers: [\n          {\n            layerName: 'OSM',\n            name: 'OSM',\n            icon: './static/images/maptype_pano.png'\n          },\n          {\n            layerName: 'Google',\n            name: '谷歌',\n            icon: './static/images/maptype_yunran.png'\n          },\n          {\n            layerName: 'Baidu',\n            name: '百度',\n            icon: './static/images/maptype_vector.png'\n          }\n        ],\n        baseLayers: '',\n        selectLayerName: 'Baidu',\n        isOver: false\n      }\n    },\n    computed: {\n    },\n    mounted () {\n      this.$el.addEventListener('mouseenter', event => {\n        this.isOver = true\n      }, false)\n      this.$el.addEventListener('mouseleave', event => {\n        this.isOver = false\n      }, false)\n    },\n    methods: {\n      // 动态样式（主要处理层叠效果）\n      fixStyle (item, index) {\n        return {\n          background: 'url(' + item['icon'] + ') 0px 0px no-repeat',\n          zIndex: index + 1\n        }\n      },\n      // 切换底图\n      switchLayer (item) {\n        if (item['layerName']) {\n          this.selectLayerName = item['layerName']\n          let layers = this.getBaseLayers()\n          if (layers) {\n            layers.forEach(layer => {\n              if (layer.get('layerName') === item['layerName']) {\n                layer.setVisible(true)\n              } else {\n                layer.setVisible(false)\n              }\n            })\n          }\n        }\n      },\n      // 获取所有底图（获取后不会再次获取，性能优化）\n      getBaseLayers () {\n        if (!this.baseLayers) {\n          this.baseLayers = getLayersArrayByKeyValue(this.$Map, 'isBaseLayer', true)\n        }\n        return this.baseLayers\n      }\n    }\n  }\n</script>\n<style scoped lang=\"scss\">\n  .layer-switcher {\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    z-index: 1;\n    ul {\n      width: 110px;\n      height: 80px;\n      transition-property: width,background-color;\n      transition-duration: .4s;\n      background-color: rgba(255, 255, 255, 0);\n      li {\n        height: 60px;\n        width: 86px;\n        position: absolute;\n        border-radius: 2px;\n        top: 10px;\n        box-sizing: border-box;\n        border: 1px solid rgba(153,153,153,.42);\n        background-size: 86px 240px;\n        transition-property: right,background-image;\n        transition-duration: .4s;\n        .layer-name {\n          position: absolute;\n          bottom: 0;\n          right: 0;\n          display: inline-block;\n          padding: 3px 3px 2px 4px;\n          font-size: 12px;\n          height: 16px;\n          line-height: 8px;\n          color: #FFF;\n          border-top-left-radius: 2px;\n        }\n        &:hover {\n          cursor: pointer;\n          border-color: #3385FF;\n          .layer-name {\n            background-color: #3385FF;\n          }\n        }\n      }\n      li:nth-child(1) {\n        right: 0px;\n        margin-right: 30px;\n      }\n      li:nth-child(2) {\n        right: 0px;\n        margin-right: 20px;\n      }\n      li:nth-child(3) {\n        right: 0px;\n        margin-right: 10px;\n      }\n      .selected-item {\n        border-color: #3385FF;\n        .layer-name {\n          background-color: #3385FF;\n        }\n      }\n      &:hover {\n        width: 298px;\n        background-color: rgba(255, 255, 255, 0.8);\n        li:nth-child(1) {\n          right: 192px;\n          margin-right: 10px;\n        }\n        li:nth-child(2) {\n          right: 96px;\n          margin-right: 10px;\n        }\n        li:nth-child(3) {\n          right: 0px;\n          margin-right: 10px;\n        }\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// example/components/control/LayerSwitcher.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"layer-switcher\"},[_c('ul',{staticClass:\"layer-switcher-ul\"},_vm._l((_vm.layers),function(item,index){return _c('li',{key:item.layerName,staticClass:\"layer-switcher-li\",class:_vm.selectLayerName === item.layerName ? 'selected-item' : '',style:(_vm.fixStyle(item, index)),on:{\"click\":function($event){_vm.switchLayer(item)}}},[_c('span',{staticClass:\"layer-name\"},[_vm._v(_vm._s(item.layerName))])])}))])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-22eb29fb\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./example/components/control/LayerSwitcher.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-22eb29fb\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./LayerSwitcher.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LayerSwitcher.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./LayerSwitcher.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-22eb29fb\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./LayerSwitcher.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-22eb29fb\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./example/components/control/LayerSwitcher.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"main-map\" class=\"map-box\">\n    <layer-switcher></layer-switcher>\n    <ol-plot-vue :map=\"map\" :plots=\"plots\"></ol-plot-vue>\n  </div>\n</template>\n<script>\n  import Vue from 'vue'\n  import ol from 'openlayers'\n  import GOOGLE from './map/source/Google'\n  import BAIDU from './map/source/Baidu'\n  import layerSwitcher from './components/control/LayerSwitcher'\n  import plots from './assets/plots'\n  export default {\n    data () {\n      return {\n        contextMenu: {\n          itemWidth: 130,\n          itemHeight: 30,\n          items: [\n            {\n              name: '测面',\n              alias: 'measureArea',\n              iconType: 'iconfont',\n              icon: 'icon-cemian',\n              iconColor: '#1AD3EF',\n              showLine: true\n            },\n            {\n              name: '清空地图',\n              alias: 'clearMap',\n              iconType: 'iconfont',\n              icon: 'icon-shanchu',\n              iconColor: '#F05849'\n            },\n            {\n              name: '搜周边',\n              alias: 'circleSearch',\n              iconType: 'iconfont',\n              icon: 'icon-map',\n              iconColor: '#2994EF'\n            }\n          ]\n        },\n        plots: plots,\n        map: null\n      }\n    },\n    mounted () {\n      this.initMap()\n    },\n    methods: {\n      // 地图初始化\n      initMap () {\n        Vue.prototype.$Map = new ol.Map({\n          target: 'main-map',\n          layers: [\n            new ol.layer.Tile({\n              isBaseLayer: true,\n              layerName: 'OSM',\n              visible: false,\n              source: new ol.source.OSM()\n            }),\n            new ol.layer.Tile({\n              isBaseLayer: true,\n              layerName: 'Google',\n              visible: false,\n              source: new GOOGLE()\n            }),\n            new ol.layer.Tile({\n              isBaseLayer: true,\n              layerName: 'Baidu',\n              visible: true,\n              source: new BAIDU({\n                projection: 'EPSG:3857',\n                origin: [43.88955327932, 12.590178885765],\n                url: 'http://online{0-3}.map.bdimg.com/onlinelabel/?qt=tile&x={x}&y={y}&z={z}&styles=pl&udt=20170607&scaler=1&p=1'\n              })\n            })\n          ],\n          controls: [],\n          view: new ol.View({\n            center: ol.proj.fromLonLat([113.534501, 34.441045]),\n            zoom: 4\n          })\n        })\n        Vue.prototype.$View = this.$Map.getView()\n        this.map = this.$Map\n        this.addContextMenu()\n      },\n      // 添加右键菜单\n      addContextMenu () {\n        // this.$Map.addControl(new ContextMenu(this.contextMenu))\n      }\n    },\n    components: {\n      layerSwitcher\n    }\n  }\n</script>\n<style lang=\"scss\">\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0\n  }\n  ul, li {\n    list-style: none;\n  }\n  .clearfix {\n    *zoom: 1;\n  }\n  .clearfix:after {\n    visibility: hidden;\n    display: block;\n    font-size: 0;\n    content: \" \";\n    clear: both;\n    height: 0;\n  }\n  :focus {\n    outline: none;\n  }\n  a {\n    text-decoration: none;\n    outline: none;\n  }\n  .map-box {\n    position: absolute;\n    top: 0px;\n    bottom: 0px;\n    left: 0px;\n    right: 0px;\n    height: 100%;\n    width: 100%;\n    margin: 0;\n    padding: 0;\n    overflow: hidden;\n    font-family: Helvetica Neue For Number,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Helvetica Neue,Helvetica,Arial,sans-serif;\n    font-size: 12px;\n    line-height: 1.5;\n    color: #3a3a3a;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// example/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"map-box\",attrs:{\"id\":\"main-map\"}},[_c('layer-switcher'),_vm._v(\" \"),_c('ol-plot-vue',{attrs:{\"map\":_vm.map,\"plots\":_vm.plots}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-364d74d9\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./example/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-364d74d9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-364d74d9\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./example/App.vue\n// module id = null\n// module chunks = ","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 常用变量\r\n */\r\nexport const FITTING_COUNT = 100\r\nexport const HALF_PI = Math.PI / 2\r\nexport const ZERO_TOLERANCE = 0.0001\r\nexport const TWO_PI = Math.PI * 2\r\nexport const BASE_LAYERNAME = 'ol-plot-vector-layer' // 矢量图层名，（唯一标识）\r\nexport const BASE_HELP_CONTROL_POINT_ID = 'plot-helper-control-point-div' // 控制点要素的基类id\r\nexport const BASE_HELP_HIDDEN = 'plot-helper-hidden-div' // 父类隐藏容器\r\nexport const DEF_TEXT_STYEL = { // 默认文本框样式\r\n  borderRadius: '2px',\r\n  fontSize: '12px',\r\n  outline: 0,\r\n  overflow: 'hidden',\r\n  boxSizing: 'border-box',\r\n  border: '1px solid #eeeeee',\r\n  fontFamily: 'Helvetica Neue,Helvetica,PingFang SC,Hiragino Sans GB,Microsoft YaHei,Noto Sans CJK SC,WenQuanYi Micro Hei,Arial,sans-serif',\r\n  color: '#010500',\r\n  fontWeight: 400,\r\n  padding: '3px',\r\n  fontStretch: 'normal',\r\n  lineHeight: 'normal',\r\n  textAlign: 'left',\r\n  marginLeft: 'auto',\r\n  marginRight: 'auto',\r\n  width: 'auto',\r\n  height: 'auto',\r\n  background: 'rgb(255, 255, 255)',\r\n  fontStyle: '',\r\n  fontVariant: ''\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Constants.js","import * as Constants from '../Constants'\r\n/**\r\n * 计算两个坐标之间的距离\r\n * @param pnt1\r\n * @param pnt2\r\n * @returns {number}\r\n * @constructor\r\n */\r\nexport const MathDistance = (pnt1, pnt2) => {\r\n  return (Math.sqrt(Math.pow((pnt1[0] - pnt2[0]), 2) + Math.pow((pnt1[1] - pnt2[1]), 2)))\r\n}\r\n\r\n/**\r\n * 计算点集合的总距离\r\n * @param points\r\n * @returns {number}\r\n */\r\nexport const wholeDistance = (points) => {\r\n  let distance = 0\r\n  if (points && Array.isArray(points) && points.length > 0) {\r\n    points.forEach((item, index) => {\r\n      if (index < points.length - 1) {\r\n        distance += (MathDistance(item, points[index + 1]))\r\n      }\r\n    })\r\n  }\r\n  return distance\r\n}\r\n/**\r\n * 获取基础长度\r\n * @param points\r\n * @returns {number}\r\n */\r\nexport const getBaseLength = (points) => {\r\n  return Math.pow(wholeDistance(points), 0.99)\r\n}\r\n\r\n/**\r\n * 求取两个坐标的中间值\r\n * @param point1\r\n * @param point2\r\n * @returns {[*,*]}\r\n * @constructor\r\n */\r\nexport const Mid = (point1, point2) => {\r\n  return [(point1[0] + point2[0]) / 2, (point1[1] + point2[1]) / 2]\r\n}\r\n\r\n/**\r\n * 通过三个点确定一个圆的中心点\r\n * @param point1\r\n * @param point2\r\n * @param point3\r\n */\r\nexport const getCircleCenterOfThreePoints = (point1, point2, point3) => {\r\n  let pntA = [(point1[0] + point2[0]) / 2, (point1[1] + point2[1]) / 2]\r\n  let pntB = [pntA[0] - point1[1] + point2[1], pntA[1] + point1[0] - point2[0]]\r\n  let pntC = [(point1[0] + point3[0]) / 2, (point1[1] + point3[1]) / 2]\r\n  let pntD = [pntC[0] - point1[1] + point3[1], pntC[1] + point1[0] - point3[0]]\r\n  return getIntersectPoint(pntA, pntB, pntC, pntD)\r\n}\r\n\r\n/**\r\n * 获取交集的点\r\n * @param pntA\r\n * @param pntB\r\n * @param pntC\r\n * @param pntD\r\n * @returns {[*,*]}\r\n */\r\nexport const getIntersectPoint = (pntA, pntB, pntC, pntD) => {\r\n  if (pntA[1] === pntB[1]) {\r\n    let f = (pntD[0] - pntC[0]) / (pntD[1] - pntC[1])\r\n    let x = f * (pntA[1] - pntC[1]) + pntC[0]\r\n    let y = pntA[1]\r\n    return [x, y]\r\n  }\r\n  if (pntC[1] === pntD[1]) {\r\n    let e = (pntB[0] - pntA[0]) / (pntB[1] - pntA[1])\r\n    let x = e * (pntC[1] - pntA[1]) + pntA[0]\r\n    let y = pntC[1]\r\n    return [x, y]\r\n  }\r\n  let e = (pntB[0] - pntA[0]) / (pntB[1] - pntA[1])\r\n  let f = (pntD[0] - pntC[0]) / (pntD[1] - pntC[1])\r\n  let y = (e * pntA[1] - pntA[0] - f * pntC[1] + pntC[0]) / (e - f)\r\n  let x = e * y - e * pntA[1] + pntA[0]\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 获取方位角（地平经度）\r\n * @param startPoint\r\n * @param endPoint\r\n * @returns {*}\r\n */\r\nexport const getAzimuth = (startPoint, endPoint) => {\r\n  let azimuth\r\n  let angle = Math.asin(Math.abs(endPoint[1] - startPoint[1]) / (MathDistance(startPoint, endPoint)))\r\n  if (endPoint[1] >= startPoint[1] && endPoint[0] >= startPoint[0]) {\r\n    azimuth = angle + Math.PI\r\n  } else if (endPoint[1] >= startPoint[1] && endPoint[0] < startPoint[0]) {\r\n    azimuth = Math.PI * 2 - angle\r\n  } else if (endPoint[1] < startPoint[1] && endPoint[0] < startPoint[0]) {\r\n    azimuth = angle\r\n  } else if (endPoint[1] < startPoint[1] && endPoint[0] >= startPoint[0]) {\r\n    azimuth = Math.PI - angle\r\n  }\r\n  return azimuth\r\n}\r\n\r\n/**\r\n * 通过三个点获取方位角\r\n * @param pntA\r\n * @param pntB\r\n * @param pntC\r\n * @returns {number}\r\n */\r\nexport const getAngleOfThreePoints = (pntA, pntB, pntC) => {\r\n  let angle = getAzimuth(pntB, pntA) - getAzimuth(pntB, pntC)\r\n  return ((angle < 0) ? (angle + Math.PI * 2) : angle)\r\n}\r\n\r\n/**\r\n * 判断是否是顺时针\r\n * @param pnt1\r\n * @param pnt2\r\n * @param pnt3\r\n * @returns {boolean}\r\n */\r\nexport const isClockWise = (pnt1, pnt2, pnt3) => {\r\n  return ((pnt3[1] - pnt1[1]) * (pnt2[0] - pnt1[0]) > (pnt2[1] - pnt1[1]) * (pnt3[0] - pnt1[0]))\r\n}\r\n\r\n/**\r\n * 获取线上的点\r\n * @param t\r\n * @param startPnt\r\n * @param endPnt\r\n * @returns {[*,*]}\r\n */\r\nexport const getPointOnLine = (t, startPnt, endPnt) => {\r\n  let x = startPnt[0] + (t * (endPnt[0] - startPnt[0]))\r\n  let y = startPnt[1] + (t * (endPnt[1] - startPnt[1]))\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 获取立方值\r\n * @param t\r\n * @param startPnt\r\n * @param cPnt1\r\n * @param cPnt2\r\n * @param endPnt\r\n * @returns {[*,*]}\r\n */\r\nexport const getCubicValue = (t, startPnt, cPnt1, cPnt2, endPnt) => {\r\n  t = Math.max(Math.min(t, 1), 0)\r\n  let [tp, t2] = [(1 - t), (t * t)]\r\n  let t3 = t2 * t\r\n  let tp2 = tp * tp\r\n  let tp3 = tp2 * tp\r\n  let x = (tp3 * startPnt[0]) + (3 * tp2 * t * cPnt1[0]) + (3 * tp * t2 * cPnt2[0]) + (t3 * endPnt[0])\r\n  let y = (tp3 * startPnt[1]) + (3 * tp2 * t * cPnt1[1]) + (3 * tp * t2 * cPnt2[1]) + (t3 * endPnt[1])\r\n  return [x, y]\r\n}\r\n\r\n/**\r\n * 根据起止点和旋转方向求取第三个点\r\n * @param startPnt\r\n * @param endPnt\r\n * @param angle\r\n * @param distance\r\n * @param clockWise\r\n * @returns {[*,*]}\r\n */\r\nexport const getThirdPoint = (startPnt, endPnt, angle, distance, clockWise) => {\r\n  let azimuth = getAzimuth(startPnt, endPnt)\r\n  let alpha = clockWise ? (azimuth + angle) : (azimuth - angle)\r\n  let dx = distance * Math.cos(alpha)\r\n  let dy = distance * Math.sin(alpha)\r\n  return ([endPnt[0] + dx, endPnt[1] + dy])\r\n}\r\n\r\n/**\r\n * 函数继承\r\n * @param childCtor\r\n * @param parentCtor\r\n */\r\nexport const inherits = (childCtor, parentCtor) => {\r\n  /** @constructor */\r\n  function TempCtor () {\r\n  }\r\n\r\n  TempCtor.prototype = parentCtor.prototype\r\n  childCtor.superClass_ = parentCtor.prototype\r\n  childCtor.prototype = new TempCtor()\r\n  /** @override */\r\n  childCtor.prototype.constructor = childCtor\r\n  childCtor.base = function (me, methodName, varArgs) {\r\n    let args = Array.prototype.slice.call(arguments, 2)\r\n    return parentCtor.prototype[methodName].apply(me, args)\r\n  }\r\n}\r\n\r\n/**\r\n * 插值弓形线段点\r\n * @param center\r\n * @param radius\r\n * @param startAngle\r\n * @param endAngle\r\n * @returns {null}\r\n */\r\nexport const getArcPoints = (center, radius, startAngle, endAngle) => {\r\n  let [x, y, pnts, angleDiff] = [null, null, [], (endAngle - startAngle)]\r\n  angleDiff = ((angleDiff < 0) ? (angleDiff + (Math.PI * 2)) : angleDiff)\r\n  for (let i = 0; i <= 100; i++) {\r\n    let angle = startAngle + angleDiff * i / 100\r\n    x = center[0] + radius * Math.cos(angle)\r\n    y = center[1] + radius * Math.sin(angle)\r\n    pnts.push([x, y])\r\n  }\r\n  return pnts\r\n}\r\n\r\n/**\r\n * getBisectorNormals\r\n * @param t\r\n * @param pnt1\r\n * @param pnt2\r\n * @param pnt3\r\n * @returns {[*,*]}\r\n */\r\nexport const getBisectorNormals = (t, pnt1, pnt2, pnt3) => {\r\n  let normal = getNormal(pnt1, pnt2, pnt3)\r\n  let [bisectorNormalRight, bisectorNormalLeft, dt, x, y] = [null, null, null, null, null]\r\n  let dist = Math.sqrt(normal[0] * normal[0] + normal[1] * normal[1])\r\n  let uX = normal[0] / dist\r\n  let uY = normal[1] / dist\r\n  let d1 = MathDistance(pnt1, pnt2)\r\n  let d2 = MathDistance(pnt2, pnt3)\r\n  if (dist > Constants.ZERO_TOLERANCE) {\r\n    if (isClockWise(pnt1, pnt2, pnt3)) {\r\n      dt = t * d1\r\n      x = pnt2[0] - dt * uY\r\n      y = pnt2[1] + dt * uX\r\n      bisectorNormalRight = [x, y]\r\n      dt = t * d2\r\n      x = pnt2[0] + dt * uY\r\n      y = pnt2[1] - dt * uX\r\n      bisectorNormalLeft = [x, y]\r\n    } else {\r\n      dt = t * d1\r\n      x = pnt2[0] + dt * uY\r\n      y = pnt2[1] - dt * uX\r\n      bisectorNormalRight = [x, y]\r\n      dt = t * d2\r\n      x = pnt2[0] - dt * uY\r\n      y = pnt2[1] + dt * uX\r\n      bisectorNormalLeft = [x, y]\r\n    }\r\n  } else {\r\n    x = pnt2[0] + t * (pnt1[0] - pnt2[0])\r\n    y = pnt2[1] + t * (pnt1[1] - pnt2[1])\r\n    bisectorNormalRight = [x, y]\r\n    x = pnt2[0] + t * (pnt3[0] - pnt2[0])\r\n    y = pnt2[1] + t * (pnt3[1] - pnt2[1])\r\n    bisectorNormalLeft = [x, y]\r\n  }\r\n  return [bisectorNormalRight, bisectorNormalLeft]\r\n}\r\n\r\n/**\r\n * 获取默认三点的内切圆\r\n * @param pnt1\r\n * @param pnt2\r\n * @param pnt3\r\n * @returns {[*,*]}\r\n */\r\nexport const getNormal = (pnt1, pnt2, pnt3) => {\r\n  let dX1 = pnt1[0] - pnt2[0]\r\n  let dY1 = pnt1[1] - pnt2[1]\r\n  let d1 = Math.sqrt(dX1 * dX1 + dY1 * dY1)\r\n  dX1 /= d1\r\n  dY1 /= d1\r\n  let dX2 = pnt3[0] - pnt2[0]\r\n  let dY2 = pnt3[1] - pnt2[1]\r\n  let d2 = Math.sqrt(dX2 * dX2 + dY2 * dY2)\r\n  dX2 /= d2\r\n  dY2 /= d2\r\n  let uX = dX1 + dX2\r\n  let uY = dY1 + dY2\r\n  return [uX, uY]\r\n}\r\n\r\n/**\r\n * 获取左边控制点\r\n * @param controlPoints\r\n * @returns {[*,*]}\r\n */\r\nexport const getLeftMostControlPoint = (controlPoints, t) => {\r\n  let [pnt1, pnt2, pnt3, controlX, controlY] = [controlPoints[0], controlPoints[1], controlPoints[2], null, null]\r\n  let pnts = getBisectorNormals(0, pnt1, pnt2, pnt3)\r\n  let normalRight = pnts[0]\r\n  let normal = getNormal(pnt1, pnt2, pnt3)\r\n  let dist = Math.sqrt(normal[0] * normal[0] + normal[1] * normal[1])\r\n  if (dist > Constants.ZERO_TOLERANCE) {\r\n    let mid = Mid(pnt1, pnt2)\r\n    let pX = pnt1[0] - mid[0]\r\n    let pY = pnt1[1] - mid[1]\r\n    let d1 = MathDistance(pnt1, pnt2)\r\n    let n = 2.0 / d1\r\n    let nX = -n * pY\r\n    let nY = n * pX\r\n    let a11 = nX * nX - nY * nY\r\n    let a12 = 2 * nX * nY\r\n    let a22 = nY * nY - nX * nX\r\n    let dX = normalRight[0] - mid[0]\r\n    let dY = normalRight[1] - mid[1]\r\n    controlX = mid[0] + a11 * dX + a12 * dY\r\n    controlY = mid[1] + a12 * dX + a22 * dY\r\n  } else {\r\n    controlX = pnt1[0] + t * (pnt2[0] - pnt1[0])\r\n    controlY = pnt1[1] + t * (pnt2[1] - pnt1[1])\r\n  }\r\n  return [controlX, controlY]\r\n}\r\n\r\n/**\r\n * 获取右边控制点\r\n * @param controlPoints\r\n * @param t\r\n * @returns {[*,*]}\r\n */\r\nexport const getRightMostControlPoint = (controlPoints, t) => {\r\n  let count = controlPoints.length\r\n  let pnt1 = controlPoints[count - 3]\r\n  let pnt2 = controlPoints[count - 2]\r\n  let pnt3 = controlPoints[count - 1]\r\n  let pnts = getBisectorNormals(0, pnt1, pnt2, pnt3)\r\n  let normalLeft = pnts[1]\r\n  let normal = getNormal(pnt1, pnt2, pnt3)\r\n  let dist = Math.sqrt(normal[0] * normal[0] + normal[1] * normal[1])\r\n  let [controlX, controlY] = [null, null]\r\n  if (dist > Constants.ZERO_TOLERANCE) {\r\n    let mid = Mid(pnt2, pnt3)\r\n    let pX = pnt3[0] - mid[0]\r\n    let pY = pnt3[1] - mid[1]\r\n    let d1 = MathDistance(pnt2, pnt3)\r\n    let n = 2.0 / d1\r\n    let nX = -n * pY\r\n    let nY = n * pX\r\n    let a11 = nX * nX - nY * nY\r\n    let a12 = 2 * nX * nY\r\n    let a22 = nY * nY - nX * nX\r\n    let dX = normalLeft[0] - mid[0]\r\n    let dY = normalLeft[1] - mid[1]\r\n    controlX = mid[0] + a11 * dX + a12 * dY\r\n    controlY = mid[1] + a12 * dX + a22 * dY\r\n  } else {\r\n    controlX = pnt3[0] + t * (pnt2[0] - pnt3[0])\r\n    controlY = pnt3[1] + t * (pnt2[1] - pnt3[1])\r\n  }\r\n  return [controlX, controlY]\r\n}\r\n\r\n/**\r\n * 插值曲线点\r\n * @param t\r\n * @param controlPoints\r\n * @returns {null}\r\n */\r\nexport const getCurvePoints = (t, controlPoints) => {\r\n  let leftControl = getLeftMostControlPoint(controlPoints, t)\r\n  let [pnt1, pnt2, pnt3, normals, points] = [null, null, null, [leftControl], []]\r\n  for (let i = 0; i < controlPoints.length - 2; i++) {\r\n    [pnt1, pnt2, pnt3] = [controlPoints[i], controlPoints[i + 1], controlPoints[i + 2]]\r\n    let normalPoints = getBisectorNormals(t, pnt1, pnt2, pnt3)\r\n    normals = normals.concat(normalPoints)\r\n  }\r\n  let rightControl = getRightMostControlPoint(controlPoints, t)\r\n  if (rightControl) {\r\n    normals.push(rightControl)\r\n  }\r\n  for (let i = 0; i < controlPoints.length - 1; i++) {\r\n    pnt1 = controlPoints[i]\r\n    pnt2 = controlPoints[i + 1]\r\n    points.push(pnt1)\r\n    for (let t = 0; t < Constants.FITTING_COUNT; t++) {\r\n      let pnt = getCubicValue(t / Constants.FITTING_COUNT, pnt1, normals[i * 2], normals[i * 2 + 1], pnt2)\r\n      points.push(pnt)\r\n    }\r\n    points.push(pnt2)\r\n  }\r\n  return points\r\n}\r\n\r\n/**\r\n * 贝塞尔曲线\r\n * @param points\r\n * @returns {*}\r\n */\r\nexport const getBezierPoints = function (points) {\r\n  if (points.length <= 2) {\r\n    return points\r\n  } else {\r\n    let bezierPoints = []\r\n    let n = points.length - 1\r\n    for (let t = 0; t <= 1; t += 0.01) {\r\n      let [x, y] = [0, 0]\r\n      for (let index = 0; index <= n; index++) {\r\n        let factor = getBinomialFactor(n, index)\r\n        let a = Math.pow(t, index)\r\n        let b = Math.pow((1 - t), (n - index))\r\n        x += factor * a * b * points[index][0]\r\n        y += factor * a * b * points[index][1]\r\n      }\r\n      bezierPoints.push([x, y])\r\n    }\r\n    bezierPoints.push(points[n])\r\n    return bezierPoints\r\n  }\r\n}\r\n\r\n/**\r\n * 获取阶乘数据\r\n * @param n\r\n * @returns {number}\r\n */\r\nexport const getFactorial = (n) => {\r\n  let result = 1\r\n  switch (n) {\r\n    case (n <= 1):\r\n      result = 1\r\n      break\r\n    case (n === 2):\r\n      result = 2\r\n      break\r\n    case (n === 3):\r\n      result = 6\r\n      break\r\n    case (n === 24):\r\n      result = 24\r\n      break\r\n    case (n === 5):\r\n      result = 120\r\n      break\r\n    default:\r\n      for (let i = 1; i <= n; i++) {\r\n        result *= i\r\n      }\r\n      break\r\n  }\r\n  return result\r\n}\r\n\r\n/**\r\n * 获取二项分布\r\n * @param n\r\n * @param index\r\n * @returns {number}\r\n */\r\nexport const getBinomialFactor = (n, index) => {\r\n  return (getFactorial(n) / (getFactorial(index) * getFactorial(n - index)))\r\n}\r\n\r\n/**\r\n * 插值线性点\r\n * @param points\r\n * @returns {*}\r\n */\r\nexport const getQBSplinePoints = points => {\r\n  if (points.length <= 2) {\r\n    return points\r\n  } else {\r\n    let [n, bSplinePoints] = [2, []]\r\n    let m = points.length - n - 1\r\n    bSplinePoints.push(points[0])\r\n    for (let i = 0; i <= m; i++) {\r\n      for (let t = 0; t <= 1; t += 0.05) {\r\n        let [x, y] = [0, 0]\r\n        for (let k = 0; k <= n; k++) {\r\n          let factor = getQuadricBSplineFactor(k, t)\r\n          x += factor * points[i + k][0]\r\n          y += factor * points[i + k][1]\r\n        }\r\n        bSplinePoints.push([x, y])\r\n      }\r\n    }\r\n    bSplinePoints.push(points[points.length - 1])\r\n    return bSplinePoints\r\n  }\r\n}\r\n\r\n/**\r\n * 得到二次线性因子\r\n * @param k\r\n * @param t\r\n * @returns {number}\r\n */\r\nexport const getQuadricBSplineFactor = (k, t) => {\r\n  let res = 0\r\n  if (k === 0) {\r\n    res = Math.pow(t - 1, 2) / 2\r\n  } else if (k === 1) {\r\n    res = (-2 * Math.pow(t, 2) + 2 * t + 1) / 2\r\n  } else if (k === 2) {\r\n    res = Math.pow(t, 2) / 2\r\n  }\r\n  return res\r\n}\r\n\r\n/**\r\n * 获取id\r\n * @returns {*|string|!Array.<T>}\r\n */\r\nexport const getuuid = () => {\r\n  let [ s, hexDigits ] = [ [], '0123456789abcdef' ]\r\n  for (let i = 0; i < 36; i++) {\r\n    s[i] = hexDigits.substr(Math.floor(Math.random() * 0x10), 1)\r\n  }\r\n  s[14] = '4'\r\n  s[19] = hexDigits.substr((s[19] & 0x3) | 0x8, 1)\r\n  s[8] = s[13] = s[18] = s[23] = '-'\r\n  return (s.join(''))\r\n}\r\n\r\n/**\r\n * 添加标识\r\n * @param obj\r\n * @returns {*}\r\n */\r\nexport const stamp = function (obj) {\r\n  let key = '_event_id_'\r\n  obj[key] = obj[key] || (getuuid())\r\n  return obj[key]\r\n}\r\n\r\n/**\r\n * 去除字符串前后空格\r\n * @param str\r\n * @returns {*}\r\n */\r\nexport const trim = (str) => {\r\n  return str.trim ? str.trim() : str.replace(/^\\s+|\\s+$/g, '')\r\n}\r\n\r\n/**\r\n * 将类名截取成数组\r\n * @param str\r\n * @returns {Array|*}\r\n */\r\nexport const splitWords = (str) => {\r\n  return trim(str).split(/\\s+/)\r\n}\r\n\r\n/**\r\n * 判断是否为对象\r\n * @param value\r\n * @returns {boolean}\r\n */\r\nexport const isObject = value => {\r\n  const type = typeof value\r\n  return value !== null && (type === 'object' || type === 'function')\r\n}\r\n\r\n/**\r\n * merge\r\n * @param a\r\n * @param b\r\n * @returns {*}\r\n */\r\nexport const merge = (a, b) => {\r\n  for (const key in b) {\r\n    if (isObject(b[key]) && isObject(a[key])) {\r\n      merge(a[key], b[key])\r\n    } else {\r\n      a[key] = b[key]\r\n    }\r\n  }\r\n  return a\r\n}\r\n\r\nexport function preventDefault (e) {\r\n  e = e || window.event\r\n  if (e.preventDefault) {\r\n    e.preventDefault()\r\n  } else {\r\n    e.returnValue = false\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Utils/utils.js","import ol from 'openlayers'\r\nconst $Group = ol.layer.Group\r\nconst $VectorLayer = ol.layer.Vector\r\nconst $VectorSource = ol.source.Vector\r\nconst $Style = ol.style.Style\r\nconst $Stroke = ol.style.Stroke\r\nconst $Circle = ol.style.Circle\r\nconst $Fill = ol.style.Fill\r\n\r\n/**\r\n * 通过layerName获取图层\r\n * @param map\r\n * @param layerName\r\n * @returns {*}\r\n */\r\nconst getLayerByLayerName = function (map, layerName) {\r\n  try {\r\n    let targetLayer = null\r\n    if (map) {\r\n      let layers = map.getLayers().getArray()\r\n      targetLayer = getLayerInternal(layers, 'layerName', layerName)\r\n    }\r\n    return targetLayer\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * 内部处理获取图层方法\r\n * @param layers\r\n * @param key\r\n * @param value\r\n * @returns {*}\r\n */\r\nconst getLayerInternal = function (layers, key, value) {\r\n  let _target = null\r\n  if (layers.length > 0) {\r\n    layers.every(layer => {\r\n      if (layer instanceof $Group) {\r\n        let layers = layer.getLayers().getArray()\r\n        _target = getLayerInternal(layers, key, value)\r\n        if (_target) {\r\n          return false\r\n        } else {\r\n          return true\r\n        }\r\n      } else if (layer.get(key) === value) {\r\n        _target = layer\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n  return _target\r\n}\r\n\r\n/**\r\n * 创建临时图层\r\n * @param map\r\n * @param layerName\r\n * @param params\r\n * @returns {*}\r\n */\r\nconst createVectorLayer = function (map, layerName, params) {\r\n  try {\r\n    if (map) {\r\n      let vectorLayer = getLayerByLayerName(map, layerName)\r\n      if (!(vectorLayer instanceof $VectorLayer)) {\r\n        vectorLayer = null\r\n      }\r\n      if (!vectorLayer) {\r\n        if (params && params.create) {\r\n          vectorLayer = new $VectorLayer({\r\n            layerName: layerName,\r\n            params: params,\r\n            layerType: 'vector',\r\n            source: new $VectorSource({\r\n              wrapX: false\r\n            }),\r\n            style: new $Style({\r\n              fill: new $Fill({\r\n                color: 'rgba(67, 110, 238, 0.4)'\r\n              }),\r\n              stroke: new $Stroke({\r\n                color: '#4781d9',\r\n                width: 2\r\n              }),\r\n              image: new $Circle({\r\n                radius: 7,\r\n                fill: new $Fill({\r\n                  color: '#ffcc33'\r\n                })\r\n              })\r\n            })\r\n          })\r\n        }\r\n      }\r\n      if (map && vectorLayer) {\r\n        if (params && params.hasOwnProperty('selectable')) {\r\n          vectorLayer.set('selectable', params.selectable)\r\n        }\r\n        // 图层只添加一次\r\n        let _vectorLayer = getLayerByLayerName(map, layerName)\r\n        if (!_vectorLayer || !(_vectorLayer instanceof $VectorLayer)) {\r\n          map.addLayer(vectorLayer)\r\n        }\r\n      }\r\n      return vectorLayer\r\n    }\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\nexport {\r\n  createVectorLayer,\r\n  getLayerByLayerName\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Utils/layerUtils.js","/* eslint no-useless-escape: \"off\" */\r\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g\r\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/\r\n\r\n/* istanbul ignore next */\r\nexport const create = function (tagName, className, container, id) {\r\n  let el = document.createElement(tagName)\r\n  el.className = className || ''\r\n  if (id) {\r\n    el.id = id\r\n  }\r\n  if (container) {\r\n    container.appendChild(el)\r\n  }\r\n  return el\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const getElement = function (id) {\r\n  return typeof id === 'string' ? document.getElementById(id) : id\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const remove = function (el) {\r\n  let parent = el.parentNode\r\n  if (parent) {\r\n    parent.removeChild(el)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const empty = function (el) {\r\n  while (el.firstChild) {\r\n    el.removeChild(el.firstChild)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const createHidden = function (tagName, parent, id) {\r\n  let element = document.createElement(tagName)\r\n  element.style.display = 'none'\r\n  if (id) {\r\n    element.id = id\r\n  }\r\n  if (parent) {\r\n    parent.appendChild(element)\r\n  }\r\n  return element\r\n}\r\n\r\n/* istanbul ignore next */\r\nconst trim = function (string) {\r\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\r\n}\r\n\r\n/* istanbul ignore next */\r\nconst camelCase = function (name) {\r\n  return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\r\n    return offset ? letter.toUpperCase() : letter\r\n  }).replace(MOZ_HACK_REGEXP, 'Moz$1')\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const on = (function () {\r\n  if (document.addEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, false)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const off = (function () {\r\n  if (document.removeEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.removeEventListener(event, handler, false)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const once = function (el, event, fn) {\r\n  const listener = function () {\r\n    if (fn) {\r\n      fn.apply(this, arguments)\r\n    }\r\n    off(el, event, listener)\r\n  }\r\n  on(el, event, listener)\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function hasClass (el, cls) {\r\n  if (!el || !cls) return false\r\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.')\r\n  if (el.classList) {\r\n    return el.classList.contains(cls)\r\n  } else {\r\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function addClass (el, cls) {\r\n  if (!el) return\r\n  let curClass = el.className\r\n  let classes = (cls || '').split(' ')\r\n  for (let i = 0, j = classes.length; i < j; i++) {\r\n    let clsName = classes[i]\r\n    if (!clsName) continue\r\n    if (el.classList) {\r\n      el.classList.add(clsName)\r\n    } else if (!hasClass(el, clsName)) {\r\n      curClass += ' ' + clsName\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = curClass\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function removeClass (el, cls) {\r\n  if (!el || !cls) return\r\n  const classes = cls.split(' ')\r\n  let curClass = ' ' + el.className + ' '\r\n  for (let i = 0, j = classes.length; i < j; i++) {\r\n    let clsName = classes[i]\r\n    if (!clsName) continue\r\n    if (el.classList) {\r\n      el.classList.remove(clsName)\r\n    } else if (hasClass(el, clsName)) {\r\n      curClass = curClass.replace(' ' + clsName + ' ', ' ')\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = trim(curClass)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function getStyle (element, styleName) {\r\n  if (!element || !styleName) return null\r\n  styleName = camelCase(styleName)\r\n  if (styleName === 'float') {\r\n    styleName = 'cssFloat'\r\n  }\r\n  try {\r\n    const computed = document.defaultView.getComputedStyle(element, '')\r\n    return element.style[styleName] || computed ? computed[styleName] : null\r\n  } catch (e) {\r\n    return element.style[styleName]\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function setStyle (element, styleName, value) {\r\n  if (!element || !styleName) return\r\n  if (typeof styleName === 'object') {\r\n    for (var prop in styleName) {\r\n      if (styleName.hasOwnProperty(prop)) {\r\n        setStyle(element, prop, styleName[prop])\r\n      }\r\n    }\r\n  } else {\r\n    styleName = camelCase(styleName)\r\n    if (styleName === 'opacity') {\r\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')'\r\n    } else {\r\n      element.style[styleName] = value\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Utils/domUtils.js","import ol from 'openlayers'\r\nimport autosize from 'autosize'\r\nimport {DEF_TEXT_STYEL} from '../../Constants'\r\nimport { merge } from '../../Utils/utils'\r\nimport { on, off, hasClass, setStyle, getStyle } from '../../Utils/domUtils'\r\nconst $DragPan = ol.interaction.DragPan\r\n\r\nclass PlotTextBox extends ol.Overlay {\r\n  constructor (options = {}) {\r\n    const [id, element, offset, stopEvent, positioning, insertFirst,\r\n      autoPan, autoPanAnimation, autoPanMargin, className] = [\r\n      options['id'], options['element'], options['offset'], options['stopEvent'],\r\n      options['positioning'], options['insertFirst'], options['autoPan'],\r\n      options['autoPanAnimation'], options['autoPanMargin'],\r\n      (options['className'] ? options['className'] : 'ol-plot-text-editor')\r\n    ]\r\n    super({\r\n      id,\r\n      element,\r\n      stopEvent,\r\n      insertFirst,\r\n      autoPan,\r\n      autoPanAnimation,\r\n      autoPanMargin,\r\n      className\r\n    })\r\n    this.setOffset(offset !== undefined ? offset : [0, 0])\r\n    this.setPositioning(positioning !== undefined ? positioning : 'center-center')\r\n\r\n    /**\r\n     * 地图交互\r\n     * @type {undefined}\r\n     */\r\n    this.mapDragPan = undefined\r\n\r\n    /**\r\n     * is click\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this.isClick_ = false\r\n\r\n    /**\r\n     * 是否处于拖拽状态\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this.dragging_ = false\r\n\r\n    /**\r\n     * 当前气泡是否获取焦点\r\n     * @type {boolean}\r\n     * @private\r\n     */\r\n    this.isFocus_ = false\r\n\r\n    /**\r\n     * 当前配置信息\r\n     * @type {{}}\r\n     * @private\r\n     */\r\n    this.options_ = options\r\n\r\n    /**\r\n     * 当前气泡位置\r\n     * @type {Array}\r\n     * @private\r\n     */\r\n    this._position = (options['position'] && options['position'].length > 0) ? options['position'] : []\r\n\r\n    /**\r\n     * 防抖延时\r\n     * @type {null}\r\n     * @private\r\n     */\r\n    this.handleTimer_ = null\r\n\r\n    /**\r\n     * 每次鼠标按下的位置\r\n     * @type {Array}\r\n     * @private\r\n     */\r\n    this.currentPixel_ = []\r\n\r\n    /**\r\n     * 创建text content\r\n     */\r\n    this.createTextContent(options)\r\n  }\r\n\r\n  /**\r\n   * 创建文本框父容器\r\n   * @param options\r\n   */\r\n  createTextContent (options) {\r\n    const _className = options.className || 'ol-plot-text-editor'\r\n    const content = document.createElement('textarea')\r\n    content.className = _className\r\n    content.style.width = options['width'] + 'px'\r\n    content.style.height = options['height'] + 'px'\r\n    content.style.minHeight = options['minHeight'] + 'px'\r\n    content.setAttribute('id', options['id'])\r\n    content.setAttribute('autofocus', true)\r\n    autosize(content)\r\n    on(content, 'focus', this.handleFocus_.bind(this))\r\n    on(content, 'blur', this.handleBlur_.bind(this))\r\n    on(content, 'click', this.handleClick_.bind(this))\r\n    on(content, 'mousedown', this.handleDragStart_.bind(this))\r\n    on(window, 'mouseup', this.handleDragEnd_.bind(this))\r\n    this.set('isPlotText', true)\r\n    this.setElement(content)\r\n    this.createCloseButton(options)\r\n    this.createResizeButton(options)\r\n    this.setPosition(this._position)\r\n    this.dispatchEvent('textBoxDrawEnd', {\r\n      overlay: this,\r\n      element: content,\r\n      uuid: options['id']\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 获取文本框\r\n   * @returns {string}\r\n   * @private\r\n   */\r\n  getTextAreaFromContent_ () {\r\n    let _node = ''\r\n    const childrens_ = Array.prototype.slice.call((this.element && this.element.children), 0)\r\n    if (childrens_.length > 0) {\r\n      childrens_.every(ele => {\r\n        if (ele.nodeType === 1 && ele.nodeName.toLowerCase() === 'textarea') {\r\n          _node = ele\r\n          return false\r\n        } else {\r\n          return true\r\n        }\r\n      })\r\n    }\r\n    return _node\r\n  }\r\n\r\n  /**\r\n   * 创建关闭按钮\r\n   * @param options\r\n   */\r\n  createCloseButton (options) {\r\n    const _closeSpan = document.createElement('span')\r\n    _closeSpan.className = 'ol-plot-text-editor-close'\r\n    _closeSpan.setAttribute('data-id', options['id'])\r\n    off(_closeSpan, 'click', this.closeCurrentPlotText.bind(this))\r\n    on(_closeSpan, 'click', this.closeCurrentPlotText.bind(this))\r\n    this.element.appendChild(_closeSpan)\r\n  }\r\n\r\n  /**\r\n   * 创建文本框大小调整按钮\r\n   * @param options\r\n   */\r\n  createResizeButton (options) {\r\n    const _resizeSpan = document.createElement('span')\r\n    _resizeSpan.className = 'ol-plot-text-editor-resize'\r\n    _resizeSpan.setAttribute('data-id', options['id'])\r\n    off(_resizeSpan, 'mousedown', this.handleResizeMouseDown_.bind(this))\r\n    off(_resizeSpan, 'mousemove', this.handleResizeMouseMove_.bind(this))\r\n    on(_resizeSpan, 'mousedown', this.handleResizeMouseDown_.bind(this))\r\n    on(_resizeSpan, 'mousemove', this.handleResizeMouseMove_.bind(this))\r\n    this.element.appendChild(_resizeSpan)\r\n  }\r\n\r\n  /**\r\n   * 调整大小\r\n   * @param event\r\n   * @private\r\n   */\r\n  resizeButtonMoveHandler_ (event) {\r\n    const pixel_ = event.pixel\r\n    const element_ = this.getTextAreaFromContent_()\r\n    if (pixel_.length < 1 || this.currentPixel_.length < 1 || !element_) return\r\n    const _offset = [pixel_[0] - this.currentPixel_[0], pixel_[1] - this.currentPixel_[1]]\r\n    const _size = [element_.offsetWidth, element_.offsetHeight]\r\n    const _width = _size[0] + _offset[0] * 2\r\n    const _height = _size[1] + _offset[1] * 2\r\n    setStyle(element_, 'width', _width + 'px')\r\n    setStyle(element_, 'height', _height + 'px')\r\n    this.currentPixel_ = pixel_\r\n    this.getMap().render()\r\n  }\r\n\r\n  /**\r\n   * 处理移动事件\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleResizeMouseMove_ (event) {\r\n    event.stopImmediatePropagation()\r\n  }\r\n\r\n  /**\r\n   * 处理鼠标按下事件\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleResizeMouseDown_ (event) {\r\n    if (!this.getMap()) return\r\n    this.currentPixel_ = [event.x, event.y]\r\n    this.getMap().on('pointermove', this.resizeButtonMoveHandler_, this)\r\n    on(this.getMap().getViewport(), 'mouseup', this.handleResizeMouseUp_.bind(this))\r\n  }\r\n\r\n  /**\r\n   * 处理鼠标抬起事件，移除所有事件监听\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleResizeMouseUp_ (event) {\r\n    if (!this.getMap()) return\r\n    this.getMap().un('pointermove', this.resizeButtonMoveHandler_, this)\r\n    off(this.getMap().getViewport(), 'mouseup', this.handleResizeMouseUp_.bind(this))\r\n    this.currentPixel_ = []\r\n  }\r\n\r\n  /**\r\n   * 处理关闭事件\r\n   * @param event\r\n   */\r\n  closeCurrentPlotText (event) {\r\n    if (!this.getMap()) return\r\n    if (event && hasClass(event.target, 'ol-plot-text-editor-close')) {\r\n      let _id = event.target.getAttribute('data-id')\r\n      if (_id) {\r\n        const _overlay = this.getMap().getOverlayById(_id)\r\n        if (_overlay) {\r\n          this.getMap().removeOverlay(_overlay)\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理获取焦点事件\r\n   * @private\r\n   */\r\n  handleFocus_ () {\r\n    this.isFocus_ = true\r\n    if (this.getMap()) {\r\n      this.getMap().set('activeTextArea', this)\r\n      this.getMap().dispatchEvent('activeTextArea')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理失去焦点事件\r\n   * @private\r\n   */\r\n  handleBlur_ () {\r\n    this.isFocus_ = false\r\n    if (this.getMap()) {\r\n      this.getMap().set('activeTextArea', null)\r\n      this.getMap().set('disActiveTextArea', this)\r\n      this.getMap().dispatchEvent('disActiveTextArea')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理拖拽开始\r\n   * @private\r\n   */\r\n  handleDragStart_ (event) {\r\n    if (!this.getMap()) return\r\n    if (!this.dragging_ && this.isMoveModel() && this.isFocus_) {\r\n      this.handleTimer_ = window.setTimeout(() => {\r\n        window.clearTimeout(this.handleTimer_)\r\n        this.handleTimer_ = null\r\n        if (!this.isClick_) {\r\n          this.dragging_ = true\r\n          this.disableMapDragPan()\r\n          this.preCursor_ = this.element.style.cursor\r\n          on(this.getMap().getViewport(), 'mousemove', this.handleDragDrag_.bind(this))\r\n          on(this.element, 'mouseup', this.handleDragEnd_.bind(this))\r\n        }\r\n      }, 300)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理拖拽\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleDragDrag_ (event) {\r\n    if (this.dragging_) {\r\n      this.element.style.cursor = 'move'\r\n      this._position = this.getMap().getCoordinateFromPixel([event.clientX, event.clientY])\r\n      this.setPosition(this._position)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理拖拽\r\n   * @private\r\n   */\r\n  handleDragEnd_ (event) {\r\n    this.isClick_ = false\r\n    window.clearTimeout(this.handleTimer_)\r\n    this.handleTimer_ = null\r\n    if (this.dragging_ && this.isFocus_) {\r\n      this.dragging_ = false\r\n      this.enableMapDragPan()\r\n      this.element.style.cursor = this.preCursor_\r\n      off(this.getMap().getViewport(), 'mousemove', this.handleDragDrag_.bind(this))\r\n      off(this.element, 'mouseup', this.handleDragEnd_.bind(this))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理点击事件\r\n   * @param event\r\n   * @private\r\n   */\r\n  handleClick_ (event) {\r\n    if (event.target === this.element) {\r\n      this.isClick_ = true\r\n    } else {\r\n      this.isClick_ = false\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 是否处于选择模式\r\n   * @returns {boolean}\r\n   */\r\n  isMoveModel () {\r\n    const range = window.getSelection().getRangeAt(0)\r\n    return range.collapsed\r\n  }\r\n\r\n  /**\r\n   * 设置样式\r\n   * @param style\r\n   */\r\n  setStyle (style = {}) {\r\n    const _element = this.getTextAreaFromContent_()\r\n    if (_element) {\r\n      for (let key in style) {\r\n        if (style[key]) {\r\n          setStyle(_element, key, style[key])\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前样式\r\n   * @returns {CSSStyleDeclaration}\r\n   */\r\n  getStyle () {\r\n    const _style = {}\r\n    const _element = this.getTextAreaFromContent_()\r\n    if (_element) {\r\n      for (let key in DEF_TEXT_STYEL) {\r\n        _style[key] = getStyle(_element, key)\r\n      }\r\n    }\r\n    return _style\r\n  }\r\n\r\n  /**\r\n   * set value\r\n   * @param value\r\n   */\r\n  setValue (value) {\r\n    const _element = this.getTextAreaFromContent_()\r\n    if (_element) {\r\n      _element.value = value\r\n      if (value) {\r\n        autosize.update(_element)\r\n      }\r\n      this.getMap().render()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get value\r\n   * @returns {*}\r\n   */\r\n  getValue () {\r\n    const _element = this.getTextAreaFromContent_()\r\n    if (_element) {\r\n      return _element.value\r\n    } else {\r\n      return ''\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取宽度\r\n   * @returns {number}\r\n   */\r\n  getWidth () {\r\n    const element_ = this.getTextAreaFromContent_()\r\n    if (element_ && element_.offsetWidth) {\r\n      return element_.offsetWidth\r\n    } else {\r\n      return 0\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取高度\r\n   * @returns {number}\r\n   */\r\n  getHeight () {\r\n    const element_ = this.getTextAreaFromContent_()\r\n    if (element_ && element_.offsetHeight) {\r\n      return element_.offsetHeight\r\n    } else {\r\n      return 0\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 激活地图的拖拽平移\r\n   */\r\n  enableMapDragPan () {\r\n    const _map = this.getMap()\r\n    if (!_map) return\r\n    if (this.mapDragPan && this.mapDragPan instanceof $DragPan) {\r\n      _map.addInteraction(this.mapDragPan)\r\n      delete this.mapDragPan\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 禁止地图的拖拽平移\r\n   */\r\n  disableMapDragPan () {\r\n    const _map = this.getMap()\r\n    if (!_map) return\r\n    let interactions = _map.getInteractions().getArray()\r\n    interactions.every(item => {\r\n      if (item instanceof $DragPan) {\r\n        this.mapDragPan = item\r\n        _map.removeInteraction(item)\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * set map\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    ol.Overlay.prototype.setMap.call(this, map)\r\n    if (map && map instanceof ol.Map) {\r\n      this.setStyle(merge(DEF_TEXT_STYEL, this.options_['style']))\r\n      this.setValue(this.options_['value'])\r\n    }\r\n  }\r\n}\r\n\r\nexport default PlotTextBox\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Text/PlotTextBox.js","/**\r\n * Created by FDD on 2017/5/20.\r\n */\r\nconst TEXTAREA = 'TextArea' // 文本标绘（特殊）\r\nconst ARC = 'Arc'\r\nconst CURVE = 'Curve'\r\nconst GATHERING_PLACE = 'GatheringPlace'\r\nconst POLYLINE = 'Polyline'\r\nconst FREEHANDLINE = 'FreeHandLine'\r\nconst POINT = 'Point'\r\nconst PENNANT = 'Pennant'\r\nconst RECTANGLE = 'RectAngle'\r\nconst CIRCLE = 'Circle'\r\nconst ELLIPSE = 'Ellipse'\r\nconst LUNE = 'Lune'\r\nconst SECTOR = 'Sector'\r\nconst CLOSED_CURVE = 'ClosedCurve'\r\nconst POLYGON = 'Polygon'\r\nconst FREE_POLYGON = 'FreePolygon'\r\nconst ATTACK_ARROW = 'AttackArrow'\r\nconst DOUBLE_ARROW = 'DoubleArrow'\r\nconst STRAIGHT_ARROW = 'StraightArrow'\r\nconst FINE_ARROW = 'FineArrow'\r\nconst ASSAULT_DIRECTION = 'AssaultDirection'\r\nconst TAILED_ATTACK_ARROW = 'TailedAttackArrow'\r\nconst SQUAD_COMBAT = 'SquadCombat'\r\nconst TAILED_SQUAD_COMBAT = 'TailedSquadCombat'\r\nconst RECTFLAG = 'RectFlag'\r\nconst TRIANGLEFLAG = 'TriangleFlag'\r\nconst CURVEFLAG = 'CurveFlag'\r\nexport {\r\n  TEXTAREA,\r\n  ARC,\r\n  CURVE,\r\n  GATHERING_PLACE,\r\n  POLYLINE,\r\n  FREEHANDLINE,\r\n  POINT,\r\n  PENNANT,\r\n  RECTANGLE,\r\n  CIRCLE,\r\n  ELLIPSE,\r\n  LUNE,\r\n  SECTOR,\r\n  CLOSED_CURVE,\r\n  POLYGON,\r\n  FREE_POLYGON,\r\n  ATTACK_ARROW,\r\n  DOUBLE_ARROW,\r\n  STRAIGHT_ARROW,\r\n  FINE_ARROW,\r\n  ASSAULT_DIRECTION,\r\n  TAILED_SQUAD_COMBAT,\r\n  TAILED_ATTACK_ARROW,\r\n  SQUAD_COMBAT,\r\n  RECTFLAG,\r\n  TRIANGLEFLAG,\r\n  CURVEFLAG\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Utils/PlotTypes.js","/**\r\n * Created by FDD on 2017/5/15.\r\n * @desc 点要素\r\n */\r\nimport ol from 'openlayers'\r\nimport { POINT } from '../../Utils/PlotTypes'\r\nclass Point extends ol.geom.Point {\r\n  constructor (coordinates, point, params) {\r\n    super([])\r\n    this.type = POINT\r\n    this.options = params || {}\r\n    this.set('params', this.options)\r\n    this.fixPointCount = 1\r\n    if (point && point.length > 0) {\r\n      this.setPoints(point)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  generate () {\r\n    let pnt = this.points[0]\r\n    this.setCoordinates(pnt)\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Point\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/point/Point.js","/**\r\n * Created by FDD on 2017/5/15.\r\n * @desc 点要素\r\n */\r\nimport ol from 'openlayers'\r\nimport {PENNANT} from '../../Utils/PlotTypes'\r\nclass Pennant extends ol.geom.Point {\r\n  constructor (coordinates, point, params) {\r\n    super([])\r\n    this.type = PENNANT\r\n    this.options = params || {}\r\n    this.set('params', this.options)\r\n    if (point && point.length > 0) {\r\n      this.setPoints(point)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  generate () {\r\n    this.setCoordinates(this.points)\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Pennant\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/point/Pennant.js","import ol from 'openlayers'\r\n\r\nimport {POLYLINE} from '../../Utils/PlotTypes'\r\nclass Polyline extends ol.geom.LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = POLYLINE\r\n    this.freehand = false\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    this.setCoordinates(this.points)\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Polyline\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polyline/Polyline.js","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 标绘画弓形算法，继承线要素相关方法和属性\r\n */\r\nimport ol from 'openlayers'\r\nimport {ARC} from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Arc extends ol.geom.LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = ARC\r\n    this.fixPointCount = 3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) return\r\n    if (count === 2) {\r\n      this.setCoordinates(this.points)\r\n    } else {\r\n      let [pnt1, pnt2, pnt3, startAngle, endAngle] = [this.points[0], this.points[1], this.points[2], null, null]\r\n      let center = PlotUtils.getCircleCenterOfThreePoints(pnt1, pnt2, pnt3)\r\n      let radius = PlotUtils.MathDistance(pnt1, center)\r\n      let angle1 = PlotUtils.getAzimuth(pnt1, center)\r\n      let angle2 = PlotUtils.getAzimuth(pnt2, center)\r\n      if (PlotUtils.isClockWise(pnt1, pnt2, pnt3)) {\r\n        startAngle = angle2\r\n        endAngle = angle1\r\n      } else {\r\n        startAngle = angle1\r\n        endAngle = angle2\r\n      }\r\n      this.setCoordinates(PlotUtils.getArcPoints(center, radius, startAngle, endAngle))\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Arc\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Arc/Arc.js","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 标绘画圆算法，继承面要素相关方法和属性\r\n */\r\nimport ol from 'openlayers'\r\nimport {CIRCLE} from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Circle extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = CIRCLE\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      let center = this.points[0]\r\n      let radius = PlotUtils.MathDistance(center, this.points[1])\r\n      this.setCoordinates([this.generatePoints(center, radius)])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 对圆边线进行插值\r\n   * @param center\r\n   * @param radius\r\n   * @returns {null}\r\n   */\r\n  generatePoints (center, radius) {\r\n    let [x, y, angle, points] = [null, null, null, []]\r\n    for (let i = 0; i <= 100; i++) {\r\n      angle = Math.PI * 2 * i / 100\r\n      x = center[0] + radius * Math.cos(angle)\r\n      y = center[1] + radius * Math.sin(angle)\r\n      points.push([x, y])\r\n    }\r\n    return points\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Circle\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Circle/Circle.js","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 标绘曲线算法\r\n */\r\nimport ol from 'openlayers'\r\nimport {CURVE} from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Curve extends ol.geom.LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = CURVE\r\n    this.t = 0.3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else if (count === 2) {\r\n      this.setCoordinates(this.points)\r\n    } else {\r\n      let points = PlotUtils.getCurvePoints(this.t, this.points)\r\n      this.setCoordinates(points)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Curve\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polyline/Curve.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 自由线\r\n * @Inherits ol.geom.LineString\r\n */\r\nimport ol from 'openlayers'\r\nimport {FREEHANDLINE} from '../../Utils/PlotTypes'\r\nclass FreeHandLine extends ol.geom.LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = FREEHANDLINE\r\n    this.freehand = true\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    this.setCoordinates(this.points)\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default FreeHandLine\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polyline/FreeHandLine.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 规则矩形\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {RECTANGLE} from '../../Utils/PlotTypes'\r\nclass RectAngle extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = RECTANGLE\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    this.isFill = ((params['isFill'] === false) ? params['isFill'] : true)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    if (this.points.length === 2) {\r\n      let coordinates = []\r\n      if (this.isFill) {\r\n        let extent = ol.extent.boundingExtent(this.points)\r\n        let polygon = ol.geom.Polygon.fromExtent(extent)\r\n        coordinates = polygon.getCoordinates()\r\n      } else {\r\n        let start = this.points[0]\r\n        let end = this.points[1]\r\n        coordinates = [start, [start[0], end[1]], end, [end[0], start[1]], start]\r\n      }\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default RectAngle\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polygon/RectAngle.js","/**\r\n * Created by FDD on 2017/5/22.\r\n * @desc 标绘画圆算法，继承面要素相关方法和属性\r\n */\r\nimport ol from 'openlayers'\r\n\r\nimport {ELLIPSE} from '../../Utils/PlotTypes'\r\nimport * as Constants from '../../Constants'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Ellipse extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = ELLIPSE\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  generate () {\r\n    if (this.getPointCount() < 2) {\r\n      return false\r\n    } else {\r\n      let [pnt1, pnt2] = [this.points[0], this.points[1]]\r\n      let center = PlotUtils.Mid(pnt1, pnt2)\r\n      let majorRadius = Math.abs((pnt1[0] - pnt2[0]) / 2)\r\n      let minorRadius = Math.abs((pnt1[1] - pnt2[1]) / 2)\r\n      let res = this.generatePoints(center, majorRadius, minorRadius)\r\n      this.setCoordinates([res])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 对圆边线进行插值\r\n   * @param center\r\n   * @param majorRadius\r\n   * @param minorRadius\r\n   * @returns {*}\r\n   */\r\n  generatePoints (center, majorRadius, minorRadius) {\r\n    let [x, y, angle, points] = [null, null, null, []]\r\n    for (let i = 0; i <= Constants.FITTING_COUNT; i++) {\r\n      angle = Math.PI * 2 * i / Constants.FITTING_COUNT\r\n      x = center[0] + majorRadius * Math.cos(angle)\r\n      y = center[1] + minorRadius * Math.sin(angle)\r\n      points.push([x, y])\r\n    }\r\n    return points\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Ellipse\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Circle/Ellipse.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 弓形\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {LUNE} from '../../Utils/PlotTypes'\r\nimport * as Constants from '../../Constants'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Lune extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = LUNE\r\n    this.fixPointCount = 3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    if (this.getPointCount() < 2) {\r\n      return false\r\n    } else {\r\n      let pnts = this.getPoints()\r\n      if (this.getPointCount() === 2) {\r\n        let mid = PlotUtils.Mid(pnts[0], pnts[1])\r\n        let d = PlotUtils.MathDistance(pnts[0], mid)\r\n        let pnt = PlotUtils.getThirdPoint(pnts[0], mid, Constants.HALF_PI, d)\r\n        pnts.push(pnt)\r\n      }\r\n      let [pnt1, pnt2, pnt3, startAngle, endAngle] = [pnts[0], pnts[1], pnts[2], undefined, undefined]\r\n      let center = PlotUtils.getCircleCenterOfThreePoints(pnt1, pnt2, pnt3)\r\n      let radius = PlotUtils.MathDistance(pnt1, center)\r\n      let angle1 = PlotUtils.getAzimuth(pnt1, center)\r\n      let angle2 = PlotUtils.getAzimuth(pnt2, center)\r\n      if (PlotUtils.isClockWise(pnt1, pnt2, pnt3)) {\r\n        startAngle = angle2\r\n        endAngle = angle1\r\n      } else {\r\n        startAngle = angle1\r\n        endAngle = angle2\r\n      }\r\n      pnts = PlotUtils.getArcPoints(center, radius, startAngle, endAngle)\r\n      pnts.push(pnts[0])\r\n      this.setCoordinates([pnts])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Lune\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polygon/Lune.js","/**\r\n * Created by FDD on 2017/5/25.\r\n * @desc 扇形\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {SECTOR} from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass Sector extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = SECTOR\r\n    this.fixPointCount = 3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let points = this.getPointCount()\r\n    if (points < 2) {\r\n      return false\r\n    } else if (points === 2) {\r\n      this.setCoordinates([this.points])\r\n    } else {\r\n      let pnts = this.getPoints()\r\n      let [center, pnt2, pnt3] = [pnts[0], pnts[1], pnts[2]]\r\n      let radius = PlotUtils.MathDistance(pnt2, center)\r\n      let startAngle = PlotUtils.getAzimuth(pnt2, center)\r\n      let endAngle = PlotUtils.getAzimuth(pnt3, center)\r\n      let pList = PlotUtils.getArcPoints(center, radius, startAngle, endAngle)\r\n      pList.push(center, pList[0])\r\n      this.setCoordinates([pList])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Sector\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polygon/Sector.js","/**\r\n * Created by FDD on 2017/5/25.\r\n * @desc 闭合曲面\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {CLOSED_CURVE} from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass ClosedCurve extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = CLOSED_CURVE\r\n    this.t = 0.3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let points = this.getPointCount()\r\n    if (points < 2) {\r\n      return false\r\n    } else if (points === 2) {\r\n      this.setCoordinates([this.points])\r\n    } else {\r\n      let pnts = this.getPoints()\r\n      pnts.push(pnts[0], pnts[1])\r\n      let [normals, pList] = [[], []]\r\n      for (let i = 0; i < pnts.length - 2; i++) {\r\n        let normalPoints = PlotUtils.getBisectorNormals(this.t, pnts[i], pnts[i + 1], pnts[i + 2])\r\n        normals = normals.concat(normalPoints)\r\n      }\r\n      let count = normals.length\r\n      normals = [normals[count - 1]].concat(normals.slice(0, count - 1))\r\n      for (let i = 0; i < pnts.length - 2; i++) {\r\n        let pnt1 = pnts[i]\r\n        let pnt2 = pnts[i + 1]\r\n        pList.push(pnt1)\r\n        for (let t = 0; t <= Constants.FITTING_COUNT; t++) {\r\n          let pnt = PlotUtils.getCubicValue(t / Constants.FITTING_COUNT, pnt1, normals[i * 2], normals[i * 2 + 1], pnt2)\r\n          pList.push(pnt)\r\n        }\r\n        pList.push(pnt2)\r\n      }\r\n      this.setCoordinates([pList])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default ClosedCurve\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polygon/ClosedCurve.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 多边形\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {POLYGON} from '../../Utils/PlotTypes'\r\nclass Polygon extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = POLYGON\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      this.setCoordinates([this.points])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default Polygon\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polygon/Polygon.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 自由面\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {FREE_POLYGON} from '../../Utils/PlotTypes'\r\nclass FreePolygon extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = FREE_POLYGON\r\n    this.freehand = true\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    this.setCoordinates([this.points])\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default FreePolygon\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polygon/FreePolygon.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 进攻方向\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {ATTACK_ARROW} from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass AttackArrow extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = ATTACK_ARROW\r\n    this.headHeightFactor = 0.18\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.headTailFactor = 0.8\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let points = this.getPointCount()\r\n      if (points < 2) {\r\n        return false\r\n      } else if (points === 2) {\r\n        this.setCoordinates([this.points])\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let [tailLeft, tailRight] = [pnts[0], pnts[1]]\r\n        if (PlotUtils.isClockWise(pnts[0], pnts[1], pnts[2])) {\r\n          tailLeft = pnts[1]\r\n          tailRight = pnts[0]\r\n        }\r\n        let midTail = PlotUtils.Mid(tailLeft, tailRight)\r\n        let bonePnts = [midTail].concat(pnts.slice(2))\r\n        let headPnts = this.getArrowHeadPoints(bonePnts, tailLeft, tailRight)\r\n        let [neckLeft, neckRight] = [headPnts[0], headPnts[4]]\r\n        let tailWidthFactor = PlotUtils.MathDistance(tailLeft, tailRight) / PlotUtils.getBaseLength(bonePnts)\r\n        let bodyPnts = this.getArrowBodyPoints(bonePnts, neckLeft, neckRight, tailWidthFactor)\r\n        let count = bodyPnts.length\r\n        let leftPnts = [tailLeft].concat(bodyPnts.slice(0, count / 2))\r\n        leftPnts.push(neckLeft)\r\n        let rightPnts = [tailRight].concat(bodyPnts.slice(count / 2, count))\r\n        rightPnts.push(neckRight)\r\n        leftPnts = PlotUtils.getQBSplinePoints(leftPnts)\r\n        rightPnts = PlotUtils.getQBSplinePoints(rightPnts)\r\n        this.setCoordinates([leftPnts.concat(headPnts, rightPnts.reverse())])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值箭形上的点\r\n   * @param pnt1\r\n   * @param pnt2\r\n   * @param pnt3\r\n   * @param clockWise\r\n   * @returns {Array.<T>}\r\n   */\r\n  getArrowPoints (pnt1, pnt2, pnt3, clockWise) {\r\n    let midPnt = PlotUtils.Mid(pnt1, pnt2)\r\n    let len = PlotUtils.MathDistance(midPnt, pnt3)\r\n    let midPnt1 = PlotUtils.getThirdPoint(pnt3, midPnt, 0, len * 0.3, true)\r\n    let midPnt2 = PlotUtils.getThirdPoint(pnt3, midPnt, 0, len * 0.5, true)\r\n    midPnt1 = PlotUtils.getThirdPoint(midPnt, midPnt1, Constants.HALF_PI, len / 5, clockWise)\r\n    midPnt2 = PlotUtils.getThirdPoint(midPnt, midPnt2, Constants.HALF_PI, len / 4, clockWise)\r\n    let points = [midPnt, midPnt1, midPnt2, pnt3]\r\n    let arrowPnts = this.getArrowHeadPoints(points)\r\n    if (arrowPnts && Array.isArray(arrowPnts) && arrowPnts.length > 0) {\r\n      let [neckLeftPoint, neckRightPoint] = [arrowPnts[0], arrowPnts[4]]\r\n      let tailWidthFactor = PlotUtils.MathDistance(pnt1, pnt2) / PlotUtils.getBaseLength(points) / 2\r\n      let bodyPnts = this.getArrowBodyPoints(points, neckLeftPoint, neckRightPoint, tailWidthFactor)\r\n      if (bodyPnts) {\r\n        let n = bodyPnts.length\r\n        let lPoints = bodyPnts.slice(0, n / 2)\r\n        let rPoints = bodyPnts.slice(n / 2, n)\r\n        lPoints.push(neckLeftPoint)\r\n        rPoints.push(neckRightPoint)\r\n        lPoints = lPoints.reverse()\r\n        lPoints.push(pnt2)\r\n        rPoints = rPoints.reverse()\r\n        rPoints.push(pnt1)\r\n        return (lPoints.reverse().concat(arrowPnts, rPoints))\r\n      }\r\n    } else {\r\n      throw new Error('插值出错')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值头部点\r\n   * @param points\r\n   * @returns {[*,*,*,*,*]}\r\n   */\r\n  getArrowHeadPoints (points, tailLeft, tailRight) {\r\n    try {\r\n      let len = PlotUtils.getBaseLength(points)\r\n      let headHeight = len * this.headHeightFactor\r\n      let headPnt = points[points.length - 1]\r\n      len = PlotUtils.MathDistance(headPnt, points[points.length - 2])\r\n      let tailWidth = PlotUtils.MathDistance(tailLeft, tailRight)\r\n      if (headHeight > tailWidth * this.headTailFactor) {\r\n        headHeight = tailWidth * this.headTailFactor\r\n      }\r\n      let headWidth = headHeight * this.headWidthFactor\r\n      let neckWidth = headHeight * this.neckWidthFactor\r\n      headHeight = headHeight > len ? len : headHeight\r\n      let neckHeight = headHeight * this.neckHeightFactor\r\n      let headEndPnt = PlotUtils.getThirdPoint(points[points.length - 2], headPnt, 0, headHeight, true)\r\n      let neckEndPnt = PlotUtils.getThirdPoint(points[points.length - 2], headPnt, 0, neckHeight, true)\r\n      let headLeft = PlotUtils.getThirdPoint(headPnt, headEndPnt, Constants.HALF_PI, headWidth, false)\r\n      let headRight = PlotUtils.getThirdPoint(headPnt, headEndPnt, Constants.HALF_PI, headWidth, true)\r\n      let neckLeft = PlotUtils.getThirdPoint(headPnt, neckEndPnt, Constants.HALF_PI, neckWidth, false)\r\n      let neckRight = PlotUtils.getThirdPoint(headPnt, neckEndPnt, Constants.HALF_PI, neckWidth, true)\r\n      return [neckLeft, headLeft, headPnt, headRight, neckRight]\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值面部分数据\r\n   * @param points\r\n   * @param neckLeft\r\n   * @param neckRight\r\n   * @param tailWidthFactor\r\n   * @returns {Array.<*>}\r\n   */\r\n  getArrowBodyPoints (points, neckLeft, neckRight, tailWidthFactor) {\r\n    let allLen = PlotUtils.wholeDistance(points)\r\n    let len = PlotUtils.getBaseLength(points)\r\n    let tailWidth = len * tailWidthFactor\r\n    let neckWidth = PlotUtils.MathDistance(neckLeft, neckRight)\r\n    let widthDif = (tailWidth - neckWidth) / 2\r\n    let [tempLen, leftBodyPnts, rightBodyPnts] = [0, [], []]\r\n    for (let i = 1; i < points.length - 1; i++) {\r\n      let angle = PlotUtils.getAngleOfThreePoints(points[i - 1], points[i], points[i + 1]) / 2\r\n      tempLen += PlotUtils.MathDistance(points[i - 1], points[i])\r\n      let w = (tailWidth / 2 - tempLen / allLen * widthDif) / Math.sin(angle)\r\n      let left = PlotUtils.getThirdPoint(points[i - 1], points[i], Math.PI - angle, w, true)\r\n      let right = PlotUtils.getThirdPoint(points[i - 1], points[i], angle, w, false)\r\n      leftBodyPnts.push(left)\r\n      rightBodyPnts.push(right)\r\n    }\r\n    return leftBodyPnts.concat(rightBodyPnts)\r\n  }\r\n\r\n  /**\r\n   * 获取对称点\r\n   * @param linePnt1\r\n   * @param linePnt2\r\n   * @param point\r\n   * @returns {*}\r\n   */\r\n  getTempPoint4 (linePnt1, linePnt2, point) {\r\n    try {\r\n      let midPnt = PlotUtils.Mid(linePnt1, linePnt2)\r\n      let len = PlotUtils.MathDistance(midPnt, point)\r\n      let angle = PlotUtils.getAngleOfThreePoints(linePnt1, midPnt, point)\r\n      let [symPnt, distance1, distance2, mid] = [undefined, undefined, undefined, undefined]\r\n      if (angle < Constants.HALF_PI) {\r\n        distance1 = len * Math.sin(angle)\r\n        distance2 = len * Math.cos(angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, false)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, true)\r\n      } else if (angle >= Constants.HALF_PI && angle < Math.PI) {\r\n        distance1 = len * Math.sin(Math.PI - angle)\r\n        distance2 = len * Math.cos(Math.PI - angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, false)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, false)\r\n      } else if (angle >= Math.PI && angle < Math.PI * 1.5) {\r\n        distance1 = len * Math.sin(angle - Math.PI)\r\n        distance2 = len * Math.cos(angle - Math.PI)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, true)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, true)\r\n      } else {\r\n        distance1 = len * Math.sin(Math.PI * 2 - angle)\r\n        distance2 = len * Math.cos(Math.PI * 2 - angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, true)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, false)\r\n      }\r\n      return symPnt\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default AttackArrow\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Arrow/AttackArrow.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 双箭头\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {DOUBLE_ARROW} from '../../Utils/PlotTypes'\r\nimport * as Constants from '../../Constants'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass DoubleArrow extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = DOUBLE_ARROW\r\n    this.headHeightFactor = 0.25\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.connPoint = null\r\n    this.tempPoint4 = null\r\n    this.fixPointCount = 4\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let count = this.getPointCount()\r\n      if (count < 2) {\r\n        return false\r\n      } else if (count === 2) {\r\n        this.setCoordinates([this.points])\r\n        return false\r\n      }\r\n      if (count > 2) {\r\n        let [pnt1, pnt2, pnt3] = [this.points[0], this.points[1], this.points[2]]\r\n        if (count === 3) {\r\n          this.tempPoint4 = this.getTempPoint4(pnt1, pnt2, pnt3)\r\n          this.connPoint = PlotUtils.Mid(pnt1, pnt2)\r\n        } else if (count === 4) {\r\n          this.tempPoint4 = this.points[3]\r\n          this.connPoint = PlotUtils.Mid(pnt1, pnt2)\r\n        } else {\r\n          this.tempPoint4 = this.points[3]\r\n          this.connPoint = this.points[4]\r\n        }\r\n        let [leftArrowPnts, rightArrowPnts] = [undefined, undefined]\r\n        if (PlotUtils.isClockWise(pnt1, pnt2, pnt3)) {\r\n          leftArrowPnts = this.getArrowPoints(pnt1, this.connPoint, this.tempPoint4, false)\r\n          rightArrowPnts = this.getArrowPoints(this.connPoint, pnt2, pnt3, true)\r\n        } else {\r\n          leftArrowPnts = this.getArrowPoints(pnt2, this.connPoint, pnt3, false)\r\n          rightArrowPnts = this.getArrowPoints(this.connPoint, pnt1, this.tempPoint4, true)\r\n        }\r\n        let m = leftArrowPnts.length\r\n        let t = (m - 5) / 2\r\n        let llBodyPnts = leftArrowPnts.slice(0, t)\r\n        let lArrowPnts = leftArrowPnts.slice(t, t + 5)\r\n        let lrBodyPnts = leftArrowPnts.slice(t + 5, m)\r\n        let rlBodyPnts = rightArrowPnts.slice(0, t)\r\n        let rArrowPnts = rightArrowPnts.slice(t, t + 5)\r\n        let rrBodyPnts = rightArrowPnts.slice(t + 5, m)\r\n        rlBodyPnts = PlotUtils.getBezierPoints(rlBodyPnts)\r\n        let bodyPnts = PlotUtils.getBezierPoints(rrBodyPnts.concat(llBodyPnts.slice(1)))\r\n        lrBodyPnts = PlotUtils.getBezierPoints(lrBodyPnts)\r\n        let pnts = rlBodyPnts.concat(rArrowPnts, bodyPnts, lArrowPnts, lrBodyPnts)\r\n        this.setCoordinates([pnts])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值箭形上的点\r\n   * @param pnt1\r\n   * @param pnt2\r\n   * @param pnt3\r\n   * @param clockWise\r\n   * @returns {Array.<T>}\r\n   */\r\n  getArrowPoints (pnt1, pnt2, pnt3, clockWise) {\r\n    let midPnt = PlotUtils.Mid(pnt1, pnt2)\r\n    let len = PlotUtils.MathDistance(midPnt, pnt3)\r\n    let midPnt1 = PlotUtils.getThirdPoint(pnt3, midPnt, 0, len * 0.3, true)\r\n    let midPnt2 = PlotUtils.getThirdPoint(pnt3, midPnt, 0, len * 0.5, true)\r\n    midPnt1 = PlotUtils.getThirdPoint(midPnt, midPnt1, Constants.HALF_PI, len / 5, clockWise)\r\n    midPnt2 = PlotUtils.getThirdPoint(midPnt, midPnt2, Constants.HALF_PI, len / 4, clockWise)\r\n    let points = [midPnt, midPnt1, midPnt2, pnt3]\r\n    let arrowPnts = this.getArrowHeadPoints(points)\r\n    if (arrowPnts && Array.isArray(arrowPnts) && arrowPnts.length > 0) {\r\n      let [neckLeftPoint, neckRightPoint] = [arrowPnts[0], arrowPnts[4]]\r\n      let tailWidthFactor = PlotUtils.MathDistance(pnt1, pnt2) / PlotUtils.getBaseLength(points) / 2\r\n      let bodyPnts = this.getArrowBodyPoints(points, neckLeftPoint, neckRightPoint, tailWidthFactor)\r\n      if (bodyPnts) {\r\n        let n = bodyPnts.length\r\n        let lPoints = bodyPnts.slice(0, n / 2)\r\n        let rPoints = bodyPnts.slice(n / 2, n)\r\n        lPoints.push(neckLeftPoint)\r\n        rPoints.push(neckRightPoint)\r\n        lPoints = lPoints.reverse()\r\n        lPoints.push(pnt2)\r\n        rPoints = rPoints.reverse()\r\n        rPoints.push(pnt1)\r\n        return (lPoints.reverse().concat(arrowPnts, rPoints))\r\n      }\r\n    } else {\r\n      throw new Error('插值出错')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值头部点\r\n   * @param points\r\n   * @returns {[*,*,*,*,*]}\r\n   */\r\n  getArrowHeadPoints (points) {\r\n    try {\r\n      let len = PlotUtils.getBaseLength(points)\r\n      let headHeight = len * this.headHeightFactor\r\n      let headPnt = points[points.length - 1]\r\n      let headWidth = headHeight * this.headWidthFactor\r\n      let neckWidth = headHeight * this.neckWidthFactor\r\n      let neckHeight = headHeight * this.neckHeightFactor\r\n      let headEndPnt = PlotUtils.getThirdPoint(points[points.length - 2], headPnt, 0, headHeight, true)\r\n      let neckEndPnt = PlotUtils.getThirdPoint(points[points.length - 2], headPnt, 0, neckHeight, true)\r\n      let headLeft = PlotUtils.getThirdPoint(headPnt, headEndPnt, Constants.HALF_PI, headWidth, false)\r\n      let headRight = PlotUtils.getThirdPoint(headPnt, headEndPnt, Constants.HALF_PI, headWidth, true)\r\n      let neckLeft = PlotUtils.getThirdPoint(headPnt, neckEndPnt, Constants.HALF_PI, neckWidth, false)\r\n      let neckRight = PlotUtils.getThirdPoint(headPnt, neckEndPnt, Constants.HALF_PI, neckWidth, true)\r\n      return [neckLeft, headLeft, headPnt, headRight, neckRight]\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值面部分数据\r\n   * @param points\r\n   * @param neckLeft\r\n   * @param neckRight\r\n   * @param tailWidthFactor\r\n   * @returns {Array.<*>}\r\n   */\r\n  getArrowBodyPoints (points, neckLeft, neckRight, tailWidthFactor) {\r\n    let allLen = PlotUtils.wholeDistance(points)\r\n    let len = PlotUtils.getBaseLength(points)\r\n    let tailWidth = len * tailWidthFactor\r\n    let neckWidth = PlotUtils.MathDistance(neckLeft, neckRight)\r\n    let widthDif = (tailWidth - neckWidth) / 2\r\n    let [tempLen, leftBodyPnts, rightBodyPnts] = [0, [], []]\r\n    for (let i = 1; i < points.length - 1; i++) {\r\n      let angle = PlotUtils.getAngleOfThreePoints(points[i - 1], points[i], points[i + 1]) / 2\r\n      tempLen += PlotUtils.MathDistance(points[i - 1], points[i])\r\n      let w = (tailWidth / 2 - tempLen / allLen * widthDif) / Math.sin(angle)\r\n      let left = PlotUtils.getThirdPoint(points[i - 1], points[i], Math.PI - angle, w, true)\r\n      let right = PlotUtils.getThirdPoint(points[i - 1], points[i], angle, w, false)\r\n      leftBodyPnts.push(left)\r\n      rightBodyPnts.push(right)\r\n    }\r\n    return leftBodyPnts.concat(rightBodyPnts)\r\n  }\r\n\r\n  /**\r\n   * 获取对称点\r\n   * @param linePnt1\r\n   * @param linePnt2\r\n   * @param point\r\n   * @returns {*}\r\n   */\r\n  getTempPoint4 (linePnt1, linePnt2, point) {\r\n    try {\r\n      let midPnt = PlotUtils.Mid(linePnt1, linePnt2)\r\n      let len = PlotUtils.MathDistance(midPnt, point)\r\n      let angle = PlotUtils.getAngleOfThreePoints(linePnt1, midPnt, point)\r\n      let [symPnt, distance1, distance2, mid] = [undefined, undefined, undefined, undefined]\r\n      if (angle < Constants.HALF_PI) {\r\n        distance1 = len * Math.sin(angle)\r\n        distance2 = len * Math.cos(angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, false)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, true)\r\n      } else if (angle >= Constants.HALF_PI && angle < Math.PI) {\r\n        distance1 = len * Math.sin(Math.PI - angle)\r\n        distance2 = len * Math.cos(Math.PI - angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, false)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, false)\r\n      } else if (angle >= Math.PI && angle < Math.PI * 1.5) {\r\n        distance1 = len * Math.sin(angle - Math.PI)\r\n        distance2 = len * Math.cos(angle - Math.PI)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, true)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, true)\r\n      } else {\r\n        distance1 = len * Math.sin(Math.PI * 2 - angle)\r\n        distance2 = len * Math.cos(Math.PI * 2 - angle)\r\n        mid = PlotUtils.getThirdPoint(linePnt1, midPnt, Constants.HALF_PI, distance1, true)\r\n        symPnt = PlotUtils.getThirdPoint(midPnt, mid, Constants.HALF_PI, distance2, false)\r\n      }\r\n      return symPnt\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n    if (this.getPointCount() === 3 && this.tempPoint4 !== null) {\r\n      this.points.push(this.tempPoint4)\r\n    }\r\n    if (this.connPoint !== null) {\r\n      this.points.push(this.connPoint)\r\n    }\r\n  }\r\n}\r\n\r\nexport default DoubleArrow\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Arrow/DoubleArrow.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 细直箭头\r\n */\r\nimport ol from 'openlayers'\r\nimport {STRAIGHT_ARROW} from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass StraightArrow extends ol.geom.LineString {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = STRAIGHT_ARROW\r\n    this.fixPointCount = 2\r\n    this.maxArrowLength = 3000000\r\n    this.arrowLengthScale = 5\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let count = this.getPointCount()\r\n      if (count < 2) {\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let [pnt1, pnt2] = [pnts[0], pnts[1]]\r\n        let distance = PlotUtils.MathDistance(pnt1, pnt2)\r\n        let len = distance / this.arrowLengthScale\r\n        len = ((len > this.maxArrowLength) ? this.maxArrowLength : len)\r\n        let leftPnt = PlotUtils.getThirdPoint(pnt1, pnt2, Math.PI / 6, len, false)\r\n        let rightPnt = PlotUtils.getThirdPoint(pnt1, pnt2, Math.PI / 6, len, true)\r\n        this.setCoordinates([pnt1, pnt2, leftPnt, pnt2, rightPnt])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {{}|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default StraightArrow\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Arrow/StraightArrow.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 粗单尖头箭头\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {FINE_ARROW} from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass FineArrow extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = FINE_ARROW\r\n    this.tailWidthFactor = 0.1\r\n    this.neckWidthFactor = 0.2\r\n    this.headWidthFactor = 0.25\r\n    this.headAngle = Math.PI / 8.5\r\n    this.neckAngle = Math.PI / 13\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let cont = this.getPointCount()\r\n      if (cont < 2) {\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let [pnt1, pnt2] = [pnts[0], pnts[1]]\r\n        let len = PlotUtils.getBaseLength(pnts)\r\n        let tailWidth = len * this.tailWidthFactor\r\n        let neckWidth = len * this.neckWidthFactor\r\n        let headWidth = len * this.headWidthFactor\r\n        let tailLeft = PlotUtils.getThirdPoint(pnt2, pnt1, Constants.HALF_PI, tailWidth, true)\r\n        let tailRight = PlotUtils.getThirdPoint(pnt2, pnt1, Constants.HALF_PI, tailWidth, false)\r\n        let headLeft = PlotUtils.getThirdPoint(pnt1, pnt2, this.headAngle, headWidth, false)\r\n        let headRight = PlotUtils.getThirdPoint(pnt1, pnt2, this.headAngle, headWidth, true)\r\n        let neckLeft = PlotUtils.getThirdPoint(pnt1, pnt2, this.neckAngle, neckWidth, false)\r\n        let neckRight = PlotUtils.getThirdPoint(pnt1, pnt2, this.neckAngle, neckWidth, true)\r\n        let pList = [tailLeft, neckLeft, headLeft, pnt2, headRight, neckRight, tailRight]\r\n        this.setCoordinates([pList])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default FineArrow\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Arrow/FineArrow.js","/**\r\n * Created by FDD on 2017/5/24.\r\n * @desc 粗单直箭头\r\n * @Inherits FineArrow\r\n */\r\nimport FineArrow from './FineArrow'\r\nimport {ASSAULT_DIRECTION} from '../../Utils/PlotTypes'\r\nclass AssaultDirection extends FineArrow {\r\n  constructor (coordinates, points, params) {\r\n    super(coordinates, points, params)\r\n    this.tailWidthFactor = 0.05\r\n    this.neckWidthFactor = 0.1\r\n    this.headWidthFactor = 0.15\r\n    this.type = ASSAULT_DIRECTION\r\n    this.headAngle = Math.PI / 4\r\n    this.neckAngle = Math.PI * 0.17741\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n    this.set('params', params)\r\n  }\r\n}\r\n\r\nexport default AssaultDirection\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Arrow/AssaultDirection.js","/**\r\n * Created by FDD on 2017/5/26.\r\n * @desc 进攻方向（尾）\r\n * @Inherits AttackArrow\r\n */\r\n\r\nimport {TAILED_ATTACK_ARROW} from '../../Utils/PlotTypes'\r\nimport AttackArrow from './AttackArrow'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nclass TailedAttackArrow extends AttackArrow {\r\n  constructor (coordinates, points, params) {\r\n    super(coordinates, points, params)\r\n    this.type = TAILED_ATTACK_ARROW\r\n    this.headHeightFactor = 0.18\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.tailWidthFactor = 0.1\r\n    this.headTailFactor = 0.8\r\n    this.swallowTailFactor = 1\r\n    this.swallowTailPnt = null\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let points = this.getPointCount()\r\n      if (points < 2) {\r\n        return false\r\n      } else if (points === 2) {\r\n        this.setCoordinates([this.points])\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let [tailLeft, tailRight] = [pnts[0], pnts[1]]\r\n        if (PlotUtils.isClockWise(pnts[0], pnts[1], pnts[2])) {\r\n          tailLeft = pnts[1]\r\n          tailRight = pnts[0]\r\n        }\r\n        let midTail = PlotUtils.Mid(tailLeft, tailRight)\r\n        let bonePnts = [midTail].concat(pnts.slice(2))\r\n        let headPnts = this.getArrowHeadPoints(bonePnts, tailLeft, tailRight)\r\n        let [neckLeft, neckRight] = [headPnts[0], headPnts[4]]\r\n        let tailWidth = PlotUtils.MathDistance(tailLeft, tailRight)\r\n        let allLen = PlotUtils.getBaseLength(bonePnts)\r\n        let len = allLen * this.tailWidthFactor * this.swallowTailFactor\r\n        this.swallowTailPnt = PlotUtils.getThirdPoint(bonePnts[1], bonePnts[0], 0, len, true)\r\n        let factor = tailWidth / allLen\r\n        let bodyPnts = this.getArrowBodyPoints(bonePnts, neckLeft, neckRight, factor)\r\n        let count = bodyPnts.length\r\n        let leftPnts = [tailLeft].concat(bodyPnts.slice(0, count / 2))\r\n        leftPnts.push(neckLeft)\r\n        let rightPnts = [tailRight].concat(bodyPnts.slice(count / 2, count))\r\n        rightPnts.push(neckRight)\r\n        leftPnts = PlotUtils.getQBSplinePoints(leftPnts)\r\n        rightPnts = PlotUtils.getQBSplinePoints(rightPnts)\r\n        this.setCoordinates([leftPnts.concat(headPnts, rightPnts.reverse(), [this.swallowTailPnt, leftPnts[0]])])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n}\r\n\r\nexport default TailedAttackArrow\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Arrow/TailedAttackArrow.js","/**\r\n * Created by FDD on 2017/5/26.\r\n * @desc 分队战斗行动\r\n * @Inherits AttackArrow\r\n */\r\n\r\nimport {SQUAD_COMBAT} from '../../Utils/PlotTypes'\r\nimport AttackArrow from './AttackArrow'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass SquadCombat extends AttackArrow {\r\n  constructor (coordinates, points, params) {\r\n    super(coordinates, points, params)\r\n    this.type = SQUAD_COMBAT\r\n    this.headHeightFactor = 0.18\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.tailWidthFactor = 0.1\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let count = this.getPointCount()\r\n      if (count < 2) {\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let tailPnts = this.getTailPoints(pnts)\r\n        let headPnts = this.getArrowHeadPoints(pnts, tailPnts[0], tailPnts[1])\r\n        let neckLeft = headPnts[0]\r\n        let neckRight = headPnts[4]\r\n        let bodyPnts = this.getArrowBodyPoints(pnts, neckLeft, neckRight, this.tailWidthFactor)\r\n        let count = bodyPnts.length\r\n        let leftPnts = [tailPnts[0]].concat(bodyPnts.slice(0, count / 2))\r\n        leftPnts.push(neckLeft)\r\n        let rightPnts = [tailPnts[1]].concat(bodyPnts.slice(count / 2, count))\r\n        rightPnts.push(neckRight)\r\n        leftPnts = PlotUtils.getQBSplinePoints(leftPnts)\r\n        rightPnts = PlotUtils.getQBSplinePoints(rightPnts)\r\n        this.setCoordinates([leftPnts.concat(headPnts, rightPnts.reverse())])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  getTailPoints (points) {\r\n    let allLen = PlotUtils.getBaseLength(points)\r\n    let tailWidth = allLen * this.tailWidthFactor\r\n    let tailLeft = PlotUtils.getThirdPoint(points[1], points[0], Constants.HALF_PI, tailWidth, false)\r\n    let tailRight = PlotUtils.getThirdPoint(points[1], points[0], Constants.HALF_PI, tailWidth, true)\r\n    return ([tailLeft, tailRight])\r\n  }\r\n}\r\n\r\nexport default SquadCombat\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Arrow/SquadCombat.js","/**\r\n * Created by FDD on 2017/5/26.\r\n * @desc 分队战斗行动（尾）\r\n * @Inherits AttackArrow\r\n */\r\n\r\nimport {TAILED_SQUAD_COMBAT} from '../../Utils/PlotTypes'\r\nimport AttackArrow from './AttackArrow'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass TailedSquadCombat extends AttackArrow {\r\n  constructor (coordinates, points, params) {\r\n    super(coordinates, points, params)\r\n    this.type = TAILED_SQUAD_COMBAT\r\n    this.headHeightFactor = 0.18\r\n    this.headWidthFactor = 0.3\r\n    this.neckHeightFactor = 0.85\r\n    this.neckWidthFactor = 0.15\r\n    this.tailWidthFactor = 0.1\r\n    this.swallowTailFactor = 1\r\n    this.swallowTailPnt = null\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    try {\r\n      let count = this.getPointCount()\r\n      if (count < 2) {\r\n        return false\r\n      } else {\r\n        let pnts = this.getPoints()\r\n        let tailPnts = this.getTailPoints(pnts)\r\n        let headPnts = this.getArrowHeadPoints(pnts, tailPnts[0], tailPnts[2])\r\n        let neckLeft = headPnts[0]\r\n        let neckRight = headPnts[4]\r\n        let bodyPnts = this.getArrowBodyPoints(pnts, neckLeft, neckRight, this.tailWidthFactor)\r\n        let count = bodyPnts.length\r\n        let leftPnts = [tailPnts[0]].concat(bodyPnts.slice(0, count / 2))\r\n        leftPnts.push(neckLeft)\r\n        let rightPnts = [tailPnts[2]].concat(bodyPnts.slice(count / 2, count))\r\n        rightPnts.push(neckRight)\r\n        leftPnts = PlotUtils.getQBSplinePoints(leftPnts)\r\n        rightPnts = PlotUtils.getQBSplinePoints(rightPnts)\r\n        this.setCoordinates([leftPnts.concat(headPnts, rightPnts.reverse(), [tailPnts[1], leftPnts[0]])])\r\n      }\r\n    } catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  getTailPoints (points) {\r\n    let allLen = PlotUtils.getBaseLength(points)\r\n    let tailWidth = allLen * this.tailWidthFactor\r\n    let tailLeft = PlotUtils.getThirdPoint(points[1], points[0], Constants.HALF_PI, tailWidth, false)\r\n    let tailRight = PlotUtils.getThirdPoint(points[1], points[0], Constants.HALF_PI, tailWidth, true)\r\n    let len = tailWidth * this.swallowTailFactor\r\n    let swallowTailPnt = PlotUtils.getThirdPoint(points[1], points[0], 0, len, true)\r\n    return ([tailLeft, swallowTailPnt, tailRight])\r\n  }\r\n}\r\n\r\nexport default TailedSquadCombat\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Arrow/TailedSquadCombat.js","/**\r\n * Created by FDD on 2017/5/27.\r\n * @desc 集结地\r\n * @Inherits ol.geom.Polygon\r\n */\r\nimport ol from 'openlayers'\r\nimport {GATHERING_PLACE} from '../../Utils/PlotTypes'\r\nimport * as PlotUtils from '../../Utils/utils'\r\nimport * as Constants from '../../Constants'\r\nclass GatheringPlace extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = GATHERING_PLACE\r\n    this.t = 0.4\r\n    this.fixPointCount = 3\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let pnts = this.getPoints()\r\n    let points = this.getPointCount()\r\n    if (pnts.length < 2) {\r\n      return false\r\n    } else {\r\n      if (points === 2) {\r\n        let mid = PlotUtils.Mid(pnts[0], pnts[1])\r\n        let d = PlotUtils.MathDistance(pnts[0], mid) / 0.9\r\n        let pnt = PlotUtils.getThirdPoint(pnts[0], mid, Constants.HALF_PI, d, true)\r\n        pnts = [pnts[0], pnt, pnts[1]]\r\n      }\r\n      let mid = PlotUtils.Mid(pnts[0], pnts[2])\r\n      pnts.push(mid, pnts[0], pnts[1])\r\n      let [normals, pnt1, pnt2, pnt3, pList] = [[], undefined, undefined, undefined, []]\r\n      for (let i = 0; i < pnts.length - 2; i++) {\r\n        pnt1 = pnts[i]\r\n        pnt2 = pnts[i + 1]\r\n        pnt3 = pnts[i + 2]\r\n        let normalPoints = PlotUtils.getBisectorNormals(this.t, pnt1, pnt2, pnt3)\r\n        normals = normals.concat(normalPoints)\r\n      }\r\n      let count = normals.length\r\n      normals = [normals[count - 1]].concat(normals.slice(0, count - 1))\r\n      for (let i = 0; i < pnts.length - 2; i++) {\r\n        pnt1 = pnts[i]\r\n        pnt2 = pnts[i + 1]\r\n        pList.push(pnt1)\r\n        for (let t = 0; t <= Constants.FITTING_COUNT; t++) {\r\n          let pnt = PlotUtils.getCubicValue(t / Constants.FITTING_COUNT, pnt1, normals[i * 2], normals[i * 2 + 1], pnt2)\r\n          pList.push(pnt)\r\n        }\r\n        pList.push(pnt2)\r\n      }\r\n      this.setCoordinates([pList])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default GatheringPlace\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Polygon/GatheringPlace.js","/**\r\n * Created by FDD on 2017/9/13.\r\n * @desc 直角旗标（使用两个控制点直接创建直角旗标）\r\n */\r\nimport ol from 'openlayers'\r\nimport {RECTFLAG} from '../../Utils/PlotTypes'\r\nclass RectFlag extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = RECTFLAG\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      this.setCoordinates([this.calculatePonits(this.points)])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值点数据\r\n   * @param points\r\n   * @returns {Array}\r\n   */\r\n  calculatePonits (points) {\r\n    let components = []\r\n    // 至少需要两个控制点\r\n    if (points.length > 1) {\r\n      // 取第一个\r\n      let startPoint = points[0]\r\n      // 取最后一个\r\n      let endPoint = points[points.length - 1]\r\n      var point1 = [endPoint[0], startPoint[1]]\r\n      var point2 = [endPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      var point3 = [startPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      var point4 = [startPoint[0], endPoint[1]]\r\n      components = [startPoint, point1, point2, point3, point4]\r\n    }\r\n    return components\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default RectFlag\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Flag/RectFlag.js","/**\r\n * Created by FDD on 2017/9/13.\r\n * @desc 三角旗标（使用两个控制点直接创建三角旗标）\r\n */\r\nimport ol from 'openlayers'\r\n\r\nimport {TRIANGLEFLAG} from '../../Utils/PlotTypes'\r\nclass TriangleFlag extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = TRIANGLEFLAG\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      this.setCoordinates([this.calculatePonits(this.points)])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值点数据\r\n   * @param points\r\n   * @returns {Array}\r\n   */\r\n  calculatePonits (points) {\r\n    let components = []\r\n    // 至少需要两个控制点\r\n    if (points.length > 1) {\r\n      // 取第一个\r\n      let startPoint = points[0]\r\n      // 取最后一个\r\n      let endPoint = points[points.length - 1]\r\n      var point1 = [endPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      var point2 = [startPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      var point3 = [startPoint[0], endPoint[1]]\r\n      components = [startPoint, point1, point2, point3]\r\n    }\r\n    return components\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default TriangleFlag\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Flag/TriangleFlag.js","/**\r\n * Created by FDD on 2017/9/13.\r\n * @desc 曲线旗标\r\n */\r\nimport ol from 'openlayers'\r\nimport {CURVEFLAG} from '../../Utils/PlotTypes'\r\nimport {getBezierPoints} from '../../Utils/utils'\r\nclass CurveFlag extends ol.geom.Polygon {\r\n  constructor (coordinates, points, params) {\r\n    super([])\r\n    this.type = CURVEFLAG\r\n    this.fixPointCount = 2\r\n    this.set('params', params)\r\n    if (points && points.length > 0) {\r\n      this.setPoints(points)\r\n    } else if (coordinates && coordinates.length > 0) {\r\n      this.setCoordinates(coordinates)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取标绘类型\r\n   * @returns {*}\r\n   */\r\n  getPlotType () {\r\n    return this.type\r\n  }\r\n\r\n  /**\r\n   * 执行动作\r\n   */\r\n  generate () {\r\n    let count = this.getPointCount()\r\n    if (count < 2) {\r\n      return false\r\n    } else {\r\n      this.setCoordinates([this.calculatePonits(this.points)])\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 插值点数据\r\n   * @param points\r\n   * @returns {Array}\r\n   */\r\n  calculatePonits (points) {\r\n    let components = []\r\n    // 至少需要两个控制点\r\n    if (points.length > 1) {\r\n      // 取第一个\r\n      let startPoint = points[0]\r\n      // 取最后一个\r\n      let endPoint = points[points.length - 1]\r\n      // 上曲线起始点\r\n      let point1 = startPoint\r\n      // 上曲线第一控制点\r\n      let point2 = [(endPoint[0] - startPoint[0]) / 4 + startPoint[0], (endPoint[1] - startPoint[1]) / 8 + startPoint[1]]\r\n      // 上曲线第二个点\r\n      let point3 = [(startPoint[0] + endPoint[0]) / 2, startPoint[1]]\r\n      // 上曲线第二控制点\r\n      let point4 = [(endPoint[0] - startPoint[0]) * 3 / 4 + startPoint[0], -(endPoint[1] - startPoint[1]) / 8 + startPoint[1]]\r\n      // 上曲线结束点\r\n      let point5 = [endPoint[0], startPoint[1]]\r\n      // 下曲线结束点\r\n      let point6 = [endPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      // 下曲线第二控制点\r\n      let point7 = [(endPoint[0] - startPoint[0]) * 3 / 4 + startPoint[0], (endPoint[1] - startPoint[1]) * 3 / 8 + startPoint[1]]\r\n      // 下曲线第二个点\r\n      let point8 = [(startPoint[0] + endPoint[0]) / 2, (startPoint[1] + endPoint[1]) / 2]\r\n      // 下曲线第一控制点\r\n      let point9 = [(endPoint[0] - startPoint[0]) / 4 + startPoint[0], (endPoint[1] - startPoint[1]) * 5 / 8 + startPoint[1]]\r\n      // 下曲线起始点\r\n      let point10 = [startPoint[0], (startPoint[1] + endPoint[1]) / 2]\r\n      // 旗杆底部点\r\n      let point11 = [startPoint[0], endPoint[1]]\r\n      // 计算上曲线\r\n      let curve1 = getBezierPoints([point1, point2, point3, point4, point5])\r\n      // 计算下曲线\r\n      let curve2 = getBezierPoints([point6, point7, point8, point9, point10])\r\n      // 合并\r\n      components = curve1.concat(curve2)\r\n      components.push(point11)\r\n    }\r\n    return components\r\n  }\r\n\r\n  /**\r\n   * 设置地图对象\r\n   * @param map\r\n   */\r\n  setMap (map) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取当前地图对象\r\n   * @returns {ol.Map|*}\r\n   */\r\n  getMap () {\r\n    return this.map\r\n  }\r\n\r\n  /**\r\n   * 判断是否是Plot\r\n   * @returns {boolean}\r\n   */\r\n  isPlot () {\r\n    return true\r\n  }\r\n\r\n  /**\r\n   * 设置坐标点\r\n   * @param value\r\n   */\r\n  setPoints (value) {\r\n    this.points = !value ? [] : value\r\n    if (this.points.length >= 1) {\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取坐标点\r\n   * @returns {Array.<T>}\r\n   */\r\n  getPoints () {\r\n    return this.points.slice(0)\r\n  }\r\n\r\n  /**\r\n   * 获取点数量\r\n   * @returns {Number}\r\n   */\r\n  getPointCount () {\r\n    return this.points.length\r\n  }\r\n\r\n  /**\r\n   * 更新当前坐标\r\n   * @param point\r\n   * @param index\r\n   */\r\n  updatePoint (point, index) {\r\n    if (index >= 0 && index < this.points.length) {\r\n      this.points[index] = point\r\n      this.generate()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 更新最后一个坐标\r\n   * @param point\r\n   */\r\n  updateLastPoint (point) {\r\n    this.updatePoint(point, this.points.length - 1)\r\n  }\r\n\r\n  /**\r\n   * 结束绘制\r\n   */\r\n  finishDrawing () {\r\n  }\r\n}\r\n\r\nexport default CurveFlag\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Geometry/Flag/CurveFlag.js","/**\r\n * Created by FDD on 2017/5/15.\r\n * @desc PlotDraw\r\n */\r\nimport ol from 'openlayers'\r\nimport Observable from 'observable-emit'\r\nimport {getuuid, MathDistance} from '../Utils/utils'\r\nimport { BASE_LAYERNAME } from '../Constants'\r\nimport { createVectorLayer } from '../Utils/layerUtils'\r\nimport PlotTextBox from '../Geometry/Text/PlotTextBox'\r\nimport * as Plots from '../Geometry/index'\r\nimport * as PlotTypes from '../Utils/PlotTypes'\r\nconst $DrawInteraction = ol.interaction.Draw\r\nconst $Style = ol.style.Style\r\nconst $Icon = ol.style.Icon\r\nconst $Stroke = ol.style.Stroke\r\nconst $Fill = ol.style.Fill\r\nclass PlotDraw extends Observable {\r\n  constructor (map, params) {\r\n    super()\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n    this.options = params || {}\r\n    /**\r\n     * 交互点\r\n     * @type {null}\r\n     */\r\n    this.points = null\r\n    /**\r\n     * 当前标绘工具\r\n     * @type {null}\r\n     */\r\n    this.plot = null\r\n    /**\r\n     * 当前要素\r\n     * @type {null}\r\n     */\r\n    this.feature = null\r\n    /**\r\n     * 标绘类型\r\n     * @type {null}\r\n     */\r\n    this.plotType = null\r\n    /**\r\n     * 当前标绘参数\r\n     * @type {null}\r\n     */\r\n    this.plotParams = null\r\n    /**\r\n     * 当前地图视图\r\n     * @type {Element}\r\n     */\r\n    this.mapViewport = this.map.getViewport()\r\n    /**\r\n     * 地图双击交互\r\n     * @type {null}\r\n     */\r\n    this.dblClickZoomInteraction = null\r\n\r\n    /**\r\n     * draw交互工具\r\n     * @type {null}\r\n     * @private\r\n     */\r\n    this.drawInteraction_ = null\r\n\r\n    /**\r\n     * 创建图层名称\r\n     * @type {string}\r\n     */\r\n    this.layerName = ((this.options && this.options['layerName']) ? this.options['layerName'] : BASE_LAYERNAME)\r\n\r\n    /**\r\n     * 当前矢量图层\r\n     * @type {*}\r\n     */\r\n    this.drawLayer = createVectorLayer(this.map, this.layerName, {\r\n      create: true\r\n    })\r\n    this.drawLayer.setZIndex(this.options['zIndex'] || 99)\r\n  }\r\n\r\n  /**\r\n   * 创建Plot\r\n   * @param type\r\n   * @param points\r\n   * @param _params\r\n   * @returns {*}\r\n   */\r\n  createPlot (type, points, _params) {\r\n    let params = _params || {}\r\n    switch (type) {\r\n      case PlotTypes.TEXTAREA:\r\n        return 'TextArea'\r\n      case PlotTypes.POINT:\r\n        return new Plots.Point([], points, params)\r\n      case PlotTypes.PENNANT:\r\n        return new Plots.Pennant([], points, params)\r\n      case PlotTypes.POLYLINE:\r\n        return new Plots.Polyline([], points, params)\r\n      case PlotTypes.ARC:\r\n        return new Plots.Arc([], points, params)\r\n      case PlotTypes.CIRCLE:\r\n        return new Plots.Circle([], points, params)\r\n      case PlotTypes.CURVE:\r\n        return new Plots.Curve([], points, params)\r\n      case PlotTypes.FREEHANDLINE:\r\n        return new Plots.FreeHandLine([], points, params)\r\n      case PlotTypes.RECTANGLE:\r\n        return new Plots.RectAngle([], points, params)\r\n      case PlotTypes.ELLIPSE:\r\n        return new Plots.Ellipse([], points, params)\r\n      case PlotTypes.LUNE:\r\n        return new Plots.Lune([], points, params)\r\n      case PlotTypes.SECTOR:\r\n        return new Plots.Sector([], points, params)\r\n      case PlotTypes.CLOSED_CURVE:\r\n        return new Plots.ClosedCurve([], points, params)\r\n      case PlotTypes.POLYGON:\r\n        return new Plots.Polygon([], points, params)\r\n      case PlotTypes.ATTACK_ARROW:\r\n        return new Plots.AttackArrow([], points, params)\r\n      case PlotTypes.FREE_POLYGON:\r\n        return new Plots.FreePolygon([], points, params)\r\n      case PlotTypes.DOUBLE_ARROW:\r\n        return new Plots.DoubleArrow([], points, params)\r\n      case PlotTypes.STRAIGHT_ARROW:\r\n        return new Plots.StraightArrow([], points, params)\r\n      case PlotTypes.FINE_ARROW:\r\n        return new Plots.FineArrow([], points, params)\r\n      case PlotTypes.ASSAULT_DIRECTION:\r\n        return new Plots.AssaultDirection([], points, params)\r\n      case PlotTypes.TAILED_ATTACK_ARROW:\r\n        return new Plots.TailedAttackArrow([], points, params)\r\n      case PlotTypes.SQUAD_COMBAT:\r\n        return new Plots.SquadCombat([], points, params)\r\n      case PlotTypes.TAILED_SQUAD_COMBAT:\r\n        return new Plots.TailedSquadCombat([], points, params)\r\n      case PlotTypes.GATHERING_PLACE:\r\n        return new Plots.GatheringPlace([], points, params)\r\n      case PlotTypes.RECTFLAG:\r\n        return new Plots.RectFlag([], points, params)\r\n      case PlotTypes.TRIANGLEFLAG:\r\n        return new Plots.TriangleFlag([], points, params)\r\n      case PlotTypes.CURVEFLAG:\r\n        return new Plots.CurveFlag([], points, params)\r\n    }\r\n    return null\r\n  }\r\n\r\n  /**\r\n   * 激活工具\r\n   * @param type\r\n   * @param params\r\n   */\r\n  active (type, params = {}) {\r\n    this.disActive()\r\n    this.deactiveMapTools()\r\n    this.plotType = type\r\n    this.plotParams = params\r\n    if (type === PlotTypes.TEXTAREA) {\r\n      this.activeInteraction()\r\n    } else if (Object.keys(PlotTypes).some(key => (PlotTypes[key] === type))) {\r\n      this.map.on('click', this.mapFirstClickHandler, this)\r\n    } else {\r\n      console.warn('不存在的标绘类型！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 激活交互工具\r\n   */\r\n  activeInteraction () {\r\n    this.drawInteraction_ = new $DrawInteraction({\r\n      style: new $Style({\r\n        fill: new $Fill({\r\n          color: 'rgba(255, 255, 255, 0.7)'\r\n        }),\r\n        stroke: new $Stroke({\r\n          color: 'rgba(0, 0, 0, 0.15)',\r\n          width: 2\r\n        }),\r\n        image: new $Icon({\r\n          anchor: [1, 1],\r\n          anchorXUnits: 'fraction',\r\n          anchorYUnits: 'fraction',\r\n          opacity: 0.75,\r\n          src: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABgklEQVQ4T41T0W3CQAy1lfwRqR0h/CE5UhkBJmiZADpB0wlKJwA2aDegE5QR+Igl/noj9OPuLydXPuXQEYUKS5FyPvvd87ONRDRFxEdr7c4Y8ws3WFmW90VRvIjIF1ZVtQaANxH59N6v8zwvRaQEgCMATDu88I+Ipm1bk2XZHhEfAOAdFW00Gh2YOQafOeidHoaYEdGHc65GDZhMJuXpdDJ99hqkPmZe9e9iTgCoqmrWNM0hDerq/FGftXbcZxFzAgARrZg5vBaNiGpE3OhZRF6Zedu7DzkRYMrMKlQKYBBRQVVgw8zj3n3IGWSg9ESkds6tiqJQbe4AYJ6WGVkPAqh4+romdP9LbXMqZh/gXIKqm+d5EK9vbduOY7d0AAdL6AYLmqbRAQtGRMc4ONF/wSC2RF/PsuwbABapqLEjKqb3fq4sLtoYh6Lbiydr7TbtuwYDgH5qB9XmPEjdKG+Y+Xmo7ms+Lcs5N0uX6ei9X9y4TGtEXIZlukb7PzbdmNcisv8DtQILak2vZsYAAAAASUVORK5CYII='\r\n        })\r\n      }),\r\n      type: 'Circle',\r\n      geometryFunction: $DrawInteraction.createBox()\r\n    })\r\n    this.map.addInteraction(this.drawInteraction_)\r\n    this.drawInteraction_.on('drawend', this.textAreaDrawEnd, this)\r\n  }\r\n\r\n  /**\r\n   * 绘制结束\r\n   * @param event\r\n   */\r\n  textAreaDrawEnd (event) {\r\n    if (event && event.feature) {\r\n      this.map.removeInteraction(this.drawInteraction_)\r\n      const extent = event.feature.getGeometry().getExtent()\r\n      const _center = [(extent[0] + extent[2]) / 2, (extent[1] + extent[3]) / 2]\r\n      const topLeft = this.map.getPixelFromCoordinate([extent[0], extent[1]])\r\n      const bottomRight = this.map.getPixelFromCoordinate([extent[2], extent[3]])\r\n      const [_width, _height] = [Math.abs(topLeft[0] - bottomRight[0]), Math.abs(topLeft[1] - bottomRight[1])]\r\n      const _plotText = new PlotTextBox({\r\n        id: getuuid(),\r\n        position: _center,\r\n        value: '',\r\n        width: _width,\r\n        height: _height,\r\n        style: {\r\n          width: _width + 'px',\r\n          height: _height + 'px'\r\n        }\r\n      })\r\n      if (this.map && this.map instanceof ol.Map && _plotText) {\r\n        this.map.addOverlay(_plotText)\r\n      } else {\r\n        console.warn('未传入地图对象或者plotText创建失败！')\r\n      }\r\n    } else {\r\n      console.info('未获取到要素！')\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 取消激活状态\r\n   */\r\n  disActive () {\r\n    this.removeEventHandlers()\r\n    if (this.drawInteraction_) {\r\n      this.map.removeInteraction(this.drawInteraction_)\r\n      this.drawInteraction_ = null\r\n    }\r\n    this.points = []\r\n    this.plot = null\r\n    this.feature = null\r\n    this.plotType = null\r\n    this.plotParams = null\r\n    this.activateMapTools()\r\n  }\r\n\r\n  /**\r\n   * PLOT是否处于激活状态\r\n   * @returns {boolean}\r\n   */\r\n  isDrawing () {\r\n    return !!this.plotType\r\n  }\r\n\r\n  /**\r\n   * 地图事件处理\r\n   * 激活工具后第一次点击事件\r\n   * @param event\r\n   */\r\n  mapFirstClickHandler (event) {\r\n    this.map.un('click', this.mapFirstClickHandler, this)\r\n    this.points.push(event.coordinate)\r\n    this.plot = this.createPlot(this.plotType, this.points, this.plotParams)\r\n    this.feature = new ol.Feature(this.plot)\r\n    this.feature.set('isPlot', true)\r\n    this.drawLayer.getSource().addFeature(this.feature)\r\n    if (this.plotType === PlotTypes.POINT || this.plotType === PlotTypes.PENNANT) {\r\n      this.plot.finishDrawing()\r\n      this.drawEnd(event)\r\n    } else {\r\n      this.map.on('click', this.mapNextClickHandler, this)\r\n      if (!this.plot.freehand) {\r\n        this.map.on('dblclick', this.mapDoubleClickHandler, this)\r\n      }\r\n      this.map.un('pointermove', this.mapMouseMoveHandler, this)\r\n      this.map.on('pointermove', this.mapMouseMoveHandler, this)\r\n    }\r\n    if (this.plotType && this.feature) {\r\n      this.plotParams['plotType'] = this.plotType\r\n      this.feature.setProperties(this.plotParams)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 地图点击事件处理\r\n   * @param event\r\n   * @returns {boolean}\r\n   */\r\n  mapNextClickHandler (event) {\r\n    if (!this.plot.freehand) {\r\n      if (MathDistance(event.coordinate, this.points[this.points.length - 1]) < 0.0001) {\r\n        return false\r\n      }\r\n    }\r\n    this.points.push(event.coordinate)\r\n    this.plot.setPoints(this.points)\r\n    if (this.plot.fixPointCount === this.plot.getPointCount()) {\r\n      this.mapDoubleClickHandler(event)\r\n    }\r\n    if (this.plot && this.plot.freehand) {\r\n      this.mapDoubleClickHandler(event)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 地图双击事件处理\r\n   * @param event\r\n   */\r\n  mapDoubleClickHandler (event) {\r\n    event.preventDefault()\r\n    this.plot.finishDrawing()\r\n    this.drawEnd(event)\r\n  }\r\n\r\n  /**\r\n   * 地图事件处理\r\n   * 鼠标移动事件\r\n   * @param event\r\n   * @returns {boolean}\r\n   */\r\n  mapMouseMoveHandler (event) {\r\n    let coordinate = event.coordinate\r\n    if (MathDistance(coordinate, this.points[this.points.length - 1]) < 0.0001) {\r\n      return false\r\n    }\r\n    if (!this.plot.freehand) {\r\n      let pnts = this.points.concat([coordinate])\r\n      this.plot.setPoints(pnts)\r\n    } else {\r\n      this.points.push(coordinate)\r\n      this.plot.setPoints(this.points)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 移除事件监听\r\n   */\r\n  removeEventHandlers () {\r\n    this.map.un('click', this.mapFirstClickHandler, this)\r\n    this.map.un('click', this.mapNextClickHandler, this)\r\n    this.map.un('pointermove', this.mapMouseMoveHandler, this)\r\n    this.map.un('dblclick', this.mapDoubleClickHandler, this)\r\n  }\r\n\r\n  /**\r\n   * 绘制结束\r\n   */\r\n  drawEnd (event) {\r\n    this.dispatchSync('drawEnd', {\r\n      type: 'drawEnd',\r\n      originalEvent: event,\r\n      feature: this.feature\r\n    })\r\n    if (this.feature && this.options['isClear']) {\r\n      this.drawLayer.getSource().removeFeature(this.feature)\r\n    }\r\n    this.disActive()\r\n  }\r\n\r\n  /**\r\n   * 添加要素\r\n   */\r\n  addFeature () {\r\n    this.feature = new ol.Feature(this.plot)\r\n    if (this.feature && this.drawLayer) {\r\n      this.drawLayer.getSource().addFeature(this.feature)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 取消激活地图交互工具\r\n   */\r\n  deactiveMapTools () {\r\n    let interactions = this.map.getInteractions().getArray()\r\n    interactions.every(item => {\r\n      if (item instanceof ol.interaction.DoubleClickZoom) {\r\n        this.dblClickZoomInteraction = item\r\n        this.map.removeInteraction(item)\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 激活已取消的地图工具\r\n   * 还原之前状态\r\n   */\r\n  activateMapTools () {\r\n    if (this.dblClickZoomInteraction && this.dblClickZoomInteraction instanceof ol.interaction.DoubleClickZoom) {\r\n      this.map.addInteraction(this.dblClickZoomInteraction)\r\n      this.dblClickZoomInteraction = null\r\n    }\r\n  }\r\n}\r\nexport default PlotDraw\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/core/PlotDraw.js","import ol from 'openlayers'\r\nimport Observable from 'observable-emit'\r\nimport * as htmlUtils from '../Utils/domUtils'\r\nimport { BASE_HELP_CONTROL_POINT_ID, BASE_HELP_HIDDEN } from '../Constants'\r\nclass PlotEdit extends Observable {\r\n  constructor (map) {\r\n    super()\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n    /**\r\n     * 当前地图容器\r\n     * @type {Element}\r\n     */\r\n    this.mapViewport = this.map.getViewport()\r\n    /**\r\n     * 激活绘制工具\r\n     * @type {null}\r\n     */\r\n    this.activePlot = null\r\n    /**\r\n     * 开始点\r\n     * @type {null}\r\n     */\r\n    this.startPoint = null\r\n    /**\r\n     * clone的控制点\r\n     * @type {null}\r\n     */\r\n    this.ghostControlPoints = null\r\n    /**\r\n     * 控制点\r\n     * @type {null}\r\n     */\r\n    this.controlPoints = null\r\n    /**\r\n     * 鼠标移入\r\n     * @type {boolean}\r\n     */\r\n    this.mouseOver = false\r\n    /**\r\n     * 元素\r\n     * @type {{}}\r\n     */\r\n    this.elementTable = {}\r\n    /**\r\n     * 当前激活的控制点的ID\r\n     * @type {null}\r\n     */\r\n    this.activeControlPointId = null\r\n    /**\r\n     * 地图拖拽交互\r\n     * @type {null}\r\n     */\r\n    this.mapDragPan = null\r\n    /**\r\n     * 未激活之前鼠标样式\r\n     * @type {null}\r\n     * @private\r\n     */\r\n    this.previousCursor_ = null\r\n  }\r\n\r\n  /**\r\n   * 初始化提示DOM\r\n   * @returns {boolean}\r\n   */\r\n  initHelperDom () {\r\n    if (!this.map || !this.activePlot) {\r\n      return false\r\n    }\r\n    let parent = this.getMapParentElement()\r\n    if (!parent) {\r\n      return false\r\n    } else {\r\n      let hiddenDiv = htmlUtils.createHidden('div', parent, BASE_HELP_HIDDEN)\r\n      let cPnts = this.getControlPoints()\r\n      if (cPnts && Array.isArray(cPnts) && cPnts.length > 0) {\r\n        cPnts.forEach((item, index) => {\r\n          let id = BASE_HELP_CONTROL_POINT_ID + '-' + index\r\n          htmlUtils.create('div', BASE_HELP_CONTROL_POINT_ID, hiddenDiv, id)\r\n          this.elementTable[id] = index\r\n        })\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取地图元素的父元素\r\n   * @returns {*}\r\n   */\r\n  getMapParentElement () {\r\n    let mapElement = this.map.getTargetElement()\r\n    if (!mapElement) {\r\n      return false\r\n    } else {\r\n      return mapElement.parentNode\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 销毁帮助提示DOM\r\n   */\r\n  destroyHelperDom () {\r\n    if (this.controlPoints && Array.isArray(this.controlPoints) && this.controlPoints.length > 0) {\r\n      this.controlPoints.forEach((item, index) => {\r\n        if (item && item instanceof ol.Overlay) {\r\n          this.map.removeOverlay(item)\r\n        }\r\n        let element = htmlUtils.getElement(BASE_HELP_CONTROL_POINT_ID + '-' + index)\r\n        if (element) {\r\n          htmlUtils.off(element, 'mousedown', this.controlPointMouseDownHandler.bind(this))\r\n          htmlUtils.off(element, 'mousemove', this.controlPointMouseMoveHandler2.bind(this))\r\n        }\r\n      })\r\n      this.controlPoints = []\r\n    }\r\n    let parent = this.getMapParentElement()\r\n    let hiddenDiv = htmlUtils.getElement(BASE_HELP_HIDDEN)\r\n    if (hiddenDiv && parent) {\r\n      htmlUtils.remove(hiddenDiv, parent)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 初始化要素控制点\r\n   */\r\n  initControlPoints () {\r\n    this.controlPoints = []\r\n    let cPnts = this.getControlPoints()\r\n    if (cPnts && Array.isArray(cPnts) && cPnts.length > 0) {\r\n      cPnts.forEach((item, index) => {\r\n        let id = BASE_HELP_CONTROL_POINT_ID + '-' + index\r\n        this.elementTable[id] = index\r\n        let element = htmlUtils.getElement(id)\r\n        let pnt = new ol.Overlay({\r\n          id: id,\r\n          position: cPnts[index],\r\n          positioning: 'center-center',\r\n          element: element\r\n        })\r\n        this.controlPoints.push(pnt)\r\n        this.map.addOverlay(pnt)\r\n        this.map.render()\r\n        htmlUtils.on(element, 'mousedown', this.controlPointMouseDownHandler.bind(this))\r\n        htmlUtils.on(element, 'mousemove', this.controlPointMouseMoveHandler2.bind(this))\r\n      })\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 对控制点的移动事件\r\n   * @param e\r\n   */\r\n  controlPointMouseMoveHandler2 (e) {\r\n    e.stopImmediatePropagation()\r\n  }\r\n\r\n  /**\r\n   * 对控制点的鼠标按下事件\r\n   * @param e\r\n   */\r\n  controlPointMouseDownHandler (e) {\r\n    this.activeControlPointId = e.target.id\r\n    this.map.on('pointermove', this.controlPointMouseMoveHandler, this)\r\n    htmlUtils.on(this.mapViewport, 'mouseup', this.controlPointMouseUpHandler.bind(this))\r\n  }\r\n\r\n  /**\r\n   * 对控制点的移动事件\r\n   * @param event\r\n   */\r\n  controlPointMouseMoveHandler (event) {\r\n    let coordinate = event.coordinate\r\n    if (this.activeControlPointId) {\r\n      let plot = this.activePlot.getGeometry()\r\n      let index = this.elementTable[this.activeControlPointId]\r\n      plot.updatePoint(coordinate, index)\r\n      let overlay = this.map.getOverlayById(this.activeControlPointId)\r\n      if (overlay) {\r\n        overlay.setPosition(coordinate)\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 对控制点的鼠标抬起事件\r\n   * @param event\r\n   */\r\n  controlPointMouseUpHandler (event) {\r\n    this.map.un('pointermove', this.controlPointMouseMoveHandler, this)\r\n    htmlUtils.off(this.mapViewport, 'mouseup', this.controlPointMouseUpHandler.bind(this))\r\n  }\r\n\r\n  /**\r\n   * 激活工具\r\n   * @param plot\r\n   * @returns {boolean}\r\n   */\r\n  activate (plot) {\r\n    if (plot &&\r\n      plot instanceof ol.Feature &&\r\n      plot.get('isPlot') &&\r\n      plot.getGeometry().isPlot &&\r\n      plot !== this.activePlot) {\r\n      this.deactivate()\r\n      this.activePlot = plot\r\n      this.previousCursor_ = this.map.getTargetElement().style.cursor\r\n      window.setTimeout(() => {\r\n        this.dispatch('active_plot_change', this.activePlot)\r\n      }, 500)\r\n      this.map.on('pointermove', this.plotMouseOverOutHandler, this)\r\n      this.initHelperDom()\r\n      this.initControlPoints()\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取要素的控制点\r\n   * @returns {Array}\r\n   */\r\n  getControlPoints () {\r\n    let points = []\r\n    if (this.activePlot) {\r\n      let geom = this.activePlot.getGeometry()\r\n      if (geom) {\r\n        points = geom.getPoints()\r\n      }\r\n    }\r\n    return points\r\n  }\r\n\r\n  /**\r\n   * 鼠标移出要编辑的要素范围\r\n   * @param e\r\n   * @returns {T|undefined}\r\n   */\r\n  plotMouseOverOutHandler (e) {\r\n    let feature = this.map.forEachFeatureAtPixel(e.pixel, function (feature) {\r\n      return feature\r\n    })\r\n    if (feature && feature === this.activePlot) {\r\n      if (!this.mouseOver) {\r\n        this.mouseOver = true\r\n        this.map.getTargetElement().style.cursor = 'move'\r\n        this.map.on('pointerdown', this.plotMouseDownHandler, this)\r\n      }\r\n    } else {\r\n      if (this.mouseOver) {\r\n        this.mouseOver = false\r\n        this.map.getTargetElement().style.cursor = 'default'\r\n        this.map.un('pointerdown', this.plotMouseDownHandler, this)\r\n      }\r\n    }\r\n    return feature\r\n  }\r\n\r\n  /**\r\n   * 在要编辑的要素按下鼠标按键\r\n   * @param event\r\n   */\r\n  plotMouseDownHandler (event) {\r\n    this.ghostControlPoints = this.getControlPoints()\r\n    this.startPoint = event.coordinate\r\n    this.disableMapDragPan()\r\n    this.map.on('pointerup', this.plotMouseUpHandler, this)\r\n    this.map.on('pointerdrag', this.plotMouseMoveHandler, this)\r\n  }\r\n\r\n  /**\r\n   * 在要编辑的要素上移动鼠标\r\n   * @param event\r\n   */\r\n  plotMouseMoveHandler (event) {\r\n    let [deltaX, deltaY, newPoints] = [event.coordinate[0] - this.startPoint[0], event.coordinate[1] - this.startPoint[1], []]\r\n    if (this.ghostControlPoints && Array.isArray(this.ghostControlPoints) && this.ghostControlPoints.length > 0) {\r\n      for (let i = 0; i < this.ghostControlPoints.length; i++) {\r\n        let coordinate = [this.ghostControlPoints[i][0] + deltaX, this.ghostControlPoints[i][1] + deltaY]\r\n        newPoints.push(coordinate)\r\n        let id = BASE_HELP_CONTROL_POINT_ID + '-' + i\r\n        let overlay = this.map.getOverlayById(id)\r\n        if (overlay) {\r\n          overlay.setPosition(coordinate)\r\n          overlay.setPositioning('center-center')\r\n        }\r\n      }\r\n    }\r\n    const _geometry = this.activePlot.getGeometry()\r\n    _geometry.setPoints(newPoints)\r\n  }\r\n\r\n  /**\r\n   * 鼠标抬起事件\r\n   * @param event\r\n   */\r\n  plotMouseUpHandler (event) {\r\n    this.enableMapDragPan()\r\n    this.map.un('pointerup', this.plotMouseUpHandler, this)\r\n    this.map.un('pointerdrag', this.plotMouseMoveHandler, this)\r\n  }\r\n\r\n  /**\r\n   * 取消事件关联\r\n   */\r\n  disconnectEventHandlers () {\r\n    this.map.un('pointermove', this.plotMouseOverOutHandler, this)\r\n    this.map.un('pointermove', this.controlPointMouseMoveHandler, this)\r\n    htmlUtils.off(this.mapViewport, 'mouseup', this.controlPointMouseUpHandler.bind(this))\r\n    this.map.un('pointerdown', this.plotMouseDownHandler, this)\r\n    this.map.un('pointerup', this.plotMouseUpHandler, this)\r\n    this.map.un('pointerdrag', this.plotMouseMoveHandler, this)\r\n  }\r\n\r\n  /**\r\n   * 取消激活工具\r\n   */\r\n  deactivate () {\r\n    this.activePlot = null\r\n    this.mouseOver = false\r\n    this.map.getTargetElement().style.cursor = this.previousCursor_\r\n    this.previousCursor_ = null\r\n    this.destroyHelperDom()\r\n    this.disconnectEventHandlers()\r\n    this.enableMapDragPan()\r\n    this.elementTable = {}\r\n    this.activeControlPointId = null\r\n    this.startPoint = null\r\n  }\r\n\r\n  /**\r\n   * 禁止地图的拖拽平移\r\n   */\r\n  disableMapDragPan () {\r\n    let interactions = this.map.getInteractions().getArray()\r\n    interactions.every(item => {\r\n      if (item instanceof ol.interaction.DragPan) {\r\n        this.mapDragPan = item\r\n        this.map.removeInteraction(item)\r\n        return false\r\n      } else {\r\n        return true\r\n      }\r\n    })\r\n  }\r\n\r\n  /**\r\n   * 激活地图的拖拽平移\r\n   */\r\n  enableMapDragPan () {\r\n    if (this.mapDragPan && this.mapDragPan instanceof ol.interaction.DragPan) {\r\n      this.map.addInteraction(this.mapDragPan)\r\n      this.mapDragPan = null\r\n    }\r\n  }\r\n}\r\nexport default PlotEdit\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/core/PlotEdit.js","/**\r\n * Created by FDD on 2017/5/1.\r\n * @desc 通过json获取样式\r\n */\r\nimport ol from 'openlayers'\r\nconst StyleFactory = function (options) {\r\n  let option = (options && typeof options === 'object') ? options : {}\r\n  let style = new ol.style.Style({})\r\n  if (option['geometry'] && option['geometry'] instanceof ol.geom.Geometry) {\r\n    style.setGeometry(option['geometry'])\r\n  }\r\n  if (option['zIndex'] && typeof option['zIndex'] === 'number') {\r\n    style.setZIndex(option['zIndex'])\r\n  }\r\n  if (option['fill'] && typeof option['fill'] === 'object') {\r\n    style.setFill(this._getFill(option['fill']))\r\n  }\r\n  if (option['image'] && typeof option['image'] === 'object') {\r\n    style.setImage(this._getImage(option['image']))\r\n  }\r\n  if (option['stroke'] && typeof option['stroke'] === 'object') {\r\n    style.setStroke(this._getStroke(option['stroke']))\r\n  }\r\n  if (option['text'] && typeof option['text'] === 'object') {\r\n    style.setText(this._getText(option['text']))\r\n  }\r\n  return style\r\n}\r\n\r\n/**\r\n * 获取规则样式图形\r\n * @param options\r\n * @returns {*}\r\n * @private\r\n */\r\nStyleFactory.prototype._getRegularShape = function (options) {\r\n  try {\r\n    let regularShape = new ol.style.RegularShape({\r\n      fill: (this._getFill(options['fill']) || undefined),\r\n      points: ((typeof options['points'] === 'number') ? options['points'] : 1),\r\n      radius: ((typeof options['radius'] === 'number') ? options['radius'] : undefined),\r\n      radius1: ((typeof options['radius1'] === 'number') ? options['radius1'] : undefined),\r\n      radius2: ((typeof options['radius2'] === 'number') ? options['radius2'] : undefined),\r\n      angle: ((typeof options['angle'] === 'number') ? options['angle'] : 0),\r\n      snapToPixel: ((typeof options['snapToPixel'] === 'boolean') ? options['snapToPixel'] : true),\r\n      stroke: (this._getStroke(options['stroke']) || undefined),\r\n      rotation: ((typeof options['rotation'] === 'number') ? options['rotation'] : 0),\r\n      rotateWithView: ((typeof options['rotateWithView'] === 'boolean') ? options['rotateWithView'] : false),\r\n      atlasManager: (options['atlasManager'] ? options['atlasManager'] : undefined)\r\n    })\r\n    return regularShape\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * 获取图标样式\r\n * @param options\r\n * @returns {*}\r\n * @private\r\n */\r\nStyleFactory.prototype._getImage = function (options) {\r\n  try {\r\n    let image\r\n    options = options || {}\r\n    if (options['type'] === 'icon') {\r\n      image = this._getIcon(options['image'])\r\n    } else {\r\n      image = this._getRegularShape(options['image'])\r\n    }\r\n    return image\r\n  } catch (e) {\r\n    console.log(e)\r\n  }\r\n}\r\n\r\n/**\r\n * 获取icon\r\n * @param options\r\n * @returns {ol.style.Icon}\r\n * @private\r\n */\r\nStyleFactory.prototype._getIcon = function (options) {\r\n  try {\r\n    options = options || {}\r\n    let icon = new ol.style.Icon({\r\n      anchor: (options['imageAnchor'] ? options['imageAnchor'] : [0.5, 0.5]),\r\n      anchorXUnits: (options['imageAnchorXUnits'] ? options['imageAnchorXUnits'] : 'fraction'),\r\n      anchorYUnits: (options['imageAnchorYUnits'] ? options['imageAnchorYUnits'] : 'fraction'),\r\n      anchorOrigin: (options['imageAnchorOrigin'] ? options['imageAnchorYUnits'] : 'top-left'),\r\n      color: (options['imageColor'] ? options['imageColor'] : undefined),\r\n      crossOrigin: (options['crossOrigin'] ? options['crossOrigin'] : undefined),\r\n      img: (options['img'] ? options['img'] : undefined),\r\n      offset: (options['offset'] && Array.isArray(options['offset']) && options['offset'].length === 2 ? options['offset'] : [0, 0]),\r\n      offsetOrigin: (options['offsetOrigin'] ? options['offsetOrigin'] : 'top-left'),\r\n      scale: ((typeof options['scale'] === 'number') ? options['scale'] : 1),\r\n      snapToPixel: (typeof options['snapToPixel'] === 'boolean' ? options['snapToPixel'] : true),\r\n      rotateWithView: (typeof options['rotateWithView'] === 'boolean' ? options['rotateWithView'] : false),\r\n      opacity: (typeof options['imageOpacity'] === 'number' ? options['imageOpacity'] : 1),\r\n      rotation: (typeof options['imageRotation'] === 'number' ? options['imageRotation'] : 0),\r\n      size: (options['size'] && Array.isArray(options['size']) && options['size'].length === 2 ? options['size'] : undefined),\r\n      imgSize: (options['imgSize'] && Array.isArray(options['imgSize']) && options['imgSize'].length === 2 ? options['imgSize'] : undefined),\r\n      src: (options['imageSrc'] ? options['imageSrc'] : undefined)\r\n    })\r\n    return icon\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n/**\r\n * 获取线条样式\r\n * @param options\r\n * @returns {ol.style.Stroke}\r\n * @private\r\n */\r\nStyleFactory.prototype._getStroke = function (options) {\r\n  try {\r\n    options = options || {}\r\n    let stroke = new ol.style.Stroke({\r\n      color: (options['strokeColor'] ? options['strokeColor'] : undefined),\r\n      lineCap: ((options['strokeLineCap'] && typeof options['strokeLineCap'] === 'string') ? options['strokeLineCap'] : 'round'),\r\n      lineJoin: ((options['strokeLineJoin'] && typeof options['strokeLineJoin'] === 'string') ? options['strokeLineJoin'] : 'round'),\r\n      lineDash: (options['strokeLineDash'] ? options['strokeLineDash'] : undefined),\r\n      lineDashOffset: (typeof options['strokeLineDashOffset'] === 'number' ? options['strokeLineDashOffset'] : '0'),\r\n      miterLimit: (typeof options['strokeMiterLimit'] === 'number' ? options['strokeMiterLimit'] : 10),\r\n      width: (typeof options['strokeWidth'] === 'number' ? options['strokeWidth'] : undefined)\r\n    })\r\n    return stroke\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\n/**\r\n * 获取样式文本\r\n * @param options\r\n * @returns {ol.style.Text}\r\n * @private\r\n */\r\nStyleFactory.prototype._getText = function (options) {\r\n  try {\r\n    let text = new ol.style.Text({\r\n      font: ((options['textFont'] && typeof options['textFont'] === 'string') ? options['textFont'] : '10px sans-serif'),\r\n      offsetX: (typeof options['textOffsetX'] === 'number' ? options['textOffsetX'] : 0),\r\n      offsetY: (typeof options['textOffsetY'] === 'number' ? options['textOffsetY'] : 0),\r\n      scale: (typeof options['textScale'] === 'number' ? options['textScale'] : undefined),\r\n      rotation: (typeof options['textRotation'] === 'number' ? options['textRotation'] : 0),\r\n      text: ((options['text'] && typeof options['text'] === 'string') ? options['text'] : undefined),\r\n      textAlign: ((options['textAlign'] && typeof options['textAlign'] === 'string') ? options['textAlign'] : 'start'),\r\n      textBaseline: ((options['textBaseline'] && typeof options['textBaseline'] === 'string') ? options['textBaseline'] : 'alphabetic'),\r\n      rotateWithView: (typeof options['rotateWithView'] === 'boolean' ? options['rotateWithView'] : false),\r\n      fill: this._getFill(options['textFill']),\r\n      stroke: this._getStroke(options['textStroke'])\r\n    })\r\n    return text\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\n/**\r\n * 获取填充颜色\r\n * @param options\r\n * @returns {ol.style.Fill}\r\n * @private\r\n */\r\nStyleFactory.prototype._getFill = function (options) {\r\n  try {\r\n    options = options || {}\r\n    let fill = new ol.style.Fill({\r\n      color: (options['fillColor'] ? options['fillColor'] : undefined)\r\n    })\r\n    return fill\r\n  } catch (error) {\r\n    console.log(error)\r\n  }\r\n}\r\n\r\nexport default StyleFactory\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/Utils/factory.js","/**\r\n * Created by FDD on 2017/9/12.\r\n * @desc 标绘相关工具（包含样式修改获取和标绘保存和恢复）\r\n */\r\nimport ol from 'openlayers'\r\nimport olStyleFactory from '../Utils/factory'\r\nimport PlotTextBox from '../Geometry/Text/PlotTextBox'\r\nimport * as Geometry from '../Geometry'\r\nimport { createVectorLayer, getLayerByLayerName } from '../Utils/layerUtils'\r\nimport { BASE_LAYERNAME } from '../Constants'\r\nclass PlotUtils {\r\n  constructor (map, options) {\r\n    if (map && map instanceof ol.Map) {\r\n      this.map = map\r\n    } else {\r\n      throw new Error('传入的不是地图对象！')\r\n    }\r\n\r\n    this.options = options\r\n    this.layerName = ((this.options && this.options['layerName']) ? this.options['layerName'] : BASE_LAYERNAME)\r\n  }\r\n\r\n  /**\r\n   * 获取样式信息\r\n   * @param feature\r\n   * @returns {boolean}\r\n   */\r\n  getBaseStyle (feature) {\r\n    let style = feature.getStyle()\r\n    if (!style) {\r\n      let layer = getLayerByLayerName(this.map, this.layerName)\r\n      if (layer && layer instanceof ol.layer.Vector) {\r\n        style = layer.getStyle()\r\n      } else {\r\n        return false\r\n      }\r\n    }\r\n    return style\r\n  }\r\n\r\n  /**\r\n   * 设置点类型的图标样式\r\n   * @param feature\r\n   * @param image\r\n   */\r\n  setIcon (feature, image) {\r\n    try {\r\n      if (feature && feature instanceof ol.Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        let tempStyle = style.clone()\r\n        let _image = this._getImage(image)\r\n        if (_image) {\r\n          tempStyle.setImage(_image)\r\n          feature.setStyle(tempStyle)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置背景颜色\r\n   * @param feature\r\n   * @param backgroundColor\r\n   * @returns {boolean}\r\n   */\r\n  setBackgroundColor (feature, backgroundColor) {\r\n    try {\r\n      if (feature && feature instanceof ol.Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        let tempStyle = style.clone()\r\n        let fill = tempStyle.getFill()\r\n        let color = fill.getColor()\r\n        if (color) {\r\n          let tempColor = ol.color.asArray(color)\r\n          let _color = ol.color.asArray(backgroundColor)\r\n          let currentColor = this.handleBackgroundColor(_color, tempColor[3])\r\n          fill.setColor(currentColor)\r\n          feature.setStyle(tempStyle)\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置透明度\r\n   * @param feature\r\n   * @param opacity\r\n   */\r\n  setOpacity (feature, opacity) {\r\n    try {\r\n      if (feature && feature instanceof ol.Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        if (style) {\r\n          let tempStyle = style.clone()\r\n          let fill = tempStyle.getFill()\r\n          let color = fill.getColor()\r\n          if (color) {\r\n            let tempColor = ol.color.asArray(color)\r\n            tempColor[3] = opacity\r\n            let currentColor = 'rgba(' + tempColor.join(',') + ')'\r\n            fill.setColor(currentColor)\r\n            feature.setStyle(tempStyle)\r\n          }\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置边框颜色\r\n   * @param feature\r\n   * @param borderColor\r\n   */\r\n  setBorderColor (feature, borderColor) {\r\n    try {\r\n      if (feature && feature instanceof ol.Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        let tempStyle = style.clone()\r\n        let stroke = tempStyle.getStroke()\r\n        stroke.setColor(borderColor)\r\n        feature.setStyle(tempStyle)\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 设置边框宽度\r\n   * @param feature\r\n   * @param borderWidth\r\n   */\r\n  setBorderWidth (feature, borderWidth) {\r\n    try {\r\n      if (feature && feature instanceof ol.Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        let tempStyle = style.clone()\r\n        let stroke = tempStyle.getStroke()\r\n        stroke.setWidth(borderWidth)\r\n        feature.setStyle(tempStyle)\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 处理背景色\r\n   * @param color\r\n   * @param opacity\r\n   * @returns {string}\r\n   */\r\n  handleBackgroundColor (color, opacity) {\r\n    try {\r\n      if (!opacity) opacity = 1\r\n      let tempColor = ol.color.asArray(color)\r\n      tempColor[3] = opacity\r\n      return ('rgba(' + tempColor.join(',') + ')')\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取颜色值\r\n   * @param color\r\n   * @returns {string}\r\n   */\r\n  getColor (color) {\r\n    try {\r\n      let colorTarget = ol.color.asArray(color)\r\n      return (ol.color.asString(colorTarget))\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 去除无值的字段\r\n   * @param obj\r\n   * @returns {*}\r\n   */\r\n  fixObject (obj) {\r\n    if (obj && typeof obj === 'object') {\r\n      for (let key in obj) {\r\n        if (key && typeof obj[key] === 'undefined') {\r\n          delete obj[key]\r\n        }\r\n      }\r\n    }\r\n    return obj\r\n  }\r\n\r\n  /**\r\n   * 获取stroke\r\n   * @param style\r\n   * @returns {*}\r\n   */\r\n  getStroke_ (style) {\r\n    let stroke = null\r\n    if (style) {\r\n      let olStyle_ = style.getStroke()\r\n      if (olStyle_) {\r\n        stroke = {}\r\n        stroke['strokeColor'] = this.getColor(olStyle_.getColor())\r\n        stroke['strokeWidth'] = olStyle_.getWidth()\r\n        stroke['strokeLineDash'] = olStyle_.getLineDash()\r\n        stroke['lineDashOffset'] = olStyle_.getLineDashOffset()\r\n        stroke['strokeLineCap'] = olStyle_.getLineCap()\r\n        stroke['strokeLineJoin'] = olStyle_.getLineJoin()\r\n        stroke['strokeMiterLimit'] = olStyle_.getMiterLimit()\r\n      }\r\n    }\r\n    return this.fixObject(stroke)\r\n  }\r\n\r\n  /**\r\n   * 获取填充色\r\n   * @param style\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  getFill_ (style) {\r\n    let fill = null\r\n    if (style) {\r\n      let olStyle_ = style.getFill()\r\n      if (olStyle_) {\r\n        fill = {}\r\n        let color = olStyle_.getColor()\r\n        fill['fillColor'] = this.getColor(color)\r\n      }\r\n    }\r\n    return this.fixObject(fill)\r\n  }\r\n\r\n  /**\r\n   * 获取文本信息\r\n   * @param style\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  getText_ (style) {\r\n    let text = null\r\n    if (style) {\r\n      let olStyle_ = style.getText()\r\n      if (olStyle_) {\r\n        text = {}\r\n        text['textFont'] = olStyle_.getFont()\r\n        text['textOffsetX'] = olStyle_.getOffsetX()\r\n        text['textOffsetY'] = olStyle_.getOffsetY()\r\n        text['textScale'] = olStyle_.getScale()\r\n        text['textRotation'] = olStyle_.getRotation()\r\n        text['text'] = olStyle_.getText()\r\n        text['textAlign'] = olStyle_.getTextAlign()\r\n        text['textBaseline'] = olStyle_.getTextBaseline()\r\n        text['rotateWithView'] = olStyle_.getRotateWithView()\r\n        text['textFill'] = this.getFill_(olStyle_)\r\n        text['textStroke'] = this.getStroke_(olStyle_)\r\n      }\r\n    }\r\n    return this.fixObject(text)\r\n  }\r\n\r\n  /**\r\n   * 获取图像信息\r\n   * @param style\r\n   * @returns {*}\r\n   * @private\r\n   */\r\n  getImage_ (style) {\r\n    let image = null\r\n    if (style) {\r\n      let olStyle_ = style.getImage()\r\n      if (olStyle_) {\r\n        image = {}\r\n        if (olStyle_ instanceof ol.style.Icon) {\r\n          image['type'] = 'icon'\r\n          image['image'] = {}\r\n          image['image']['imageAnchor'] = olStyle_.getAnchor()\r\n          image['image']['imageColor'] = olStyle_.getColor()\r\n          image['image']['imageSrc'] = olStyle_.getSrc()\r\n          image['image']['imgSize'] = olStyle_.getSize()\r\n          image['image']['scale'] = olStyle_.getScale()\r\n          image['image']['imageRotation'] = olStyle_.getRotation()\r\n          image['image']['rotateWithView'] = olStyle_.getRotateWithView()\r\n          image['image']['imageOpacity'] = olStyle_.getOpacity()\r\n          image['image']['snapToPixel'] = olStyle_.getSnapToPixel()\r\n          image['image']['offset'] = olStyle_.getOrigin()\r\n        } else if (olStyle_ instanceof ol.style.RegularShape) {\r\n          image['type'] = ''\r\n          image['image'] = {}\r\n          image['image']['fill'] = this.getFill_(olStyle_)\r\n          image['image']['points'] = olStyle_.getPoints()\r\n          image['image']['radius'] = olStyle_.getRadius()\r\n          image['image']['radius2'] = olStyle_.getRadius2()\r\n          image['image']['angle'] = olStyle_.getAngle()\r\n          image['image']['stroke'] = this.getStroke_(olStyle_)\r\n          image['image']['rotateWithView'] = olStyle_.getRotateWithView()\r\n          image['image']['snapToPixel'] = olStyle_.getSnapToPixel()\r\n        }\r\n      }\r\n    }\r\n    return this.fixObject(image)\r\n  }\r\n\r\n  /**\r\n   * 获取样式配置\r\n   * @param feature\r\n   * @returns {{fill: {fillColor: string, opacity: number}, stroke: *, image: *, text: *}}\r\n   */\r\n  getStyleCode (feature) {\r\n    try {\r\n      if (feature && feature instanceof ol.Feature) {\r\n        let style = this.getBaseStyle(feature)\r\n        if (style && style instanceof ol.style.Style) {\r\n          // 填充颜色\r\n          let fill = this.getFill_(style)\r\n          let [opacity, rgbaArray, backgroundColor] = [1, null]\r\n          if (fill && fill['fillColor']) {\r\n            rgbaArray = ol.color.asArray(fill['fillColor'])\r\n            opacity = parseFloat(rgbaArray[3])\r\n            if (rgbaArray && typeof opacity === 'number') {\r\n              backgroundColor = this.handleBackgroundColor(ol.color.asString(rgbaArray), opacity)\r\n            }\r\n          }\r\n          // 边框线条\r\n          let stroke = this.getStroke_(style)\r\n          // 文本信息\r\n          let text = this.getText_(style)\r\n          // 获取icon\r\n          let icon = this.getImage_(style)\r\n          return {\r\n            fill: {\r\n              fillColor: backgroundColor,\r\n              opacity: opacity\r\n            },\r\n            stroke: stroke,\r\n            image: icon,\r\n            text: text\r\n          }\r\n        }\r\n      }\r\n    } catch (e) {\r\n      console.warn(e)\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 移除图层上所有的数据\r\n   */\r\n  removeAllFeatures () {\r\n    const layer = getLayerByLayerName(this.map, this.layerName)\r\n    const overlays_ = this.map.getOverlays().getArray()\r\n    if (layer) {\r\n      let source = layer.getSource()\r\n      source.clear()\r\n    }\r\n    if (overlays_ && overlays_.length > 0) {\r\n      let len = overlays_.length\r\n      for (let i = 0; i < len; i++) {\r\n        if (overlays_[i] && overlays_[i].get('isPlotText')) {\r\n          this.map.removeOverlay(overlays_[i])\r\n          i--\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * 获取所有的要素包含样式信息的GeoJSON\r\n   * @returns {Array}\r\n   */\r\n  getFeatures () {\r\n    let rFeatures = []\r\n    let layer = getLayerByLayerName(this.map, this.layerName)\r\n    if (layer) {\r\n      let source = layer.getSource()\r\n      if (source && source instanceof ol.source.Vector) {\r\n        let features = source.getFeatures()\r\n        if (features && features.length > 0) {\r\n          features.forEach((feature, index) => {\r\n            if (feature && feature.getGeometry) {\r\n              let geom = feature.getGeometry()\r\n              if (geom && geom.getCoordinates) {\r\n                let type = geom.getType()\r\n                let coordinates = geom.getCoordinates()\r\n                rFeatures.push({\r\n                  'type': 'Feature',\r\n                  'geometry': {\r\n                    'type': type,\r\n                    'coordinates': coordinates\r\n                  },\r\n                  'properties': {\r\n                    'type': feature.getGeometry().getPlotType(),\r\n                    'style': this.getStyleCode(feature),\r\n                    'points': feature.getGeometry().getPoints()\r\n                  }\r\n                })\r\n              }\r\n            }\r\n          })\r\n        }\r\n      }\r\n    }\r\n    const overlays_ = this.map.getOverlays().getArray()\r\n    overlays_.forEach(overlay => {\r\n      if (overlay.get('isPlotText')) {\r\n        const style_ = overlay.getStyle()\r\n        style_['width'] = overlay.getWidth() + 'px'\r\n        style_['height'] = overlay.getHeight() + 'px'\r\n        rFeatures.push({\r\n          'type': 'Feature',\r\n          'geometry': {\r\n            'type': 'PlotText',\r\n            'coordinates': overlay.getPosition()\r\n          },\r\n          'properties': {\r\n            'id': overlay.getId(),\r\n            'width': overlay.getWidth(),\r\n            'height': overlay.getHeight(),\r\n            'style': style_,\r\n            'value': overlay.getValue()\r\n          }\r\n        })\r\n      }\r\n    })\r\n    return rFeatures\r\n  }\r\n\r\n  /**\r\n   * 恢复相关标绘\r\n   * @param features\r\n   */\r\n  addFeatures (features) {\r\n    if (features && Array.isArray(features) && features.length > 0) {\r\n      let layer = getLayerByLayerName(this.map, this.layerName)\r\n      if (!layer) {\r\n        layer = createVectorLayer(this.map, this.layerName, {\r\n          create: true\r\n        })\r\n        layer.setZIndex(this.options['zIndex'] || 99)\r\n      }\r\n      if (layer) {\r\n        let source = layer.getSource()\r\n        if (source && source instanceof ol.source.Vector) {\r\n          const _extents = []\r\n          features.forEach(feature => {\r\n            if (feature && feature['geometry'] && feature['geometry']['type'] !== 'PlotText') {\r\n              if (feature['properties']['type'] && Geometry[feature['properties']['type']]) {\r\n                let feat = new ol.Feature({\r\n                  geometry: (new Geometry[feature['properties']['type']]([], feature['properties']['points'], feature['properties']))\r\n                })\r\n                feat.set('isPlot', true)\r\n                _extents.push(feat.getGeometry().getExtent())\r\n                if (feature['properties']['style']) {\r\n                  /* eslint new-cap: 0 */\r\n                  let style_ = new olStyleFactory(feature['properties']['style'])\r\n                  if (style_) {\r\n                    feat.setStyle(style_)\r\n                  }\r\n                }\r\n                source.addFeature(feat)\r\n              } else {\r\n                console.warn('不存在的标绘类型！')\r\n              }\r\n            } else if (feature && feature['geometry'] && feature['geometry']['type'] === 'PlotText') {\r\n              _extents.push((new ol.geom.Point(feature.geometry['coordinates'])).getExtent())\r\n              const _plotText = new PlotTextBox({\r\n                id: feature.properties.id,\r\n                position: feature.geometry['coordinates'],\r\n                width: feature.properties['width'],\r\n                height: feature.properties['height'],\r\n                value: feature.properties['value'],\r\n                style: feature.properties.style\r\n              })\r\n              if (this.map && this.map instanceof ol.Map && _plotText) {\r\n                this.map.addOverlay(_plotText)\r\n              } else {\r\n                console.warn('未传入地图对象或者plotText创建失败！')\r\n              }\r\n            }\r\n          })\r\n          if (this.options['zoomToExtent'] && _extents && _extents.length > 0) {\r\n            const _extent = this._getExtent(_extents)\r\n            const size = this.map.getSize()\r\n            const _view = this.map.getView()\r\n            _view.fit(_extent, {\r\n              size: size,\r\n              duration: 800,\r\n              maxZoom: (_view.getMaxZoom() || undefined)\r\n            })\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  /**\r\n   * get extent\r\n   * @private\r\n   */\r\n  _getExtent (extents, params = {}) {\r\n    const bbox = [ Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY,\r\n      Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY]\r\n    let _extent = extents.reduce(function (prev, coord) {\r\n      return [\r\n        Math.min(coord[0], prev[0]),\r\n        Math.min(coord[1], prev[1]),\r\n        Math.max(coord[2], prev[2]),\r\n        Math.max(coord[3], prev[3])\r\n      ]\r\n    }, bbox)\r\n    let size = ol.extent.getSize(_extent)\r\n    let adjust = typeof params['adjust'] === 'number' ? params['adjust'] : 0.2\r\n    let minWidth = typeof params['minWidth'] === 'number' ? params['minWidth'] : 0.05\r\n    let minHeight = typeof params['minHeight'] === 'number' ? params['minHeight'] : 0.05\r\n    if (size[0] <= minWidth || size[1] <= minHeight) {\r\n      let bleft = ol.extent.getBottomLeft(_extent) // 获取xmin,ymin\r\n      let tright = ol.extent.getTopRight(_extent) // 获取xmax,ymax\r\n      let xmin = bleft[0] - adjust\r\n      let ymin = bleft[1] - adjust\r\n      let xmax = tright[0] + adjust\r\n      let ymax = tright[1] + adjust\r\n      _extent = ol.extent.buffer([xmin, ymin, xmax, ymax], adjust)\r\n    }\r\n    return _extent\r\n  }\r\n}\r\nexport default PlotUtils\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/core/PlotUtils.js","import './scss/index.scss'\r\nimport PlotDraw from './core/PlotDraw'\r\nimport PlotEdit from './core/PlotEdit'\r\nimport PlotUtils from './core/PlotUtils'\r\nimport * as PlotTypes from './Utils/PlotTypes'\r\nimport * as Geometry from './Geometry'\r\nclass olPlot {\r\n  constructor (map, options) {\r\n    this.plotDraw = new PlotDraw(map, options)\r\n    this.plotEdit = new PlotEdit(map, options)\r\n    this.plotUtils = new PlotUtils(map, options)\r\n  }\r\n  static PlotTypes = PlotTypes\r\n  static Geometry = Geometry\r\n}\r\n\r\nexport default olPlot\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/src/index.js","const INT_HEX_MAP = {10: 'A', 11: 'B', 12: 'C', 13: 'D', 14: 'E', 15: 'F'}\r\n\r\nconst toHex = function ({r, g, b}) {\r\n  const hexOne = function (value) {\r\n    value = Math.min(Math.round(value), 255)\r\n    const high = Math.floor(value / 16)\r\n    const low = value % 16\r\n    return '' + (INT_HEX_MAP[high] || high) + (INT_HEX_MAP[low] || low)\r\n  }\r\n\r\n  if (isNaN(r) || isNaN(g) || isNaN(b)) return ''\r\n\r\n  return '#' + hexOne(r) + hexOne(g) + hexOne(b)\r\n}\r\n\r\nconst HEX_INT_MAP = {A: 10, B: 11, C: 12, D: 13, E: 14, F: 15}\r\n\r\nconst parseHexChannel = function (hex) {\r\n  if (hex.length === 2) {\r\n    return (HEX_INT_MAP[hex[0].toUpperCase()] || +hex[0]) * 16 + (HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1])\r\n  }\r\n\r\n  return HEX_INT_MAP[hex[1].toUpperCase()] || +hex[1]\r\n}\r\n\r\nconst toRgbaColor = value => {\r\n  let _rValue = ''\r\n  if (value && typeof value === 'object') {\r\n    _rValue = 'rgb(' + value['r'] + ', ' + value['g'] + ', ' + value['b'] + ')'\r\n  } else if (value.indexOf('rgb') !== -1) {\r\n    const parts = value.replace(/rgba|rgb|\\(|\\)/gm, '')\r\n      .split(/\\s|,/g).filter((val) => val !== '').map((val, index) => index > 2 ? parseFloat(val) : parseInt(val, 10))\r\n\r\n    if (parts.length === 4) {\r\n      _rValue = Math.floor(parseFloat(parts[3]) * 100)\r\n    } else {\r\n      parts.push(1)\r\n    }\r\n    _rValue = {\r\n      r: parts[0],\r\n      g: parts[1],\r\n      b: parts[2],\r\n      a: parts[3]\r\n    }\r\n  } else if (value.indexOf('#') !== -1) {\r\n    const hex = value.replace('#', '').trim()\r\n    let r, g, b\r\n    if (hex.length === 3) {\r\n      r = parseHexChannel(hex[0] + hex[0])\r\n      g = parseHexChannel(hex[1] + hex[1])\r\n      b = parseHexChannel(hex[2] + hex[2])\r\n    } else if (hex.length === 6) {\r\n      r = parseHexChannel(hex.substring(0, 2))\r\n      g = parseHexChannel(hex.substring(2, 4))\r\n      b = parseHexChannel(hex.substring(4))\r\n    }\r\n    _rValue = {\r\n      r,\r\n      g,\r\n      b,\r\n      a: 1\r\n    }\r\n  }\r\n  return {\r\n    rgba: _rValue\r\n  }\r\n}\r\n\r\nconst rgbaToagb = value => {\r\n  let _rData = ''\r\n  if (value && typeof value === 'object') {\r\n    _rData = 'rgb(' + value['r'] + ', ' + value['g'] + ', ' + value['b'] + ')'\r\n  } else if (value.indexOf('rgb') !== -1) {\r\n    const parts = value.replace(/rgba|rgb|\\(|\\)/gm, '')\r\n      .split(/\\s|,/g).filter((val) => val !== '').map((val, index) => index > 2 ? parseFloat(val) : parseInt(val, 10))\r\n\r\n    if (parts.length === 4) {\r\n      _rData = Math.floor(parseFloat(parts[3]) * 100)\r\n    } else {\r\n      _rData = 'rgb(' + parts.join(',') + ')'\r\n    }\r\n  }\r\n  return _rData\r\n}\r\n\r\nexport {\r\n  rgbaToagb,\r\n  toRgbaColor,\r\n  toHex\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/color-picker/src/color.js","/* eslint no-useless-escape: \"off\" */\r\nconst SPECIAL_CHARS_REGEXP = /([\\:\\-\\_]+(.))/g\r\nconst MOZ_HACK_REGEXP = /^moz([A-Z])/\r\n\r\n/* istanbul ignore next */\r\nexport const create = function (tagName, className, container, id) {\r\n  let el = document.createElement(tagName)\r\n  el.className = className || ''\r\n  if (id) {\r\n    el.id = id\r\n  }\r\n  if (container) {\r\n    container.appendChild(el)\r\n  }\r\n  return el\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const getElement = function (id) {\r\n  return typeof id === 'string' ? document.getElementById(id) : id\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const remove = function (el) {\r\n  let parent = el.parentNode\r\n  if (parent) {\r\n    parent.removeChild(el)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const empty = function (el) {\r\n  while (el.firstChild) {\r\n    el.removeChild(el.firstChild)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const createHidden = function (tagName, parent, id) {\r\n  let element = document.createElement(tagName)\r\n  element.style.display = 'none'\r\n  if (id) {\r\n    element.id = id\r\n  }\r\n  if (parent) {\r\n    parent.appendChild(element)\r\n  }\r\n  return element\r\n}\r\n\r\n/* istanbul ignore next */\r\nconst trim = function (string) {\r\n  return (string || '').replace(/^[\\s\\uFEFF]+|[\\s\\uFEFF]+$/g, '')\r\n}\r\n\r\n/* istanbul ignore next */\r\nconst camelCase = function (name) {\r\n  return name.replace(SPECIAL_CHARS_REGEXP, function (_, separator, letter, offset) {\r\n    return offset ? letter.toUpperCase() : letter\r\n  }).replace(MOZ_HACK_REGEXP, 'Moz$1')\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport const on = (function () {\r\n  if (document.addEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event && handler) {\r\n        element.addEventListener(event, handler, false)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const off = (function () {\r\n  if (document.removeEventListener) {\r\n    return function (element, event, handler) {\r\n      if (element && event) {\r\n        element.removeEventListener(event, handler, false)\r\n      }\r\n    }\r\n  }\r\n})()\r\n\r\n/* istanbul ignore next */\r\nexport const once = function (el, event, fn) {\r\n  const listener = function () {\r\n    if (fn) {\r\n      fn.apply(this, arguments)\r\n    }\r\n    off(el, event, listener)\r\n  }\r\n  on(el, event, listener)\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function hasClass (el, cls) {\r\n  if (!el || !cls) return false\r\n  if (cls.indexOf(' ') !== -1) throw new Error('className should not contain space.')\r\n  if (el.classList) {\r\n    return el.classList.contains(cls)\r\n  } else {\r\n    return (' ' + el.className + ' ').indexOf(' ' + cls + ' ') > -1\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function addClass (el, cls) {\r\n  if (!el) return\r\n  let curClass = el.className\r\n  let classes = (cls || '').split(' ')\r\n  for (let i = 0, j = classes.length; i < j; i++) {\r\n    let clsName = classes[i]\r\n    if (!clsName) continue\r\n    if (el.classList) {\r\n      el.classList.add(clsName)\r\n    } else if (!hasClass(el, clsName)) {\r\n      curClass += ' ' + clsName\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = curClass\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function removeClass (el, cls) {\r\n  if (!el || !cls) return\r\n  const classes = cls.split(' ')\r\n  let curClass = ' ' + el.className + ' '\r\n  for (let i = 0, j = classes.length; i < j; i++) {\r\n    let clsName = classes[i]\r\n    if (!clsName) continue\r\n    if (el.classList) {\r\n      el.classList.remove(clsName)\r\n    } else if (hasClass(el, clsName)) {\r\n      curClass = curClass.replace(' ' + clsName + ' ', ' ')\r\n    }\r\n  }\r\n  if (!el.classList) {\r\n    el.className = trim(curClass)\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function getStyle (element, styleName) {\r\n  if (!element || !styleName) return null\r\n  styleName = camelCase(styleName)\r\n  if (styleName === 'float') {\r\n    styleName = 'cssFloat'\r\n  }\r\n  try {\r\n    const computed = document.defaultView.getComputedStyle(element, '')\r\n    return element.style[styleName] || computed ? computed[styleName] : null\r\n  } catch (e) {\r\n    return element.style[styleName]\r\n  }\r\n}\r\n\r\n/* istanbul ignore next */\r\nexport function setStyle (element, styleName, value) {\r\n  if (!element || !styleName) return\r\n  if (typeof styleName === 'object') {\r\n    for (var prop in styleName) {\r\n      if (styleName.hasOwnProperty(prop)) {\r\n        setStyle(element, prop, styleName[prop])\r\n      }\r\n    }\r\n  } else {\r\n    styleName = camelCase(styleName)\r\n    if (styleName === 'opacity') {\r\n      element.style.filter = isNaN(value) ? '' : 'alpha(opacity=' + value * 100 + ')'\r\n    } else {\r\n      element.style[styleName] = value\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * 判断是否为对象\r\n * @param value\r\n * @returns {boolean}\r\n */\r\nexport const isObject = value => {\r\n  const type = typeof value\r\n  return value !== null && (type === 'object' || type === 'function')\r\n}\r\n\r\n/**\r\n * merge\r\n * @param target\r\n * @returns {*}\r\n */\r\nexport function merge (target) {\r\n  for (let i = 1, j = arguments.length; i < j; i++) {\r\n    let source = arguments[i] || {}\r\n    for (let prop in source) {\r\n      if (source.hasOwnProperty(prop)) {\r\n        let value = source[prop]\r\n        if (value !== undefined) {\r\n          target[prop] = value\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return target\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/color-picker/utils/domUtils.js","import Vue from 'vue'\r\nimport {addClass, removeClass} from '../../domUtils'\r\n\r\nlet hasModal = false\r\n\r\nconst getModal = function () {\r\n  if (Vue.prototype.$isServer) return\r\n  let modalDom = PopupManager.modalDom\r\n  if (modalDom) {\r\n    hasModal = true\r\n  } else {\r\n    hasModal = false\r\n    modalDom = document.createElement('div')\r\n    PopupManager.modalDom = modalDom\r\n\r\n    modalDom.addEventListener('touchmove', function (event) {\r\n      event.preventDefault()\r\n      event.stopPropagation()\r\n    })\r\n\r\n    modalDom.addEventListener('click', function () {\r\n      PopupManager.doOnModalClick && PopupManager.doOnModalClick()\r\n    })\r\n  }\r\n\r\n  return modalDom\r\n}\r\n\r\nconst instances = {}\r\n\r\nconst PopupManager = {\r\n  zIndex: 2000,\r\n\r\n  modalFade: true,\r\n\r\n  getInstance: function (id) {\r\n    return instances[id]\r\n  },\r\n\r\n  register: function (id, instance) {\r\n    if (id && instance) {\r\n      instances[id] = instance\r\n    }\r\n  },\r\n\r\n  deregister: function (id) {\r\n    if (id) {\r\n      instances[id] = null\r\n      delete instances[id]\r\n    }\r\n  },\r\n\r\n  nextZIndex: function () {\r\n    return PopupManager.zIndex++\r\n  },\r\n\r\n  modalStack: [],\r\n\r\n  doOnModalClick: function () {\r\n    const topItem = PopupManager.modalStack[PopupManager.modalStack.length - 1]\r\n    if (!topItem) return\r\n\r\n    const instance = PopupManager.getInstance(topItem.id)\r\n    if (instance && instance.closeOnClickModal) {\r\n      instance.close()\r\n    }\r\n  },\r\n\r\n  openModal: function (id, zIndex, dom, modalClass, modalFade) {\r\n    if (Vue.prototype.$isServer) return\r\n    if (!id || zIndex === undefined) return\r\n    this.modalFade = modalFade\r\n\r\n    const modalStack = this.modalStack\r\n\r\n    for (let i = 0, j = modalStack.length; i < j; i++) {\r\n      const item = modalStack[i]\r\n      if (item.id === id) {\r\n        return\r\n      }\r\n    }\r\n\r\n    const modalDom = getModal()\r\n\r\n    addClass(modalDom, 'v-modal')\r\n    if (this.modalFade && !hasModal) {\r\n      addClass(modalDom, 'v-modal-enter')\r\n    }\r\n    if (modalClass) {\r\n      let classArr = modalClass.trim().split(/\\s+/)\r\n      classArr.forEach(item => addClass(modalDom, item))\r\n    }\r\n    setTimeout(() => {\r\n      removeClass(modalDom, 'v-modal-enter')\r\n    }, 200)\r\n\r\n    if (dom && dom.parentNode && dom.parentNode.nodeType !== 11) {\r\n      dom.parentNode.appendChild(modalDom)\r\n    } else {\r\n      document.body.appendChild(modalDom)\r\n    }\r\n\r\n    if (zIndex) {\r\n      modalDom.style.zIndex = zIndex\r\n    }\r\n    modalDom.style.display = ''\r\n\r\n    this.modalStack.push({id: id, zIndex: zIndex, modalClass: modalClass})\r\n  },\r\n\r\n  closeModal: function (id) {\r\n    const modalStack = this.modalStack\r\n    const modalDom = getModal()\r\n\r\n    if (modalStack.length > 0) {\r\n      const topItem = modalStack[modalStack.length - 1]\r\n      if (topItem.id === id) {\r\n        if (topItem.modalClass) {\r\n          let classArr = topItem.modalClass.trim().split(/\\s+/)\r\n          classArr.forEach(item => removeClass(modalDom, item))\r\n        }\r\n\r\n        modalStack.pop()\r\n        if (modalStack.length > 0) {\r\n          modalDom.style.zIndex = modalStack[modalStack.length - 1].zIndex\r\n        }\r\n      } else {\r\n        for (let i = modalStack.length - 1; i >= 0; i--) {\r\n          if (modalStack[i].id === id) {\r\n            modalStack.splice(i, 1)\r\n            break\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (modalStack.length === 0) {\r\n      if (this.modalFade) {\r\n        addClass(modalDom, 'v-modal-leave')\r\n      }\r\n      setTimeout(() => {\r\n        if (modalStack.length === 0) {\r\n          if (modalDom.parentNode) modalDom.parentNode.removeChild(modalDom)\r\n          modalDom.style.display = 'none'\r\n          PopupManager.modalDom = undefined\r\n        }\r\n        removeClass(modalDom, 'v-modal-leave')\r\n      }, 200)\r\n    }\r\n  }\r\n}\r\n\r\nconst getTopPopup = function () {\r\n  if (Vue.prototype.$isServer) return\r\n  if (PopupManager.modalStack.length > 0) {\r\n    const topPopup = PopupManager.modalStack[PopupManager.modalStack.length - 1]\r\n    if (!topPopup) return\r\n    const instance = PopupManager.getInstance(topPopup.id)\r\n\r\n    return instance\r\n  }\r\n}\r\n\r\nif (!Vue.prototype.$isServer) {\r\n  // handle `esc` key when the popup is shown\r\n  window.addEventListener('keydown', function (event) {\r\n    if (event.keyCode === 27) {\r\n      const topPopup = getTopPopup()\r\n\r\n      if (topPopup && topPopup.closeOnPressEscape) {\r\n        topPopup.handleClose\r\n          ? topPopup.handleClose()\r\n          : (topPopup.handleAction ? topPopup.handleAction('cancel') : topPopup.close())\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nexport default PopupManager\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/color-picker/utils/popper/popup/popup-manager.js","import { PopupManager } from './popup'\n// import PopperJS from 'popper.js'\nconst popper = require('./popper')\nconst PopperJS = popper.Popper\nconst stop = e => e.stopPropagation()\n\n/**\n * @param {HTMLElement} [reference=$refs.reference] - The reference element used to position the popper.\n * @param {HTMLElement} [popper=$refs.popper] - The HTML element used as popper, or a configuration used to generate the popper.\n * @param {String} [placement=button] - Placement of the popper accepted values: top(-start, -end), right(-start, -end), bottom(-start, -end), left(-start, -end)\n * @param {Number} [offset=0] - Amount of pixels the popper will be shifted (can be negative).\n * @param {Boolean} [visible=false] Visibility of the popup element.\n * @param {Boolean} [visible-arrow=false] Visibility of the arrow, no style.\n */\nexport default {\n  props: {\n    placement: {\n      type: String,\n      default: 'bottom'\n    },\n    boundariesPadding: {\n      type: Number,\n      default: 5\n    },\n    reference: {},\n    popper: {},\n    offset: {\n      default: 0\n    },\n    value: Boolean,\n    visibleArrow: Boolean,\n    transition: String,\n    appendToBody: {\n      type: Boolean,\n      default: true\n    },\n    popperOptions: {\n      type: Object,\n      default () {\n        return {\n          gpuAcceleration: false\n        }\n      }\n    }\n  },\n\n  data () {\n    return {\n      showPopper: false,\n      currentPlacement: ''\n    }\n  },\n\n  watch: {\n    value: {\n      immediate: true,\n      handler (val) {\n        this.showPopper = val\n        this.$emit('input', val)\n      }\n    },\n\n    showPopper (val) {\n      val ? this.updatePopper() : this.destroyPopper()\n      this.$emit('input', val)\n    }\n  },\n\n  methods: {\n    createPopper () {\n      if (this.$isServer) return\n      this.currentPlacement = this.currentPlacement || this.placement\n      if (!/^(top|bottom|left|right)(-start|-end)?$/g.test(this.currentPlacement)) {\n        return\n      }\n\n      const options = this.popperOptions\n      const popper = this.popperElm = this.popperElm || this.popper || this.$refs.popper\n      let reference = this.referenceElm = this.referenceElm || this.reference || this.$refs.reference\n\n      if (!reference &&\n        this.$slots.reference &&\n        this.$slots.reference[0]) {\n        reference = this.referenceElm = this.$slots.reference[0].elm\n      }\n\n      if (!popper || !reference) return\n      if (this.visibleArrow) this.appendArrow(popper)\n      if (this.appendToBody) document.body.appendChild(this.popperElm)\n      if (this.popperJS && this.popperJS.destroy) {\n        this.popperJS.destroy()\n      }\n\n      options.placement = this.currentPlacement\n      options.offset = this.offset\n      this.popperJS = new PopperJS(reference, popper, options)\n      this.popperJS.onCreate(_ => {\n        this.$emit('created', this)\n        this.resetTransformOrigin()\n        this.$nextTick(this.updatePopper)\n      })\n      if (typeof options.onUpdate === 'function') {\n        this.popperJS.onUpdate(options.onUpdate)\n      }\n      this.popperJS._popper.style.zIndex = PopupManager.nextZIndex()\n      this.popperElm.addEventListener('click', stop)\n    },\n\n    updatePopper () {\n      this.popperJS ? this.popperJS.update() : this.createPopper()\n    },\n\n    doDestroy () {\n      /* istanbul ignore if */\n      if (this.showPopper || !this.popperJS) return\n      this.popperJS.destroy()\n      this.popperJS = null\n    },\n\n    destroyPopper () {\n      if (this.popperJS) {\n        this.resetTransformOrigin()\n      }\n    },\n\n    resetTransformOrigin () {\n      let placementMap = {\n        top: 'bottom',\n        bottom: 'top',\n        left: 'right',\n        right: 'left'\n      }\n      let placement = this.popperJS._popper.getAttribute('x-placement').split('-')[0]\n      let origin = placementMap[placement]\n      this.popperJS._popper.style.transformOrigin = ['top', 'bottom'].indexOf(placement) > -1 ? `center ${origin}` : `${origin} center`\n    },\n    appendArrow (element) {\n      let hash\n      if (this.appended) {\n        return\n      }\n      this.appended = true\n      for (let item in element.attributes) {\n        if (/^_v-/.test(element.attributes[item].name)) {\n          hash = element.attributes[item].name\n          break\n        }\n      }\n      const arrow = document.createElement('div')\n      if (hash) {\n        arrow.setAttribute(hash, '')\n      }\n      arrow.setAttribute('x-arrow', '')\n      arrow.className = 'popper__arrow'\n      element.appendChild(arrow)\n    }\n  },\n\n  beforeDestroy () {\n    this.doDestroy()\n    if (this.popperElm && this.popperElm.parentNode === document.body) {\n      this.popperElm.removeEventListener('click', stop)\n      document.body.removeChild(this.popperElm)\n    }\n  },\n\n  // call destroy in keep-alive mode\n  deactivated () {\n    this.$options.beforeDestroy[0].call(this)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/color-picker/utils/popper/vue-popper.js","import Vue from 'vue'\r\nimport PopupManager from './popup-manager'\r\nimport getScrollBarWidth from '../../scrollbar-width'\r\nimport {getStyle, merge} from '../../domUtils'\r\n\r\nlet idSeed = 1\r\nconst transitions = []\r\n\r\nconst hookTransition = (transition) => {\r\n  if (transitions.indexOf(transition) !== -1) return\r\n\r\n  const getVueInstance = (element) => {\r\n    let instance = element.__vue__\r\n    if (!instance) {\r\n      const textNode = element.previousSibling\r\n      if (textNode.__vue__) {\r\n        instance = textNode.__vue__\r\n      }\r\n    }\r\n    return instance\r\n  }\r\n\r\n  Vue.transition(transition, {\r\n    afterEnter (el) {\r\n      const instance = getVueInstance(el)\r\n\r\n      if (instance) {\r\n        instance.doAfterOpen && instance.doAfterOpen()\r\n      }\r\n    },\r\n    afterLeave (el) {\r\n      const instance = getVueInstance(el)\r\n\r\n      if (instance) {\r\n        instance.doAfterClose && instance.doAfterClose()\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\nlet scrollBarWidth\r\n\r\nconst getDOM = function (dom) {\r\n  if (dom.nodeType === 3) {\r\n    dom = dom.nextElementSibling || dom.nextSibling\r\n    getDOM(dom)\r\n  }\r\n  return dom\r\n}\r\n\r\nexport default {\r\n  model: {\r\n    prop: 'visible',\r\n    event: 'visible-change'\r\n  },\r\n  props: {\r\n    visible: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    transition: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    openDelay: {},\r\n    closeDelay: {},\r\n    zIndex: {},\r\n    modal: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    modalFade: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    modalClass: {},\r\n    modalAppendToBody: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    lockScroll: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    closeOnPressEscape: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    closeOnClickModal: {\r\n      type: Boolean,\r\n      default: false\r\n    }\r\n  },\r\n\r\n  created () {\r\n    if (this.transition) {\r\n      hookTransition(this.transition)\r\n    }\r\n  },\r\n\r\n  beforeMount () {\r\n    this._popupId = 'popup-' + idSeed++\r\n    PopupManager.register(this._popupId, this)\r\n  },\r\n\r\n  beforeDestroy () {\r\n    PopupManager.deregister(this._popupId)\r\n    PopupManager.closeModal(this._popupId)\r\n    if (this.modal && this.bodyOverflow !== null && this.bodyOverflow !== 'hidden') {\r\n      document.body.style.overflow = this.bodyOverflow\r\n      document.body.style.paddingRight = this.bodyPaddingRight\r\n    }\r\n    this.bodyOverflow = null\r\n    this.bodyPaddingRight = null\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      opened: false,\r\n      bodyOverflow: null,\r\n      bodyPaddingRight: null,\r\n      rendered: false\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    visible (val) {\r\n      if (val) {\r\n        if (this._opening) return\r\n        if (!this.rendered) {\r\n          this.rendered = true\r\n          Vue.nextTick(() => {\r\n            this.open()\r\n          })\r\n        } else {\r\n          this.open()\r\n        }\r\n      } else {\r\n        this.close()\r\n      }\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    open (options) {\r\n      if (!this.rendered) {\r\n        this.rendered = true\r\n        this.$emit('visible-change', true)\r\n      }\r\n\r\n      const props = merge({}, this.$props || this, options)\r\n\r\n      if (this._closeTimer) {\r\n        clearTimeout(this._closeTimer)\r\n        this._closeTimer = null\r\n      }\r\n      clearTimeout(this._openTimer)\r\n\r\n      const openDelay = Number(props.openDelay)\r\n      if (openDelay > 0) {\r\n        this._openTimer = setTimeout(() => {\r\n          this._openTimer = null\r\n          this.doOpen(props)\r\n        }, openDelay)\r\n      } else {\r\n        this.doOpen(props)\r\n      }\r\n    },\r\n\r\n    doOpen (props) {\r\n      if (this.$isServer) return\r\n      if (this.willOpen && !this.willOpen()) return\r\n      if (this.opened) return\r\n\r\n      this._opening = true\r\n\r\n      this.$emit('visible-change', true)\r\n\r\n      const dom = getDOM(this.$el)\r\n\r\n      const modal = props.modal\r\n\r\n      const zIndex = props.zIndex\r\n      if (zIndex) {\r\n        PopupManager.zIndex = zIndex\r\n      }\r\n\r\n      if (modal) {\r\n        if (this._closing) {\r\n          PopupManager.closeModal(this._popupId)\r\n          this._closing = false\r\n        }\r\n        PopupManager.openModal(this._popupId, PopupManager.nextZIndex(), this.modalAppendToBody ? undefined : dom, props.modalClass, props.modalFade)\r\n        if (props.lockScroll) {\r\n          if (!this.bodyOverflow) {\r\n            this.bodyPaddingRight = document.body.style.paddingRight\r\n            this.bodyOverflow = document.body.style.overflow\r\n          }\r\n          scrollBarWidth = getScrollBarWidth()\r\n          let bodyHasOverflow = document.documentElement.clientHeight < document.body.scrollHeight\r\n          let bodyOverflowY = getStyle(document.body, 'overflowY')\r\n          if (scrollBarWidth > 0 && (bodyHasOverflow || bodyOverflowY === 'scroll')) {\r\n            document.body.style.paddingRight = scrollBarWidth + 'px'\r\n          }\r\n          document.body.style.overflow = 'hidden'\r\n        }\r\n      }\r\n\r\n      if (getComputedStyle(dom).position === 'static') {\r\n        dom.style.position = 'absolute'\r\n      }\r\n\r\n      dom.style.zIndex = PopupManager.nextZIndex()\r\n      this.opened = true\r\n\r\n      this.onOpen && this.onOpen()\r\n\r\n      if (!this.transition) {\r\n        this.doAfterOpen()\r\n      }\r\n    },\r\n\r\n    doAfterOpen () {\r\n      this._opening = false\r\n    },\r\n\r\n    close () {\r\n      if (this.willClose && !this.willClose()) return\r\n\r\n      if (this._openTimer !== null) {\r\n        clearTimeout(this._openTimer)\r\n        this._openTimer = null\r\n      }\r\n      clearTimeout(this._closeTimer)\r\n\r\n      const closeDelay = Number(this.closeDelay)\r\n\r\n      if (closeDelay > 0) {\r\n        this._closeTimer = setTimeout(() => {\r\n          this._closeTimer = null\r\n          this.doClose()\r\n        }, closeDelay)\r\n      } else {\r\n        this.doClose()\r\n      }\r\n    },\r\n\r\n    doClose () {\r\n      this.$emit('visible-change', false)\r\n      this._closing = true\r\n\r\n      this.onClose && this.onClose()\r\n\r\n      if (this.lockScroll) {\r\n        setTimeout(() => {\r\n          if (this.modal && this.bodyOverflow !== 'hidden') {\r\n            document.body.style.overflow = this.bodyOverflow\r\n            document.body.style.paddingRight = this.bodyPaddingRight\r\n          }\r\n          this.bodyOverflow = null\r\n          this.bodyPaddingRight = null\r\n        }, 200)\r\n      }\r\n\r\n      this.opened = false\r\n\r\n      if (!this.transition) {\r\n        this.doAfterClose()\r\n      }\r\n    },\r\n\r\n    doAfterClose () {\r\n      PopupManager.closeModal(this._popupId)\r\n      this._closing = false\r\n    }\r\n  }\r\n}\r\n\r\nexport {\r\n  PopupManager\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/color-picker/utils/popper/popup/index.js","<template>\r\n  <transition name=\"el-zoom-in-top\" @after-leave=\"doDestroy\">\r\n    <sketch v-show=\"showPopper\" v-model=\"colorInner\"></sketch>\r\n  </transition>\r\n</template>\r\n\r\n<script>\r\n  import Popper from '../utils/popper/vue-popper'\r\n  import { Sketch } from 'vue-color'\r\n  export default {\r\n    name: 'sf-color-picker-dropdown',\r\n    mixins: [Popper],\r\n    props: {\r\n      color: {\r\n        required: true\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        colorInner: ''\r\n      }\r\n    },\r\n    mounted () {\r\n      this.$parent.popperElm = this.popperElm = this.$el\r\n      this.referenceElm = this.$parent.$el\r\n      this.colorInner = this.color\r\n    },\r\n    watch: {\r\n      showPopper (val) {\r\n        if (val === true) {\r\n          this.$nextTick(() => {\r\n            console.log(val)\r\n          })\r\n        }\r\n      },\r\n      colorInner (val) {\r\n        this.$emit('update:color', val)\r\n      }\r\n    },\r\n    components: {\r\n      Sketch\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/color-picker/components/picker-dropdown.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('transition',{attrs:{\"name\":\"el-zoom-in-top\"},on:{\"after-leave\":_vm.doDestroy}},[_c('sketch',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.showPopper),expression:\"showPopper\"}],model:{value:(_vm.colorInner),callback:function ($$v) {_vm.colorInner=$$v},expression:\"colorInner\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-5970b058\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/color-picker/components/picker-dropdown.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./picker-dropdown.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./picker-dropdown.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-5970b058\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./picker-dropdown.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/color-picker/components/picker-dropdown.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nimport {on} from './domUtils'\r\n\r\nconst nodeList = []\r\nconst ctx = '@@clickoutsideContext'\r\nlet startClick\r\nlet seed = 0\r\n!Vue.prototype.$isServer && on(document, 'mousedown', e => (startClick = e))\r\n\r\n!Vue.prototype.$isServer && on(document, 'mouseup', e => {\r\n  nodeList.forEach(node => node[ctx].documentHandler(e, startClick))\r\n})\r\n\r\n/**\r\n * v-clickoutside\r\n * @desc 点击元素外面才会触发的事件\r\n * @example\r\n * ```vue\r\n * <div v-element-clickoutside=\"handleClose\">\r\n * ```\r\n */\r\nexport default {\r\n  bind (el, binding, vnode) {\r\n    nodeList.push(el)\r\n    const id = seed++\r\n    const documentHandler = function (mouseup = {}, mousedown = {}) {\r\n      if (!vnode.context ||\r\n        !mouseup.target ||\r\n        !mousedown.target ||\r\n        el.contains(mouseup.target) ||\r\n        el.contains(mousedown.target) ||\r\n        el === mouseup.target ||\r\n        (vnode.context.popperElm &&\r\n          (vnode.context.popperElm.contains(mouseup.target) ||\r\n            vnode.context.popperElm.contains(mousedown.target)))) return\r\n\r\n      if (binding.expression &&\r\n        el[ctx].methodName &&\r\n        vnode.context[el[ctx].methodName]) {\r\n        vnode.context[el[ctx].methodName]()\r\n      } else {\r\n        el[ctx].bindingFn && el[ctx].bindingFn()\r\n      }\r\n    }\r\n    el[ctx] = {\r\n      id,\r\n      documentHandler,\r\n      methodName: binding.expression,\r\n      bindingFn: binding.value\r\n    }\r\n  },\r\n  update (el, binding) {\r\n    el[ctx].methodName = binding.expression\r\n    el[ctx].bindingFn = binding.value\r\n  },\r\n  unbind (el) {\r\n    let len = nodeList.length\r\n    for (let i = 0; i < len; i++) {\r\n      if (nodeList[i][ctx].id === el[ctx].id) {\r\n        nodeList.splice(i, 1)\r\n        break\r\n      }\r\n    }\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/color-picker/utils/clickoutside.js","<template>\r\n  <div\r\n    :class=\"[\r\n      'sf-color-picker',\r\n      disabled ? 'is-disabled' : '',\r\n      colorSize ? `sf-color-picker--${ colorSize }` : ''\r\n    ]\"\r\n    v-clickoutside=\"hide\">\r\n    <div class=\"sf-color-picker__trigger\" @click=\"handleTrigger\">\r\n      <span class=\"sf-color-picker__color\" :class=\"{ 'is-alpha': showAlpha }\">\r\n        <span\r\n          class=\"sf-color-picker__color-inner\"\r\n          :style=\"{ backgroundColor: displayedColor }\"></span>\r\n        <span class=\"sf-color-picker__empty el-icon-close\" v-if=\"!value && !showPanelColor\"></span>\r\n      </span>\r\n      <span class=\"sf-color-picker__icon el-icon-caret-bottom\" v-show=\"value || showPanelColor\"></span>\r\n    </div>\r\n    <sf-color-picker-dropdown\r\n      ref=\"dropdown\"\r\n      v-model=\"showPicker\"\r\n      :color.sync=\"color\"\r\n      :class=\"['sf-color-picker__panel', popperClass || '']\"></sf-color-picker-dropdown>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import { toRgbaColor, rgbaToagb } from './src/color'\r\n  import sfColorPickerDropdown from './components/picker-dropdown'\r\n  import Clickoutside from './utils/clickoutside'\r\n  export default {\r\n    name: 'SfColorPicker',\r\n    props: {\r\n      value: String,\r\n      showAlpha: Boolean,\r\n      colorFormat: String,\r\n      disabled: Boolean,\r\n      size: String,\r\n      popperClass: String\r\n    },\r\n    inject: {\r\n      elFormItem: {\r\n        default: ''\r\n      }\r\n    },\r\n    directives: {Clickoutside},\r\n    computed: {\r\n      displayedColor () {\r\n        if (!this.value && !this.showPanelColor) {\r\n          return 'transparent'\r\n        } else if (this.color.rgba) {\r\n          return rgbaToagb(this.color.rgba)\r\n        } else {\r\n          return 'transparent'\r\n        }\r\n      },\r\n\r\n      _elFormItemSize () {\r\n        return (this.elFormItem || {}).elFormItemSize\r\n      },\r\n\r\n      colorSize () {\r\n        return this.size || this._elFormItemSize || (this.$ELEMENT || {}).size\r\n      }\r\n    },\r\n    watch: {\r\n      value (val) {\r\n        if (!val) {\r\n          this.showPanelColor = false\r\n        } else if (val && val !== this.color) {\r\n          this.color = toRgbaColor(val)\r\n        }\r\n      },\r\n      color (value) {\r\n        this.showPanelColor = true\r\n        if (value && value.rgba) {\r\n          this.$emit('input', rgbaToagb(value.rgba))\r\n          this.$emit('change', rgbaToagb(value.rgba))\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      handleTrigger () {\r\n        if (this.disabled) return\r\n        this.showPicker = !this.showPicker\r\n      },\r\n      hide () {\r\n        this.showPicker = false\r\n        this.resetColor()\r\n      },\r\n      resetColor () {\r\n        this.$nextTick(_ => {\r\n          if (this.value) {\r\n            this.color = toRgbaColor(this.value)\r\n          } else {\r\n            this.showPanelColor = false\r\n          }\r\n        })\r\n      }\r\n    },\r\n    mounted () {\r\n      const value = this.value\r\n      if (value) {\r\n        this.color = toRgbaColor(value)\r\n      }\r\n    },\r\n    data () {\r\n      return {\r\n        color: {},\r\n        showPicker: false,\r\n        showPanelColor: false\r\n      }\r\n    },\r\n    components: {\r\n      sfColorPickerDropdown\r\n    }\r\n  }\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n  .sf-color-picker {\r\n    position: relative;\r\n    display: inline-block;\r\n    line-height: normal;\r\n    left: 20px;\r\n    height: 40px;\r\n    &__trigger {\r\n      display: inline-block;\r\n      box-sizing: border-box;\r\n      height: 36px;\r\n      padding: 6px;\r\n      border: 1px solid #bfcbd9;\r\n      font-size: 0;\r\n      border-radius: none;\r\n    }\r\n    &__color {\r\n      position: relative;\r\n      display: inline-block;\r\n      box-sizing: border-box;\r\n      border: 1px solid #666;\r\n      width: 22px;\r\n      height: 22px;\r\n      text-align: center;\r\n      &-inner {\r\n        position: absolute;\r\n        left: 0;\r\n        top: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n      }\r\n    }\r\n    &__icon {\r\n      display: inline-block;\r\n      position: relative;\r\n      top: -6px;\r\n      margin-left: 8px;\r\n      width: 12px;\r\n      color: #888;\r\n      font-size: 12px;\r\n    }\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/color-picker/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"clickoutside\",rawName:\"v-clickoutside\",value:(_vm.hide),expression:\"hide\"}],class:[\n    'sf-color-picker',\n    _vm.disabled ? 'is-disabled' : '',\n    _vm.colorSize ? (\"sf-color-picker--\" + _vm.colorSize) : ''\n  ]},[_c('div',{staticClass:\"sf-color-picker__trigger\",on:{\"click\":_vm.handleTrigger}},[_c('span',{staticClass:\"sf-color-picker__color\",class:{ 'is-alpha': _vm.showAlpha }},[_c('span',{staticClass:\"sf-color-picker__color-inner\",style:({ backgroundColor: _vm.displayedColor })}),_vm._v(\" \"),(!_vm.value && !_vm.showPanelColor)?_c('span',{staticClass:\"sf-color-picker__empty el-icon-close\"}):_vm._e()]),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.value || _vm.showPanelColor),expression:\"value || showPanelColor\"}],staticClass:\"sf-color-picker__icon el-icon-caret-bottom\"})]),_vm._v(\" \"),_c('sf-color-picker-dropdown',{ref:\"dropdown\",class:['sf-color-picker__panel', _vm.popperClass || ''],attrs:{\"color\":_vm.color},on:{\"update:color\":function($event){_vm.color=$event}},model:{value:(_vm.showPicker),callback:function ($$v) {_vm.showPicker=$$v},expression:\"showPicker\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-72b7767d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/color-picker/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-72b7767d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-72b7767d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/color-picker/index.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"ol-plot-vue\">\n    <header class=\"panel-header\">\n      <span title=\"应急标绘\">应急标绘</span>\n      <span class=\"iconfont icon-zuixiaohua\" @click=\"minFunc()\"></span>\n      <span class=\"iconfont icon-guanbi\" @click=\"closeFunc()\"></span>\n    </header>\n    <div class=\"panel-content\">\n      <div ref=\"workspace\" class=\"ol-plot-vue-workspace\">\n        <div class=\"ol-plot-vue-workspace-scroll\">\n          <div class=\"ol-plot-vue-workspace-scroll-inner\">\n            <div class=\"plot-list-wrap\">\n              <div class=\"plot-list\">\n                <ul class=\"clearfix\">\n                  <li\n                    v-for=\"(tool, index) in plots\"\n                    class=\"ol-plot-vue-header-li\"\n                    :key=\"index\"\n                    :class=\"selected === tool.alias ? 'ol-plot-vue-selected' : ''\"\n                    @mouseover=\"mouseOverHandle(tool)\"\n                    @mouseout=\"mouseOutHandle(tool)\"\n                    @click=\"changeSelectedItem(tool, index)\">\n                    <span :style=\"{background: 'url(static/images/plot/' + tool.src + ((tool.mouseover || selected === tool.alias) ? '-hover' : '') + '.png) no-repeat'}\"></span>\n                    <span>{{tool.name}}</span>\n                  </li>\n                </ul>\n              </div>\n            </div>\n            <div v-if=\"selected !== 'TextArea' && selected !== 'Point' && selected !== ''\">\n              <div class=\"plot-edit\">\n                <div class=\"plot-edit-color\">\n                  <span class=\"stration span-background\">背景色</span>\n                  <color-picker v-model=\"backgroundColor\"></color-picker>\n                  <span class=\"stration span-border\">边框色</span>\n                  <color-picker v-model=\"borderColor\"></color-picker>\n                </div>\n                <div class=\"plot-edit-title\">边框线宽</div>\n                <div class=\"plot-edit-line\">\n                  <el-slider v-model=\"borderWidth\" :min=0 :max=10 :step=1></el-slider>\n                </div>\n                <div class=\"plot-edit-title\">透明度</div>\n                <div class=\"plot-edit-line\">\n                  <el-slider v-model=\"opacity\" :min=0 :max=1 :step=0.1></el-slider>\n                </div>\n              </div>\n            </div>\n            <div class=\"ol-plot-vue-workspace-text-control\" v-else-if=\"selected === 'TextArea'\">\n              <div class=\"plot-edit\">\n                <div class=\"plot-edit-color\">\n                  <span class=\"stration span-background\">背景色</span>\n                  <color-picker :color-format=\"'rgb'\" v-model=\"textAreaBackgroundColor\"></color-picker>\n                  <span class=\"stration span-border\">边框色</span>\n                  <color-picker :color-format=\"'rgb'\" v-model=\"textAreaBorderColor\"></color-picker>\n                </div>\n                <div class=\"plot-edit-text\">\n                  <span class=\"font-color span-color\">字体颜色</span>\n                  <color-picker :color-format=\"'rgb'\" v-model=\"textAreaColor\"></color-picker>\n                  <span class=\"font-size span-size\">字体大小</span>\n                  <el-input-number size=\"small\" v-model=\"textAreaFontSize\"></el-input-number>\n                </div>\n                <div class=\"plot-edit-title\">边框线宽</div>\n                <div class=\"plot-edit-line\">\n                  <el-slider v-model=\"textAreaBorderWidth\" :min=0 :max=10 :step=1></el-slider>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n  import olPlot from '../src'\n  import StyleFactory from '../src/Utils/factory'\n  import colorPicker from './color-picker'\n  export default {\n    name: 'ol-plot-vue',\n    props: {\n      plots: {\n        type: Array,\n        default: function () {\n          return []\n        }\n      },\n      map: Object\n    },\n    data () {\n      return {\n        inPlotPanel: false,\n        tools: [],\n        selected: '',\n        title: '应急标绘',\n        height: 40,\n        loading: false,\n        backgroundColor: '#20a0ff',\n        borderColor: '#20a0ff',\n        borderWidth: 1,\n        opacity: 1,\n        plot: null,\n        schemeTitle: '',\n        textAreaBackgroundColor: 'rgb(255, 255, 255)',\n        textAreaBorderColor: 'rgb(238, 238, 238)',\n        textAreaColor: 'rgb(1, 5, 0)',\n        textAreaFontSize: 12,\n        textAreaBorderWidth: 1,\n        currentTextArea: null\n      }\n    },\n    watch: {\n      borderWidth: function (newVal) {\n        this.plot.plotUtils.setBorderWidth(this.plot.plotEdit.activePlot, newVal)\n      },\n      opacity: function (newVal) {\n        this.plot.plotUtils.setOpacity(this.plot.plotEdit.activePlot, newVal)\n      },\n      backgroundColor: function (v) {\n        this.plot.plotUtils.setBackgroundColor(this.plot.plotEdit.activePlot, v)\n      },\n      borderColor: function (v) {\n        this.plot.plotUtils.setBorderColor(this.plot.plotEdit.activePlot, v)\n      },\n      textAreaBackgroundColor: function (value) {\n        console.log(value)\n        if (value && this.currentTextArea) {\n          this.currentTextArea.setStyle({\n            background: value\n          })\n        }\n      },\n      textAreaBorderColor: function (value) {\n        console.log(value)\n        if (value && this.currentTextArea) {\n          this.currentTextArea.setStyle({\n            border: this.textAreaBorderWidth + 'px' + ' solid ' + value\n          })\n        }\n      },\n      textAreaColor: function (value) {\n        console.log(value)\n        if (value && this.currentTextArea) {\n          this.currentTextArea.setStyle({\n            color: value\n          })\n        }\n      },\n      textAreaFontSize: function (value) {\n        console.log(value)\n        if (value && this.currentTextArea) {\n          this.currentTextArea.setStyle({\n            fontSize: value + 'px'\n          })\n        }\n      },\n      textAreaBorderWidth: function (value) {\n        console.log(value)\n        if (value && this.currentTextArea) {\n          this.currentTextArea.setStyle({\n            border: value + 'px' + ' solid ' + this.textAreaBorderColor\n          })\n        }\n      },\n      map: function (value) {\n        if (value) {\n          this.initPlot()\n        }\n      }\n    },\n    mounted () {\n      if (this.map) {\n        this.initPlot()\n      }\n    },\n    methods: {\n      closeFunc () {\n        this.$emit('close')\n      },\n      minFunc () {\n        this.$emit('showMin')\n      },\n      initPlot () {\n        if (!this.plot) {\n          /* eslint new-cap: 0 */\n          this.plot = new olPlot(this.map, {\n            zIndex: 999,\n            zoomToExtent: true\n          })\n          this.plot.plotDraw.drawLayer.setStyle(new StyleFactory({\n            fill: {\n              fillColor: '#8BA2E4'\n            },\n            stroke: {\n              strokeColor: '#1B9DE8',\n              strokeWidth: 2.5\n            },\n            image: {\n              type: 'icon',\n              image: {\n                imageAnchor: [0.5, 0.5],\n                imageAnchorXUnits: 'fraction',\n                imageAnchorYUnits: 'fraction',\n                imageOpacity: 0.75,\n                imageSrc: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpmODA3ZDlmZS1mOTRhLTRmZDktOWYwYS05ZTk3NjdkYTUxMjUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDM3RkNGQUJDOEUyMTFFNkIwMDFGOUI0RDhFQUI4NEYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDM3RkNGQUFDOEUyMTFFNkIwMDFGOUI0RDhFQUI4NEYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ZDc5MmU0ODgtMzAxNC1kNDRiLWI4OWEtYmIxMzNhYWIyYjI1IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU1YWEwNTQ3LTlmMGQtNDllYS1hOGI4LTRkZWRhMmU1OGRiMSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoW3u00AAAMESURBVHja7FdLaFNBFJ2Z1/eapCnUam0V6cYWEdd+FkUK4kIRF4pLxeJOV4IbpaDQgoiCK9d+loIIKi4V3CmuRJCCImpRW2ur5NP83oznJE1IXmZqEsVuvBA67717z5k5987cqTTGiLUwJdbI1oy4q/7h4INFp+PmHm/7csmczIVmbyE0I6ERG/jek2Ih8OTbmCefxbvkrc+Z8I0L4/Hhfjuxg3BrqqgvA/CoTSFOABPib89SXpzrDeS9Xl+dh/+7jqUeiKvjX7Lhq1TBHGsxLYq+iHmN2NMdEa+PqYvflvVtFH2i3fwhJobYG/0xNdUWMWf7PacvYSj/pIAWc3oSWGdaIh5KqNGFnL72t6oXWFeJuWpV09JFcx1SxW0gXH7SlyKBn68qYhS1EdmiYZwwdtnjKWBieMi54i1JbxsADthIsW3EYEKJvm4lApDKlYlwzHf85jkSkwEmsZ3E2ZI5YZNfVvJeW6XN+I0+Dg+1gm2XGntx3BaVrJOWhr0qxjYFkFmI53MFgS1UI6cvpG3CiGI3ECNfIzZi5rR+EpM7k2V5afuHAzH1Il3OcdXXRhzFbpA11GKdjTioW+2uQb9GSuOY7+olt1kUO5pPa480v3HopLE2EHtK/LQ5cctU7eVcUeBwqT1zzHc23wj2D2eOIdNMSZuBaBD3adBdkZD5m0ZOdw/5bBBlUlRs/dZxVf2Mkxit7Qmqb8xyqKBoTC3XJHo6W2gCL2C1LmJiO6VGP70DaG3L4cKyLgO7jN/oY+wnXkhsJzF7aI8vH1qrEojzWS2W8lrk8cDZ8ccx3/Fb6JgXMB9F+3PTWY3tcTZbCvdhAUnbytMr53LL1StFmpjpYrh6d5pNh+83xtUpm+TtGjGIRcyW+vHXrL6LJn6hwy1aE4gYxGrrBoL9eQWH/gSkyrR9OCCGscTo6M7Fqw+k2oGmcJ+V2YK0IX0Zw9iWr7cO2T/gzxHcIobRjSZwvR3H9XYUFdwHopIn5bzviU+83vpK3IT/x2q3WnWS//+F+Vf2S4ABAMe7cI4Rhe5DAAAAAElFTkSuQmCC'\n              }\n            }\n          }))\n          this.plot.plotDraw.on('drawEnd', this.onDrawEnd_, this)\n          this.map.on('activeTextArea', this.activeTextArea_, this)\n          this.map.on('disActiveTextArea', this.activeTextArea_, this)\n          this.map.un('click', this.handleClick_, this)\n          this.map.on('click', this.handleClick_, this)\n        }\n      },\n      clearActiveTool () {\n        this.plot.plotDraw.disActive()\n      },\n      onDrawEnd_ (event) {\n        let feature = event.feature\n        // 开始编辑\n        if (feature) {\n          this.plot.plotEdit.activate(feature)\n          this.activeToolPanel(feature)\n        }\n      },\n      activeTextArea_ (event) {\n        console.log(event)\n        if (event.type === 'activeTextArea') {\n          this.currentTextArea = event.target.get('activeTextArea')\n          this.reFresheTextArea(this.currentTextArea)\n        } else {\n          console.log(event.type)\n        }\n      },\n      changeSelectedItem (item) {\n        this.selected = item['alias']\n        if (item['alias']) {\n          this.plot.plotEdit.deactivate()\n          this.plot.plotDraw.active(item['alias'])\n        } else {\n          console.warn('不存在的标绘类型！')\n        }\n      },\n      handleClick_ (event) {\n        let feature = this.map.forEachFeatureAtPixel(event.pixel, function (feature) {\n          return feature\n        })\n        if (feature && feature.get('isPlot') && !this.plot.plotDraw.isDrawing()) {\n          this.plot.plotEdit.activate(feature)\n          this.activeToolPanel(feature)\n        } else {\n          this.plot.plotEdit.deactivate()\n        }\n        this.currentTextArea = null\n      },\n      mouseOverHandle (item) {\n        this.$set(item, 'mouseover', true)\n      },\n      mouseOutHandle (item) {\n        this.$set(item, 'mouseover', false)\n      },\n      // 激活对应的编辑面板\n      activeToolPanel (feature) {\n        if (feature && feature.getGeometry()) {\n          const type = feature.getGeometry().getPlotType()\n          if (type) {\n            this.selected = type\n          }\n          this.refreshe(this.plot.plotUtils.getStyleCode(feature))\n        }\n      },\n      // 刷新对应数据\n      refreshe (style) {\n        if (style) {\n          if (style['fill']) {\n            this.opacity = style['fill']['opacity'] || this.opacity\n            this.backgroundColor = style['fill']['fillColor'] || this.backgroundColor\n          }\n          if (style['stroke']) {\n            this.borderWidth = style['stroke']['strokeWidth'] || this.borderWidth\n            this.borderColor = style['stroke']['strokeColor'] || this.borderColor\n          }\n        }\n      },\n      reFresheTextArea (target) {\n        if (target) {\n          const _style = target.getStyle()\n          if (_style) {\n            if (_style['fontSize']) {\n              this.textAreaFontSize = parseInt(_style['fontSize'])\n            }\n            if (_style['color']) {\n              this.textAreaColor = _style['color']\n            }\n            if (_style['border']) {\n              let _border = _style['border'].split(' ')\n              _border.every(item => {\n                if (item.indexOf('px')) {\n                  this.textAreaBorderWidth = parseInt(item)\n                  return false\n                } else {\n                  return true\n                }\n              })\n              this.textAreaBorderColor = _style['border'].slice(_style['border'].indexOf('rgb('), _style['border'].indexOf(')') + 1)\n            }\n            if (_style['background']) {\n              this.textAreaBackgroundColor = _style['background'].slice(_style['background'].indexOf('rgb('), _style['background'].indexOf(')') + 1)\n            }\n          }\n        }\n      },\n      save () {\n        const features = this.plot.plotUtils.getFeatures()\n        console.log({\n          content: JSON.stringify(features),\n          title: this.schemeTitle\n        })\n      }\n    },\n    components: {\n      colorPicker\n    }\n  }\n</script>\n\n<style lang=\"scss\">\n  .ol-plot-vue {\n    position: absolute;\n    width: 390px;\n    right: 15px;\n    top: 20px;\n    bottom: 80px;\n    overflow: hidden;\n    border-radius: 3px;\n    box-shadow: 0 1px 0 0 rgba(0,0,0,.12),\n    0 5px 10px -3px rgba(0,0,0,.3);\n    pointer-events: auto;\n    background: #fff;\n    z-index:1;\n    .panel-header {\n      height: 80px;\n      line-height: 80px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n      color: #FFFFFF;\n      padding: 0 20px;\n      font-size: 16px;\n      font-weight: bold;\n      background: url(../../static/images/zhoubian_topbg.png)  right bottom no-repeat #1b9de8;\n      .title {\n        display: inline-block;\n        font-size: 14px;\n        margin-left: 5px;\n      }\n      .icon-fanhui1 {\n        margin-right: 10px;\n        line-height: 14px;\n        height: 14px;\n        font-size: 14px;\n        transition: .3s;\n        &:hover {\n          cursor: pointer;\n          color: #07C8C7;\n        }\n      }\n      .icon-guanbi {\n        position: absolute;\n        right: 20px;\n        top: 25px;\n        line-height: 14px;\n        height: 14px;\n        font-size: 14px;\n        transition: .3s;\n        &:hover {\n          cursor: pointer;\n          color: #07C8C7;\n        }\n      }\n      .icon-zuixiaohua {\n        position: absolute;\n        right: 44px;\n        top: 25px;\n        line-height: 14px;\n        height: 14px;\n        font-size: 14px;\n        transition: .3s;\n        &:hover {\n          cursor: pointer;\n          color: #07C8C7;\n        }\n      }\n    }\n    .panel-content {\n      width: 100%;\n      height: calc(100% - 80px);\n      .ol-plot-vue-workspace {\n        height: 100%;\n        &-header {\n          .tool-bar {\n            height: 60px;\n            line-height: 60px;\n            padding: 0 20px;\n            .icon-tupianzuofan {\n              &:before {\n                margin-right: 10px;\n              }\n              &:hover {\n                cursor: pointer;\n                color: #1B9DE8;\n              }\n            }\n            .save-scheme {\n              margin-left: 180px;\n            }\n          }\n          .ol-plot-vue-workspace-title {\n            height: 100px;\n            line-height: 25px;\n            padding: 0 30px;\n            .el-input {\n              .el-input__inner {\n                font-size: 12px;\n                border-radius: 0px;\n              }\n            }\n          }\n        }\n        .plot-list-wrap {\n          padding: 0 30px;\n          .plot-list {\n            ul {\n              margin: auto;\n              padding: 0;\n              background: #FFFFFF;\n              li {\n                float: left;\n                width: 54px;\n                height: 60px;\n                color: #818181;\n                margin-left: 0px;\n                box-sizing: border-box;\n                border: 1px transparent solid;\n                text-align: center;\n                span:nth-child(1) {\n                  width: 25px;\n                  height: 25px;\n                  display: block;\n                  margin: auto;\n                  margin-top: 10px;\n                  background-size: 100% 100%!important;\n                }\n                span:nth-child(2) {\n                  display: inline-block;\n                  width: 100%;\n                  overflow: hidden;\n                  text-overflow:ellipsis;\n                  white-space: nowrap;\n                }\n                span {\n                  margin-top: 4px;\n                  display: block;\n                }\n                &:hover {\n                  cursor: pointer;\n                  background: #FFF;\n                  color: #1B9DE8;\n                  border: 1px #76c4f1 solid;\n                }\n              }\n\n              .ol-plot-vue-selected {\n                background: #FFF;\n                color: #1B9DE8;\n                border: 1px #76c4f1 solid;\n              }\n            }\n            .qipao1 {\n              width: 40px;\n              height: 36px;\n              margin: auto;\n              margin-top: 4px;\n              font-size: 27px;\n            }\n          }\n        }\n        .plot-edit {\n          margin-top: 15px;\n          .plot-edit-color {\n            text-align: left;\n            padding: 0 0 0 15px;\n            color: #3a3a3a;\n            .stration {\n              display: inline-block;\n              position: relative;\n              top: -12px;\n              margin-right: 12px;\n            }\n            .demonstration {\n              position: relative;\n              top: 4px;\n            }\n            .span-border {\n              margin-left: 40px;\n            }\n            label {\n              display: inline-block;\n              margin: 0 15px;\n              &[for=\"plotBorderColor\"] {\n                margin-left: 70px;\n              }\n            }\n            .el-color-picker {\n              display: inline-block;\n              position: relative;\n              line-height: normal;\n              left: 20px;\n              height: 40px;\n            }\n          }\n\n          .plot-edit-text {\n            text-align: left;\n            margin: 10px 0px;\n            padding: 0 0 0 15px;\n            color: #3a3a3a;\n            .stration {\n              display: inline-block;\n              position: relative;\n              top: -12px;\n            }\n            .font-color {\n            }\n\n            .font-size {\n              margin-left: 40px;\n            }\n\n            .el-input-number--small {\n              width: 100px;\n            }\n\n            .span-border {\n              margin-left: 50px;\n            }\n            label {\n              display: inline-block;\n              margin: 0 15px;\n              &[for=\"plotBorderColor\"] {\n                margin-left: 70px;\n              }\n            }\n            .el-color-picker {\n              display: inline-block;\n              position: relative;\n              line-height: normal;\n              left: 9px;\n              height: 40px;\n            }\n          }\n\n          .min-input {\n            width: 30px;\n            height: 30px;\n            margin: 0;\n            padding: 0;\n            text-align: center;\n            border: 1px solid #e3e3e3;\n          }\n\n          .plot-edit-delete {\n            margin: 20px 0 20px;\n            padding: 0 15px;\n            color: #3a3a3a;\n            .el-button--small {\n              padding: 7px 15px;\n              font-size: 12px;\n              border-radius: 4px;\n              margin-left: 40px;\n            }\n          }\n          .plot-edit-title {\n            margin: 20px 0 10px;\n            padding: 0 15px;\n            color: #3a3a3a;\n          }\n          .plot-edit-line {\n            padding: 0 32px 0 27px;\n          }\n          .plot-view-wrap {\n            .plot-view-title {\n              font-family: 'SimSun', Arial, sans-serif;\n              font-weight: bold;\n              margin-bottom: 10px;\n              display: block;\n              padding: 0 20px;\n            }\n            .plot-view-box {\n              border: 1px dashed #E3E3E3;\n              padding: 20px;\n              text-align: center;\n              width: 280px;\n              margin: auto;\n              background-image: linear-gradient(45deg, #E3E3E3 25%, rgba(0, 0, 0, 0) 25%, rgba(0, 0, 0, 0)),\n              linear-gradient(-45deg, #E3E3E3 25%, rgba(0, 0, 0, 0) 25%, rgba(0, 0, 0, 0)),\n              linear-gradient(45deg, rgba(0, 0, 0, 0) 75%, #E3E3E3 75%),\n              linear-gradient(-45deg, rgba(0, 0, 0, 0) 75%, #E3E3E3 75%);\n              background-size: 10px 10px;\n\n              .iconfont {\n                display: table;\n                margin: auto;\n                text-align: center;\n                &:before {\n                  display: table-cell;\n                  vertical-align: middle;\n                }\n              }\n            }\n          }\n          .el-color-picker__trigger, .el-color-picker__color {\n            border-radius: 0 !important;\n          }\n          .el-color-svpanel {\n            width: 274px !important;\n          }\n          .el-slider__runway {\n            height: 2px;\n            .el-slider__bar {\n              height: 2px;\n            }\n            .el-slider__button-wrapper {\n              width: 32px;\n              height: 32px;\n              .el-slider__button {\n                width: 12px;\n                height: 12px;\n              }\n            }\n          }\n        }\n        &-scroll {\n          width: calc(100% + 30px);\n          height: 100%;\n          overflow-y: auto;\n          overflow-x: hidden;\n          &-inner {\n            width: 390px;\n          }\n        }\n      }\n    }\n    .ol-plot-vue-null-data {\n      text-align: center;\n      height: 100%;\n      line-height: 100%;\n      padding-top: 50%;\n      img {\n        display: block;\n        margin: 0 auto;\n      }\n      span {\n        margin-bottom: 8px;\n        color: #7ac2f1;\n        display: block;\n      }\n      span:nth-child(1) {\n        margin-top: 10px;\n      }\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ol-plot-vue\"},[_c('header',{staticClass:\"panel-header\"},[_c('span',{attrs:{\"title\":\"应急标绘\"}},[_vm._v(\"应急标绘\")]),_vm._v(\" \"),_c('span',{staticClass:\"iconfont icon-zuixiaohua\",on:{\"click\":function($event){_vm.minFunc()}}}),_vm._v(\" \"),_c('span',{staticClass:\"iconfont icon-guanbi\",on:{\"click\":function($event){_vm.closeFunc()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"panel-content\"},[_c('div',{ref:\"workspace\",staticClass:\"ol-plot-vue-workspace\"},[_c('div',{staticClass:\"ol-plot-vue-workspace-scroll\"},[_c('div',{staticClass:\"ol-plot-vue-workspace-scroll-inner\"},[_c('div',{staticClass:\"plot-list-wrap\"},[_c('div',{staticClass:\"plot-list\"},[_c('ul',{staticClass:\"clearfix\"},_vm._l((_vm.plots),function(tool,index){return _c('li',{key:index,staticClass:\"ol-plot-vue-header-li\",class:_vm.selected === tool.alias ? 'ol-plot-vue-selected' : '',on:{\"mouseover\":function($event){_vm.mouseOverHandle(tool)},\"mouseout\":function($event){_vm.mouseOutHandle(tool)},\"click\":function($event){_vm.changeSelectedItem(tool, index)}}},[_c('span',{style:({background: 'url(static/images/plot/' + tool.src + ((tool.mouseover || _vm.selected === tool.alias) ? '-hover' : '') + '.png) no-repeat'})}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(tool.name))])])}))])]),_vm._v(\" \"),(_vm.selected !== 'TextArea' && _vm.selected !== 'Point' && _vm.selected !== '')?_c('div',[_c('div',{staticClass:\"plot-edit\"},[_c('div',{staticClass:\"plot-edit-color\"},[_c('span',{staticClass:\"stration span-background\"},[_vm._v(\"背景色\")]),_vm._v(\" \"),_c('color-picker',{model:{value:(_vm.backgroundColor),callback:function ($$v) {_vm.backgroundColor=$$v},expression:\"backgroundColor\"}}),_vm._v(\" \"),_c('span',{staticClass:\"stration span-border\"},[_vm._v(\"边框色\")]),_vm._v(\" \"),_c('color-picker',{model:{value:(_vm.borderColor),callback:function ($$v) {_vm.borderColor=$$v},expression:\"borderColor\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"plot-edit-title\"},[_vm._v(\"边框线宽\")]),_vm._v(\" \"),_c('div',{staticClass:\"plot-edit-line\"},[_c('el-slider',{attrs:{\"min\":0,\"max\":10,\"step\":1},model:{value:(_vm.borderWidth),callback:function ($$v) {_vm.borderWidth=$$v},expression:\"borderWidth\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"plot-edit-title\"},[_vm._v(\"透明度\")]),_vm._v(\" \"),_c('div',{staticClass:\"plot-edit-line\"},[_c('el-slider',{attrs:{\"min\":0,\"max\":1,\"step\":0.1},model:{value:(_vm.opacity),callback:function ($$v) {_vm.opacity=$$v},expression:\"opacity\"}})],1)])]):(_vm.selected === 'TextArea')?_c('div',{staticClass:\"ol-plot-vue-workspace-text-control\"},[_c('div',{staticClass:\"plot-edit\"},[_c('div',{staticClass:\"plot-edit-color\"},[_c('span',{staticClass:\"stration span-background\"},[_vm._v(\"背景色\")]),_vm._v(\" \"),_c('color-picker',{attrs:{\"color-format\":'rgb'},model:{value:(_vm.textAreaBackgroundColor),callback:function ($$v) {_vm.textAreaBackgroundColor=$$v},expression:\"textAreaBackgroundColor\"}}),_vm._v(\" \"),_c('span',{staticClass:\"stration span-border\"},[_vm._v(\"边框色\")]),_vm._v(\" \"),_c('color-picker',{attrs:{\"color-format\":'rgb'},model:{value:(_vm.textAreaBorderColor),callback:function ($$v) {_vm.textAreaBorderColor=$$v},expression:\"textAreaBorderColor\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"plot-edit-text\"},[_c('span',{staticClass:\"font-color span-color\"},[_vm._v(\"字体颜色\")]),_vm._v(\" \"),_c('color-picker',{attrs:{\"color-format\":'rgb'},model:{value:(_vm.textAreaColor),callback:function ($$v) {_vm.textAreaColor=$$v},expression:\"textAreaColor\"}}),_vm._v(\" \"),_c('span',{staticClass:\"font-size span-size\"},[_vm._v(\"字体大小\")]),_vm._v(\" \"),_c('el-input-number',{attrs:{\"size\":\"small\"},model:{value:(_vm.textAreaFontSize),callback:function ($$v) {_vm.textAreaFontSize=$$v},expression:\"textAreaFontSize\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"plot-edit-title\"},[_vm._v(\"边框线宽\")]),_vm._v(\" \"),_c('div',{staticClass:\"plot-edit-line\"},[_c('el-slider',{attrs:{\"min\":0,\"max\":10,\"step\":1},model:{value:(_vm.textAreaBorderWidth),callback:function ($$v) {_vm.textAreaBorderWidth=$$v},expression:\"textAreaBorderWidth\"}})],1)])]):_vm._e()])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-abb45bb2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-abb45bb2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-abb45bb2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/index.vue\n// module id = null\n// module chunks = ","import package_ from '../package'\nimport olPlotVue from './components/index'\n\nconst components = [\n  olPlotVue\n]\n\nconst install = function (Vue, opts = {}) {\n  components.map(component => {\n    Vue.component(component.name, component)\n  })\n}\n\n/* istanbul ignore if */\nif (typeof window !== 'undefined' && window.Vue) {\n  install(window.Vue)\n}\n\nexport default {\n  version: package_.version,\n  install\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport App from './App'\nimport olPlotVue from '../src'\nimport 'openlayers/dist/ol.css'\nimport 'normalize.css'\n\nVue.config.productionTip = false\nVue.use(olPlotVue)\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./example/main.js"],"sourceRoot":""}